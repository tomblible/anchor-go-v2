{"version":"0.1.0","name":"uts_router","instructions":[{"name":"initialize","accounts":[{"name":"admin","isMut":true,"isSigner":true},{"name":"routerConfig","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"feeReceiver","type":"publicKey"}]},{"name":"configureChain","accounts":[{"name":"admin","isMut":true,"isSigner":true},{"name":"routerConfig","isMut":false,"isSigner":false},{"name":"chainConfig","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"chainId","type":"u128"},{"name":"connectorBridgePrice","type":"u64"},{"name":"tokenBridgePrice","type":"u64"},{"name":"configUpdatePrice","type":"u64"},{"name":"masterRouterAddress","type":"bytes"},{"name":"minGasLimit","type":"u64"},{"name":"paused","type":"bool"},{"name":"decimals","type":"u8"}]},{"name":"bridgeToken","accounts":[{"name":"sender","isMut":true,"isSigner":true,"docs":["The sender of the bridge transaction"]},{"name":"routerConfig","isMut":false,"isSigner":false,"docs":["Global router configuration"]},{"name":"chainConfig","isMut":false,"isSigner":false,"docs":["Destination chain configuration"]},{"name":"routerAuthority","isMut":false,"isSigner":false},{"name":"tokenMint","isMut":true,"isSigner":false,"docs":["Token mint account being bridged"]},{"name":"senderTokenAccount","isMut":true,"isSigner":false},{"name":"tokenMapping","isMut":false,"isSigner":false,"docs":["Token mapping for the destination chain"]},{"name":"tokenObject","isMut":false,"isSigner":false,"docs":["Token object that maps this mint to the UTS program"]},{"name":"photonConfig","isMut":true,"isSigner":false},{"name":"protocolInfo","isMut":true,"isSigner":false},{"name":"photonProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false,"docs":["Token program interface (SPL Token or Token2022)"]},{"name":"utsBase","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false,"docs":["System program"]},{"name":"associatedTokenProgram","isMut":false,"isSigner":false,"docs":["Associated token program"]},{"name":"feeReceiver","isMut":true,"isSigner":false}],"args":[{"name":"amount","type":"u64"},{"name":"dstChainId","type":"u128"},{"name":"receiver","type":"bytes"},{"name":"dstGasLimit","type":"u64"},{"name":"customPayload","type":"bytes"}]},{"name":"receiveBridgeMessage","accounts":[{"name":"executor","isMut":true,"isSigner":true,"docs":["Executor wallet"]},{"name":"masterAuthority","isMut":false,"isSigner":true,"docs":["Master router authority (signer)"]},{"name":"routerConfig","isMut":false,"isSigner":false,"docs":["Source chain ID must be provided as an argument"]},{"name":"chainConfig","isMut":false,"isSigner":false,"docs":["Source chain configuration"]},{"name":"routerAuthority","isMut":false,"isSigner":false},{"name":"receiver","isMut":false,"isSigner":false},{"name":"receiverTokenAccount","isMut":true,"isSigner":false},{"name":"utsBase","isMut":false,"isSigner":false},{"name":"connectorOrTokenConfig","isMut":false,"isSigner":false},{"name":"tokenMint","isMut":false,"isSigner":false},{"name":"tokenMapping","isMut":false,"isSigner":false,"docs":["The token mapping account for this token mint"]},{"name":"tokenObject","isMut":false,"isSigner":false,"docs":["The token object account for this token mint"]},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"associatedTokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"dstToken","type":"bytes"},{"name":"messageType","type":"u8"},{"name":"params","type":"bytes"},{"name":"srcChainId","type":"u128"}]},{"name":"updateRouterConfig","accounts":[{"name":"admin","isMut":false,"isSigner":true},{"name":"routerConfig","isMut":true,"isSigner":false}],"args":[{"name":"paused","type":"bool"}]},{"name":"updatePeerAddress","accounts":[{"name":"admin","isMut":false,"isSigner":true},{"name":"routerConfig","isMut":false,"isSigner":false},{"name":"chainConfig","isMut":true,"isSigner":false}],"args":[{"name":"chainId","type":"u128"},{"name":"masterRouterAddress","type":"bytes"}]},{"name":"receiveConfigUpdate","accounts":[{"name":"executor","isMut":true,"isSigner":true,"docs":["Executor wallet"]},{"name":"masterAuthority","isMut":false,"isSigner":true,"docs":["Master router authority (verified in handler)"]},{"name":"routerConfig","isMut":false,"isSigner":false,"docs":["Source chain ID must be provided as an argument"]},{"name":"chainConfig","isMut":false,"isSigner":false,"docs":["Chain config for the source chain","Will be initialized with the provided src_chain_id"]},{"name":"routerAuthority","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"messageType","type":"u8"},{"name":"params","type":"bytes"},{"name":"srcChainId","type":"u128"}]},{"name":"createTokenObject","accounts":[{"name":"deploymentRouterAuthority","isMut":false,"isSigner":true},{"name":"tokenMint","isMut":false,"isSigner":false,"docs":["The token mint to create an object for"]},{"name":"utsBaseAddress","isMut":false,"isSigner":false},{"name":"tokenObject","isMut":true,"isSigner":false,"docs":["The token object account for this token mint"]},{"name":"payer","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"originalDecimals","type":"u8"}]},{"name":"updateTokenMapping","accounts":[{"name":"deployer","isMut":true,"isSigner":true},{"name":"tokenMint","isMut":false,"isSigner":false,"docs":["The token mint to update mapping for"]},{"name":"tokenObject","isMut":false,"isSigner":false,"docs":["The token object account for this token mint"]},{"name":"chainConfig","isMut":false,"isSigner":false,"docs":["The chain configuration for the target chain"]},{"name":"tokenMapping","isMut":true,"isSigner":false,"docs":["The token mapping account to update"]},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"chainId","type":"u128"},{"name":"dstTokenAddress","type":"bytes"},{"name":"decimals","type":{"option":"u8"}}]}],"accounts":[{"name":"RouterConfig","type":{"kind":"struct","fields":[{"name":"admin","type":"publicKey"},{"name":"paused","type":"bool"},{"name":"feeReceiver","type":"publicKey"},{"name":"reserved","type":{"array":["u8",128]}}]}},{"name":"ChainConfig","type":{"kind":"struct","fields":[{"name":"chainId","type":"u128"},{"name":"masterRouterAddress","type":"bytes"},{"name":"connectorBridgePrice","type":"u64"},{"name":"tokenBridgePrice","type":"u64"},{"name":"configUpdatePrice","type":"u64"},{"name":"minGasLimit","type":"u64"},{"name":"paused","type":"bool"},{"name":"decimals","type":"u8"},{"name":"reserved","type":{"array":["u8",128]}}]}},{"name":"TokenMapping","type":{"kind":"struct","fields":[{"name":"tokenSeed","type":"bytes"},{"name":"chainId","type":"u128"},{"name":"originalChainId","type":"u128"},{"name":"dstTokenAddress","type":"bytes"},{"name":"decimals","type":{"option":"u8"}},{"name":"reserved","type":{"array":["u8",128]}}]}},{"name":"TokenObject","type":{"kind":"struct","fields":[{"name":"tokenMint","type":"publicKey"},{"name":"utsBaseAddress","type":"publicKey"},{"name":"deployer","type":{"option":"publicKey"}},{"name":"owner","type":{"option":"publicKey"}},{"name":"originalDecimals","type":"u8"},{"name":"reserved","type":{"array":["u8",128]}}]}}],"events":[{"name":"Registered","fields":[{"name":"deployment","type":"publicKey","index":false},{"name":"deployerIndexed","type":"bytes","index":false},{"name":"deployer","type":"bytes","index":false},{"name":"underlyingToken","type":"publicKey","index":false},{"name":"protocolVersion","type":{"array":["u8",2]},"index":false}]}],"errors":[{"code":6000,"name":"InvalidProtocolId","msg":"Invalid protocol id"},{"code":6001,"name":"InvalidSelector","msg":"Invalid selector"},{"code":6002,"name":"InvalidParams","msg":"Invalid params"},{"code":6003,"name":"InvalidRouter","msg":"Invalid router"},{"code":6004,"name":"InvalidMessageType","msg":"Invalid message type"},{"code":6005,"name":"InvalidChainId","msg":"Invalid chain id"},{"code":6006,"name":"ChainPaused","msg":"Chain is paused"},{"code":6007,"name":"RouterPaused","msg":"Router is paused"},{"code":6008,"name":"InsufficientGasLimit","msg":"Insufficient gas limit"},{"code":6009,"name":"InvalidAdmin","msg":"Invalid admin"},{"code":6010,"name":"InvalidPeerAddress","msg":"Invalid peer address"},{"code":6011,"name":"InvalidOrigin","msg":"Invalid origin"},{"code":6012,"name":"InvalidMasterAuthority","msg":"Invalid master authority"},{"code":6013,"name":"MissingRequiredAccounts","msg":"Missing required accounts in remaining_accounts"},{"code":6014,"name":"NotTokenDeployer","msg":"Only the token deployer can update token mappings"},{"code":6015,"name":"InvalidPhotonProgramId","msg":"Invalid Photon program ID"},{"code":6016,"name":"AdjustedAmountOverflow","msg":"Adjusted amount exceeds u64::MAX"},{"code":6017,"name":"InvalidUtsBase","msg":"Invalid UTS base"}]}