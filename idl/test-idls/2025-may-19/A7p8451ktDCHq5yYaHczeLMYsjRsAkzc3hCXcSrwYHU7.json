{"version":"0.1.0","name":"escrow_contract","instructions":[{"name":"initEscrow","accounts":[{"name":"mint","isMut":false,"isSigner":false},{"name":"metadata","isMut":true,"isSigner":false},{"name":"authRules","isMut":false,"isSigner":false,"isOptional":true},{"name":"edition","isMut":false,"isSigner":false,"isOptional":true},{"name":"seller","isMut":true,"isSigner":true},{"name":"sellerToken","isMut":true,"isSigner":false},{"name":"sellerTokenRecord","isMut":true,"isSigner":false},{"name":"escrowAuthority","isMut":false,"isSigner":false},{"name":"escrowToken","isMut":true,"isSigner":true},{"name":"escrowTokenRecord","isMut":true,"isSigner":false},{"name":"escrow","isMut":true,"isSigner":true},{"name":"salesTaxRecipient","isMut":true,"isSigner":false},{"name":"tokenMetadataProgram","isMut":false,"isSigner":false},{"name":"sysvarInstructionsProgram","isMut":false,"isSigner":false},{"name":"tokenAuthRulesProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"associatedTokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"price","type":"u64"}]},{"name":"initEscrowLegacy","accounts":[{"name":"mint","isMut":false,"isSigner":false},{"name":"metadata","isMut":true,"isSigner":false},{"name":"authRules","isMut":false,"isSigner":false,"isOptional":true},{"name":"edition","isMut":false,"isSigner":false,"isOptional":true},{"name":"seller","isMut":true,"isSigner":true},{"name":"sellerToken","isMut":true,"isSigner":false},{"name":"sellerTokenRecord","isMut":true,"isSigner":false},{"name":"escrowAuthority","isMut":false,"isSigner":false},{"name":"escrowToken","isMut":true,"isSigner":true},{"name":"escrowTokenRecord","isMut":true,"isSigner":false},{"name":"escrow","isMut":true,"isSigner":false},{"name":"salesTaxRecipient","isMut":true,"isSigner":false},{"name":"tokenMetadataProgram","isMut":false,"isSigner":false},{"name":"sysvarInstructionsProgram","isMut":false,"isSigner":false},{"name":"tokenAuthRulesProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"associatedTokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"price","type":"u64"}]},{"name":"cancel","accounts":[{"name":"mint","isMut":false,"isSigner":false},{"name":"metadata","isMut":true,"isSigner":false},{"name":"authRules","isMut":false,"isSigner":false,"isOptional":true},{"name":"edition","isMut":false,"isSigner":false,"isOptional":true},{"name":"escrowAuthority","isMut":false,"isSigner":false},{"name":"escrowToken","isMut":true,"isSigner":false},{"name":"escrowTokenRecord","isMut":true,"isSigner":false},{"name":"seller","isMut":true,"isSigner":true},{"name":"sellerToken","isMut":true,"isSigner":false},{"name":"sellerTokenRecord","isMut":true,"isSigner":false},{"name":"escrow","isMut":true,"isSigner":false},{"name":"tokenMetadataProgram","isMut":false,"isSigner":false},{"name":"sysvarInstructionsProgram","isMut":false,"isSigner":false},{"name":"tokenAuthRulesProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"associatedTokenProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"cancelLegacy","accounts":[{"name":"mint","isMut":false,"isSigner":false},{"name":"metadata","isMut":true,"isSigner":false},{"name":"authRules","isMut":false,"isSigner":false,"isOptional":true},{"name":"edition","isMut":false,"isSigner":false,"isOptional":true},{"name":"escrowAuthority","isMut":false,"isSigner":false},{"name":"escrowToken","isMut":true,"isSigner":false},{"name":"escrowTokenRecord","isMut":true,"isSigner":false},{"name":"seller","isMut":true,"isSigner":true},{"name":"sellerToken","isMut":true,"isSigner":false},{"name":"sellerTokenRecord","isMut":true,"isSigner":false},{"name":"escrow","isMut":true,"isSigner":false},{"name":"tokenMetadataProgram","isMut":false,"isSigner":false},{"name":"sysvarInstructionsProgram","isMut":false,"isSigner":false},{"name":"tokenAuthRulesProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"associatedTokenProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"buy","accounts":[{"name":"mint","isMut":false,"isSigner":false},{"name":"metadata","isMut":true,"isSigner":false},{"name":"authRules","isMut":false,"isSigner":false,"isOptional":true},{"name":"edition","isMut":false,"isSigner":false,"isOptional":true},{"name":"seller","isMut":true,"isSigner":false},{"name":"escrowAuthority","isMut":false,"isSigner":false},{"name":"escrowToken","isMut":true,"isSigner":false},{"name":"escrowTokenRecord","isMut":true,"isSigner":false},{"name":"buyer","isMut":true,"isSigner":true},{"name":"buyerToken","isMut":true,"isSigner":false},{"name":"buyerTokenRecord","isMut":true,"isSigner":false},{"name":"escrow","isMut":true,"isSigner":false},{"name":"salesTaxRecipient","isMut":true,"isSigner":false},{"name":"tokenMetadataProgram","isMut":false,"isSigner":false},{"name":"sysvarInstructionsProgram","isMut":false,"isSigner":false},{"name":"tokenAuthRulesProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"associatedTokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"price","type":"u64"}]},{"name":"buyLegacy","accounts":[{"name":"mint","isMut":false,"isSigner":false},{"name":"metadata","isMut":true,"isSigner":false},{"name":"authRules","isMut":false,"isSigner":false,"isOptional":true},{"name":"edition","isMut":false,"isSigner":false,"isOptional":true},{"name":"seller","isMut":true,"isSigner":false},{"name":"escrowAuthority","isMut":false,"isSigner":false},{"name":"escrowToken","isMut":true,"isSigner":false},{"name":"escrowTokenRecord","isMut":true,"isSigner":false},{"name":"buyer","isMut":true,"isSigner":true},{"name":"buyerToken","isMut":true,"isSigner":false},{"name":"buyerTokenRecord","isMut":true,"isSigner":false},{"name":"escrow","isMut":true,"isSigner":false},{"name":"salesTaxRecipient","isMut":true,"isSigner":false},{"name":"tokenMetadataProgram","isMut":false,"isSigner":false},{"name":"sysvarInstructionsProgram","isMut":false,"isSigner":false},{"name":"tokenAuthRulesProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"associatedTokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"price","type":"u64"}]}],"accounts":[{"name":"Escrow","type":{"kind":"struct","fields":[{"name":"seller","type":"publicKey"},{"name":"mint","type":"publicKey"},{"name":"escrowToken","type":"publicKey"},{"name":"price","type":"u64"}]}}],"errors":[{"code":6000,"name":"AmountOverflow","msg":"Amount overflow"},{"code":6001,"name":"ExpectedAmountMismatch","msg":"Expected amount mismatch"},{"code":6002,"name":"InvalidSalesTaxRecipient","msg":"Invalid sales tax recipient"},{"code":6003,"name":"InvalidTokenAmount","msg":"Invalid token amount (needs to be exactly 1)"},{"code":6004,"name":"InvalidMetadata","msg":"Invalid metadata"},{"code":6005,"name":"InvalidRoyaltyFee","msg":"Royalty percentage too high"},{"code":6006,"name":"CreatorMismatch","msg":"Creator mismatch"},{"code":6007,"name":"InvalidEscrow","msg":"Invalid escrow"},{"code":6008,"name":"InvalidEscrowTokenAccount","msg":"Invalid escrow token account"},{"code":6009,"name":"InvalidSellerTokenAccount","msg":"Invalid seller token account"},{"code":6010,"name":"InvalidBuyerTokenAccount","msg":"Invalid buyer token account"},{"code":6011,"name":"InvalidTokenRecordAccount","msg":"Invalid token record account"},{"code":6012,"name":"SameSellerAndBuyer","msg":"Seller and buyer are the same"},{"code":6013,"name":"InvalidFinalAmount","msg":"Final amount for seller is less than zero"}]}