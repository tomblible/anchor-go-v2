{"version":"0.1.0","name":"soltoons","instructions":[{"name":"houseInit","accounts":[{"name":"house","isMut":true,"isSigner":false},{"name":"authority","isMut":true,"isSigner":true},{"name":"switchboardMint","isMut":false,"isSigner":false},{"name":"switchboardQueue","isMut":true,"isSigner":false},{"name":"mint","isMut":false,"isSigner":false},{"name":"houseVault","isMut":true,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"associatedTokenProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[{"name":"params","type":{"defined":"HouseInitParams"}}]},{"name":"userInit","accounts":[{"name":"user","isMut":true,"isSigner":false},{"name":"house","isMut":false,"isSigner":false},{"name":"mint","isMut":false,"isSigner":false},{"name":"authority","isMut":true,"isSigner":true},{"name":"payer","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"associatedTokenProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[{"name":"params","type":{"defined":"UserInitParams"}}]},{"name":"userBet","accounts":[{"name":"user","isMut":true,"isSigner":false},{"name":"flipPayer","isMut":true,"isSigner":false},{"name":"house","isMut":false,"isSigner":false},{"name":"vrfHouse","isMut":false,"isSigner":false},{"name":"vrfHouseMint","isMut":false,"isSigner":false},{"name":"mint","isMut":false,"isSigner":false},{"name":"houseVault","isMut":false,"isSigner":false},{"name":"authority","isMut":true,"isSigner":true},{"name":"escrow","isMut":true,"isSigner":false},{"name":"vrf","isMut":true,"isSigner":false},{"name":"oracleQueue","isMut":true,"isSigner":false,"docs":["CHECK"]},{"name":"queueAuthority","isMut":false,"isSigner":false},{"name":"dataBuffer","isMut":true,"isSigner":false,"docs":["CHECK"]},{"name":"permission","isMut":true,"isSigner":false,"docs":["CHECK"]},{"name":"vrfEscrow","isMut":true,"isSigner":false},{"name":"switchboardProgramState","isMut":true,"isSigner":false},{"name":"switchboardProgram","isMut":false,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"vrfPayer","isMut":true,"isSigner":false},{"name":"nftMint","isMut":false,"isSigner":false},{"name":"nftTokenAccount","isMut":false,"isSigner":false},{"name":"nftMetadataAccount","isMut":false,"isSigner":false},{"name":"tokenMetadataProgram","isMut":false,"isSigner":false},{"name":"recentBlockhashes","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"params","type":{"defined":"UserBetParams"}}]},{"name":"userSettle","accounts":[{"name":"user","isMut":true,"isSigner":false},{"name":"house","isMut":true,"isSigner":false},{"name":"vrfHouse","isMut":true,"isSigner":false},{"name":"vrfHouseMint","isMut":false,"isSigner":false},{"name":"mint","isMut":false,"isSigner":false},{"name":"escrow","isMut":true,"isSigner":false},{"name":"houseVault","isMut":true,"isSigner":false},{"name":"authority","isMut":true,"isSigner":false},{"name":"vrf","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"params","type":{"defined":"UserSettleParams"}}]},{"name":"drain","accounts":[{"name":"house","isMut":true,"isSigner":false},{"name":"houseVault","isMut":true,"isSigner":false},{"name":"mint","isMut":false,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"payerTokenAccount","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"createEscrow","accounts":[{"name":"house","isMut":false,"isSigner":false},{"name":"mint","isMut":false,"isSigner":false},{"name":"authority","isMut":true,"isSigner":true},{"name":"escrow","isMut":true,"isSigner":false},{"name":"rewardAddress","isMut":true,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"recentBlockhashes","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"params","type":{"defined":"CreateEscrowParams"}}]},{"name":"collectReward","accounts":[{"name":"user","isMut":true,"isSigner":false},{"name":"house","isMut":false,"isSigner":false},{"name":"mint","isMut":false,"isSigner":false},{"name":"escrow","isMut":true,"isSigner":false},{"name":"rewardAddress","isMut":true,"isSigner":false},{"name":"authority","isMut":true,"isSigner":true},{"name":"recentBlockhashes","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"params","type":{"defined":"CollectRewardParams"}}]}],"accounts":[{"name":"HouseState","type":{"kind":"struct","fields":[{"name":"bump","type":"u8"},{"name":"authority","type":"publicKey"},{"name":"mint","type":"publicKey"},{"name":"houseVault","type":"publicKey"},{"name":"switchboardQueue","type":"publicKey"},{"name":"switchboardMint","type":"publicKey"},{"name":"ebuf","type":{"array":["u8",1024]}}]}},{"name":"UserState","type":{"kind":"struct","fields":[{"name":"bump","type":"u8"},{"name":"authority","type":"publicKey"},{"name":"house","type":"publicKey"},{"name":"currentRound","type":{"defined":"Round"}},{"name":"ebuf","type":{"array":["u8",1024]}},{"name":"history","type":{"defined":"History"}}]}}],"types":[{"name":"CollectRewardParams","type":{"kind":"struct","fields":[]}},{"name":"CreateEscrowParams","type":{"kind":"struct","fields":[]}},{"name":"HouseInitParams","type":{"kind":"struct","fields":[]}},{"name":"UserBetParams","type":{"kind":"struct","fields":[{"name":"gameType","type":"u32"},{"name":"userGuess","type":"u32"},{"name":"betAmount","type":"u64"},{"name":"vrfPermissionBump","type":"u8"},{"name":"switchboardStateBump","type":"u8"}]}},{"name":"UserInitParams","type":{"kind":"struct","fields":[]}},{"name":"UserSettleParams","type":{"kind":"struct","fields":[]}},{"name":"GameConfig","type":{"kind":"struct","fields":[{"name":"numVrfRequests","type":"u8"},{"name":"min","type":"u32"},{"name":"max","type":"u32"},{"name":"payoutMultiplier","type":"u32"}]}},{"name":"Round","type":{"kind":"struct","fields":[{"name":"roundId","type":"u128"},{"name":"status","type":{"defined":"RoundStatus"}},{"name":"betAmount","type":"u64"},{"name":"gameType","type":{"defined":"GameType"}},{"name":"gameConfig","type":{"defined":"GameConfig"}},{"name":"guess","type":"u32"},{"name":"result","type":"u32"},{"name":"requestSlot","type":"u64"},{"name":"requestTimestamp","type":"i64"},{"name":"settleSlot","type":"u64"},{"name":"settleTimestamp","type":"i64"}]}},{"name":"History","type":{"kind":"struct","fields":[{"name":"idx","type":"u32"},{"name":"max","type":"u32"},{"name":"rounds","type":{"array":[{"defined":"Round"},48]}}]}},{"name":"GameType","type":{"kind":"enum","variants":[{"name":"None"},{"name":"Claw"},{"name":"CoinFlip"}]}},{"name":"RoundStatus","type":{"kind":"enum","variants":[{"name":"None"},{"name":"Awaiting"},{"name":"Settled"}]}}],"events":[{"name":"UserBetPlaced","fields":[{"name":"roundId","type":"u128","index":false},{"name":"user","type":"publicKey","index":false},{"name":"gameType","type":{"defined":"GameType"},"index":false},{"name":"betAmount","type":"u64","index":false},{"name":"guess","type":"u32","index":false},{"name":"slot","type":"u64","index":false},{"name":"timestamp","type":"i64","index":false}]},{"name":"UserBetSettled","fields":[{"name":"roundId","type":"u128","index":false},{"name":"user","type":"publicKey","index":false},{"name":"userWon","type":"bool","index":false},{"name":"gameType","type":{"defined":"GameType"},"index":false},{"name":"betAmount","type":"u64","index":false},{"name":"escrowChange","type":"u64","index":false},{"name":"guess","type":"u32","index":false},{"name":"result","type":"u32","index":false},{"name":"slot","type":"u64","index":false},{"name":"timestamp","type":"i64","index":false}]}],"errors":[{"code":6000,"name":"EscrowMintDoesntMatchHouseMint","msg":"Escrow Mint Doesnt Match House Mint"},{"code":6001,"name":"InvalidRewardAddress","msg":"Reward Address doesnt belong to the authority/signer"},{"code":6002,"name":"EscrowMintOwnerDoesntMatchHouse","msg":"Escrow Owner is not the House"},{"code":6003,"name":"FlipPayerMintDoesntMatchHouseMint","msg":"Reward Address Mint Doesnt Match House Mint"},{"code":6004,"name":"FlipPayerOwnerDoesntMatchUser","msg":"Reward Address Owner is not the user"},{"code":6005,"name":"InvalidDrainAccount","msg":"Only Admin Can Drain Account"},{"code":6006,"name":"InvalidInitialVrfCounter","msg":"VRF Account counter should be 0 for a new lottery"},{"code":6007,"name":"InvalidVrfAuthority","msg":"VRF Account authority should be the lottery Pubkey"},{"code":6008,"name":"InvalidSwitchboardAccount","msg":"Provided account is not owned by the switchboard program"},{"code":6009,"name":"IncorrectVrfCounter","msg":"VRF counter does not match the expected round id"},{"code":6010,"name":"InvalidGameType","msg":"Failed to match the game type"},{"code":6011,"name":"CurrentRoundStillActive","msg":"Current round is still active"},{"code":6012,"name":"CurrentRoundAlreadyClosed","msg":"Current round has already settled"},{"code":6013,"name":"InvalidBet","msg":"Invalid bet"},{"code":6014,"name":"EscrowWrongMint","msg":"Escrow mint doesnt match provided mint"},{"code":6015,"name":"EscrowWrongOwner","msg":"Escrow owner isnt house account"},{"code":6016,"name":"RewardAddressWrongMint","msg":"Reward Address Mint doesnt match provided mint"},{"code":6017,"name":"RewardAddressWrongOwner","msg":"Reward Address owner isnt user wallet account"},{"code":6018,"name":"OracleQueueRequiresPermissions","msg":"Switchboard queue requires VRF permissions to request randomness"},{"code":6019,"name":"OracleQueueMismatch","msg":"VRF account belongs to the incorrect oracle queue"},{"code":6020,"name":"AirdropRequestedTooSoon","msg":"User requested an airdrop too soon"},{"code":6021,"name":"UserTokenBalanceHealthy","msg":"User has enough funds and does not require an airdrop"},{"code":6022,"name":"MaxBetAmountExceeded","msg":"Max bet exceeded"},{"code":6023,"name":"InsufficientFunds","msg":"Insufficient funds to request randomness"},{"code":6024,"name":"InsufficientTokens","msg":"Insufficient tokens to bet"},{"code":6025,"name":"InsufficientFundsToDrain","msg":"Insuffcicient funds to drain"},{"code":6026,"name":"FlipRequestedTooSoon","msg":"User can flip once every 10 seconds"},{"code":6027,"name":"RewardNotCollected","msg":"Reward Not Collected"},{"code":6028,"name":"NoRewardToCollect","msg":"No Reward available to collect"}]}