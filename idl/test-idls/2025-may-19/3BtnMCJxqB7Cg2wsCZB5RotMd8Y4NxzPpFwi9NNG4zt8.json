{"address":"3BtnMCJxqB7Cg2wsCZB5RotMd8Y4NxzPpFwi9NNG4zt8","metadata":{"name":"soycap_io","version":"0.1.0","spec":"0.1.0","description":"SoyCap.io - USDC powered affiliate programs on Solana"},"instructions":[{"name":"activate_campaign","discriminator":[17,214,3,27,91,67,44,171],"accounts":[{"name":"campaign","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,97,109,112,97,105,103,110]},{"kind":"account","path":"campaign.campaign_id","account":"Campaign"}]}},{"name":"user","writable":true,"signer":true}],"args":[]},{"name":"create_campaign","discriminator":[111,131,187,98,160,193,114,244],"accounts":[{"name":"campaign","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,97,109,112,97,105,103,110]},{"kind":"arg","path":"campaign_id"}]}},{"name":"campaign_usdc_account","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,97,109,112,97,105,103,110,95,117,115,100,99]},{"kind":"account","path":"campaign"}]}},{"name":"user","writable":true,"signer":true},{"name":"usdc_mint"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"campaign_id","type":"string"},{"name":"merchant_id","type":"string"}]},{"name":"create_conversion","discriminator":[120,28,123,9,31,138,104,59],"accounts":[{"name":"conversion","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,118,101,114,115,105,111,110]},{"kind":"arg","path":"conversion_id"}]}},{"name":"campaign","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,97,109,112,97,105,103,110]},{"kind":"account","path":"campaign.campaign_id","account":"Campaign"}]}},{"name":"referral","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,101,102,101,114,114,97,108]},{"kind":"account","path":"referral.referral_id","account":"Referral"}]}},{"name":"user","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"conversion_id","type":"string"},{"name":"referral_id","type":"string"},{"name":"campaign_id","type":"string"},{"name":"merchant_id","type":"string"},{"name":"reward","type":"u64"}]},{"name":"create_referral","discriminator":[61,17,240,245,172,66,159,232],"accounts":[{"name":"campaign","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,97,109,112,97,105,103,110]},{"kind":"account","path":"campaign.campaign_id","account":"Campaign"}]}},{"name":"referral","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,101,102,101,114,114,97,108]},{"kind":"arg","path":"referral_id"}]}},{"name":"user","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"referral_usdc_account","writable":true},{"name":"usdc_mint"}],"args":[{"name":"referral_id","type":"string"},{"name":"campaign_id","type":"string"},{"name":"merchant_id","type":"string"}]},{"name":"deposit_campaign_funds","discriminator":[5,222,244,212,149,23,203,76],"accounts":[{"name":"campaign","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,97,109,112,97,105,103,110]},{"kind":"account","path":"campaign.campaign_id","account":"Campaign"}]}},{"name":"owner","writable":true,"signer":true},{"name":"owner_usdc_account","writable":true},{"name":"campaign_usdc_account","writable":true},{"name":"usdc_mint"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"amount","type":"u64"}]},{"name":"distribute_reward","discriminator":[135,65,136,143,108,234,198,46],"accounts":[{"name":"campaign","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,97,109,112,97,105,103,110]},{"kind":"account","path":"campaign.campaign_id","account":"Campaign"}]}},{"name":"referral","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,101,102,101,114,114,97,108]},{"kind":"account","path":"referral.referral_id","account":"Referral"}]}},{"name":"conversion","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,118,101,114,115,105,111,110]},{"kind":"account","path":"conversion.conversion_id","account":"Conversion"}]}},{"name":"owner","writable":true,"signer":true},{"name":"campaign_usdc_account","writable":true},{"name":"referral_usdc_account","writable":true},{"name":"service_fee_usdc_account","writable":true},{"name":"usdc_mint"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[]},{"name":"stop_campaign","discriminator":[162,153,33,161,182,78,168,241],"accounts":[{"name":"campaign","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,97,109,112,97,105,103,110]},{"kind":"account","path":"campaign.campaign_id","account":"Campaign"}]}},{"name":"user","writable":true,"signer":true}],"args":[]},{"name":"withdraw_campaign_funds","discriminator":[169,74,69,245,79,226,98,206],"accounts":[{"name":"campaign","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,97,109,112,97,105,103,110]},{"kind":"account","path":"campaign.campaign_id","account":"Campaign"}]}},{"name":"campaign_usdc_account","writable":true},{"name":"owner_usdc_account","writable":true},{"name":"owner","writable":true,"signer":true},{"name":"usdc_mint"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"amount","type":"u64"}]}],"accounts":[{"name":"Campaign","discriminator":[50,40,49,11,157,220,229,192]},{"name":"Conversion","discriminator":[166,162,161,65,158,55,109,27]},{"name":"Referral","discriminator":[30,235,136,224,106,107,49,64]}],"errors":[{"code":6000,"name":"CampaignAlreadyExists","msg":"A campaign with this ID already exists."},{"code":6001,"name":"ReferralAlreadyExists","msg":"A referral with this ID already exists."},{"code":6002,"name":"ConversionAlreadyExists","msg":"A conversion with this ID already exists."},{"code":6003,"name":"Unauthorized","msg":"Unauthorized action."},{"code":6004,"name":"InvalidWithdrawalAmount","msg":"Can't withdraw more than [balance - pending rewards] amount from campaign."},{"code":6005,"name":"InsufficientBalance","msg":"Can't distribute reward. Insufficient campaign USDC balance."},{"code":6006,"name":"CampaignIsNotActive","msg":"Campaign is not active."},{"code":6007,"name":"ReferralNotInCampaign","msg":"Referral doesn't registered for campaign."},{"code":6008,"name":"RewardAlreadyPaid","msg":"Reward is already paid for conversion."},{"code":6009,"name":"InvalidUSDCAccount","msg":"Invalid USDC Account"},{"code":6010,"name":"InvalidServiceFeeAccount","msg":"Invalid Service Fee Account"}],"types":[{"name":"Campaign","type":{"kind":"struct","fields":[{"name":"campaign_id","type":"string"},{"name":"merchant_id","type":"string"},{"name":"owner","type":"pubkey"},{"name":"balance_usdc","type":"u64"},{"name":"total_deposited_usdc","type":"u64"},{"name":"rewards_pending_usdc","type":"u64"},{"name":"rewards_paid_usdc","type":"u64"},{"name":"service_fee_pending_usdc","type":"u64"},{"name":"service_fee_paid_usdc","type":"u64"},{"name":"conversions_pending","type":"u64"},{"name":"conversions_paid","type":"u64"},{"name":"referrals","type":"u64"},{"name":"status","type":"u8"},{"name":"usdc_account","type":"pubkey"}]}},{"name":"Conversion","type":{"kind":"struct","fields":[{"name":"conversion_id","type":"string"},{"name":"referral_id","type":"string"},{"name":"campaign_id","type":"string"},{"name":"merchant_id","type":"string"},{"name":"owner","type":"pubkey"},{"name":"rewards_pending_usdc","type":"u64"},{"name":"rewards_paid_usdc","type":"u64"},{"name":"service_fee_pending_usdc","type":"u64"},{"name":"service_fee_paid_usdc","type":"u64"},{"name":"status","type":"u8"}]}},{"name":"Referral","type":{"kind":"struct","fields":[{"name":"referral_id","type":"string"},{"name":"campaign_id","type":"string"},{"name":"merchant_id","type":"string"},{"name":"owner","type":"pubkey"},{"name":"usdc_account","type":"pubkey"},{"name":"conversions_pending","type":"u64"},{"name":"conversions_paid","type":"u64"},{"name":"rewards_pending_usdc","type":"u64"},{"name":"rewards_paid_usdc","type":"u64"},{"name":"service_fee_pending_usdc","type":"u64"},{"name":"service_fee_paid_usdc","type":"u64"}]}}],"constants":[{"name":"SERVICE_FEE_PERCENT","type":"u64","value":"5"},{"name":"SERVICE_FEE_USDC_ACCOUNT","type":"pubkey","value":"GARPMHFo6cMtaDvwkBxMqBbTzWaq4JreDPEYh533EzaC"}]}