{"address":"fanCjX4iwbn41FSuZSvoSdro2XjUKuWyZFbegnqtmTX","metadata":{"name":"wallet_fanout","version":"0.1.2","spec":"0.1.0","description":"Created with Anchor"},"instructions":[{"name":"claim_v0","discriminator":[201,15,24,84,22,121,50,251],"accounts":[{"name":"fanout","relations":["voucher"]},{"name":"cron_job","writable":true,"relations":["fanout"]},{"name":"cron_job_transaction","writable":true},{"name":"queue_authority","pda":{"seeds":[{"kind":"const","value":[113,117,101,117,101,95,97,117,116,104,111,114,105,116,121]}]}},{"name":"token_inflow","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,111,107,101,110,95,105,110,102,108,111,119]},{"kind":"account","path":"fanout"},{"kind":"account","path":"mint"}]}},{"name":"voucher","writable":true},{"name":"wallet_share","relations":["voucher"]},{"name":"wallet","relations":["voucher"]},{"name":"mint","relations":["voucher"]},{"name":"fanout_token_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"fanout"},{"kind":"const","value":[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{"kind":"account","path":"mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"receiver_token_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"wallet"},{"kind":"const","value":[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{"kind":"account","path":"mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"cron_program","address":"cronAjRZnJn3MTP3B9kE62NWDrjSuAPVXf9c4hu4grM"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[]},{"name":"close_fanout_v0","discriminator":[212,220,171,188,155,157,20,229],"accounts":[{"name":"fanout","writable":true},{"name":"authority","signer":true,"relations":["fanout"]},{"name":"cron_job","writable":true,"relations":["fanout"]},{"name":"queue_authority","pda":{"seeds":[{"kind":"const","value":[113,117,101,117,101,95,97,117,116,104,111,114,105,116,121]}]}},{"name":"user_cron_jobs","writable":true},{"name":"cron_job_name_mapping","writable":true},{"name":"task_return_account_1","writable":true},{"name":"task_return_account_2","writable":true},{"name":"cron_program","address":"cronAjRZnJn3MTP3B9kE62NWDrjSuAPVXf9c4hu4grM"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[]},{"name":"close_token_inflow_v0","discriminator":[133,108,28,20,24,60,192,197],"accounts":[{"name":"fanout","writable":true,"relations":["token_inflow"]},{"name":"authority","writable":true,"signer":true,"relations":["fanout"]},{"name":"token_inflow","writable":true},{"name":"mint","relations":["token_inflow"]},{"name":"fanout_token_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"fanout"},{"kind":"const","value":[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{"kind":"account","path":"mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"authority_token_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"authority"},{"kind":"const","value":[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{"kind":"account","path":"mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"rent_refund","writable":true,"relations":["token_inflow"]},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[]},{"name":"close_voucher_v0","discriminator":[171,242,101,75,186,219,55,71],"accounts":[{"name":"fanout","writable":true,"relations":["voucher"]},{"name":"authority","signer":true,"relations":["fanout"]},{"name":"token_inflow","writable":true},{"name":"fanout_token_account","pda":{"seeds":[{"kind":"account","path":"fanout"},{"kind":"const","value":[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{"kind":"account","path":"token_inflow.mint","account":"TokenInflowV0"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"voucher","writable":true},{"name":"wallet_share","relations":["voucher"]},{"name":"rent_refund","writable":true,"relations":["voucher"]},{"name":"cron_job","writable":true,"relations":["fanout"]},{"name":"cron_job_transaction","writable":true},{"name":"queue_authority","pda":{"seeds":[{"kind":"const","value":[113,117,101,117,101,95,97,117,116,104,111,114,105,116,121]}]}},{"name":"payer","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"cron_program","address":"cronAjRZnJn3MTP3B9kE62NWDrjSuAPVXf9c4hu4grM"}],"args":[]},{"name":"close_wallet_share_v0","discriminator":[188,112,151,197,110,113,214,161],"accounts":[{"name":"fanout","writable":true,"relations":["wallet_share"]},{"name":"authority","signer":true,"relations":["fanout"]},{"name":"wallet_share","writable":true},{"name":"rent_refund","writable":true,"relations":["wallet_share"]}],"args":[]},{"name":"initialize_fanout_v0","discriminator":[244,155,154,165,235,127,44,187],"accounts":[{"name":"payer","writable":true,"signer":true},{"name":"authority"},{"name":"fanout","writable":true},{"name":"global_state","pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,95,115,116,97,116,101]}]}},{"name":"task_queue","writable":true,"relations":["global_state"]},{"name":"task_queue_authority","pda":{"seeds":[{"kind":"const","value":[116,97,115,107,95,113,117,101,117,101,95,97,117,116,104,111,114,105,116,121]},{"kind":"account","path":"task_queue"},{"kind":"account","path":"queue_authority"}],"program":{"kind":"const","value":[13,76,70,9,57,241,194,170,222,60,41,201,147,62,217,203,139,89,45,87,176,98,76,21,182,104,119,57,144,219,43,21]}}},{"name":"queue_authority","pda":{"seeds":[{"kind":"const","value":[113,117,101,117,101,95,97,117,116,104,111,114,105,116,121]}]}},{"name":"user_cron_jobs","writable":true},{"name":"cron_job","writable":true},{"name":"cron_job_name_mapping","writable":true},{"name":"task","writable":true},{"name":"task_return_account_1","writable":true},{"name":"task_return_account_2","writable":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"tuktuk_program","address":"tuktukUrfhXT6ZT77QTU8RQtvgL967uRuVagWF57zVA"},{"name":"cron_program","address":"cronAjRZnJn3MTP3B9kE62NWDrjSuAPVXf9c4hu4grM"}],"args":[{"name":"args","type":{"defined":{"name":"InitializeFanoutV0Args"}}}]},{"name":"initialize_global_state_v0","discriminator":[94,71,116,220,50,8,184,218],"accounts":[{"name":"payer","writable":true,"signer":true},{"name":"global_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,95,115,116,97,116,101]}]}},{"name":"queue_authority","pda":{"seeds":[{"kind":"const","value":[113,117,101,117,101,95,97,117,116,104,111,114,105,116,121]}]}},{"name":"task_queue","writable":true},{"name":"task_queue_authority","pda":{"seeds":[{"kind":"const","value":[116,97,115,107,95,113,117,101,117,101,95,97,117,116,104,111,114,105,116,121]},{"kind":"account","path":"task_queue"},{"kind":"account","path":"queue_authority"}],"program":{"kind":"const","value":[13,76,70,9,57,241,194,170,222,60,41,201,147,62,217,203,139,89,45,87,176,98,76,21,182,104,119,57,144,219,43,21]}}},{"name":"authority"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[]},{"name":"initialize_voucher_v0","discriminator":[82,83,45,49,123,251,229,243],"accounts":[{"name":"payer","writable":true,"signer":true},{"name":"fanout","writable":true,"relations":["wallet_share"]},{"name":"token_inflow","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,111,107,101,110,95,105,110,102,108,111,119]},{"kind":"account","path":"fanout"},{"kind":"account","path":"mint"}]}},{"name":"fanout_token_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"fanout"},{"kind":"const","value":[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{"kind":"account","path":"mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"voucher","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,111,117,99,104,101,114]},{"kind":"account","path":"fanout"},{"kind":"account","path":"mint"},{"kind":"account","path":"wallet_share"}]}},{"name":"wallet_share"},{"name":"mint"},{"name":"authority","pda":{"seeds":[{"kind":"const","value":[113,117,101,117,101,95,97,117,116,104,111,114,105,116,121]}]},"relations":["cron_job"]},{"name":"cron_job","writable":true,"relations":["fanout"]},{"name":"cron_job_transaction","writable":true},{"name":"cron_program","address":"cronAjRZnJn3MTP3B9kE62NWDrjSuAPVXf9c4hu4grM"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}],"args":[]},{"name":"requeue_fanout_task_v0","discriminator":[151,91,131,140,175,97,197,83],"accounts":[{"name":"payer","writable":true,"signer":true},{"name":"global_state"},{"name":"fanout"},{"name":"task_queue","writable":true,"relations":["global_state"]},{"name":"task_queue_authority","pda":{"seeds":[{"kind":"const","value":[116,97,115,107,95,113,117,101,117,101,95,97,117,116,104,111,114,105,116,121]},{"kind":"account","path":"task_queue"},{"kind":"account","path":"queue_authority"}],"program":{"kind":"const","value":[13,76,70,9,57,241,194,170,222,60,41,201,147,62,217,203,139,89,45,87,176,98,76,21,182,104,119,57,144,219,43,21]}}},{"name":"queue_authority","pda":{"seeds":[{"kind":"const","value":[113,117,101,117,101,95,97,117,116,104,111,114,105,116,121]}]}},{"name":"cron_job","relations":["fanout"]},{"name":"task","writable":true},{"name":"task_return_account_1","writable":true},{"name":"task_return_account_2","writable":true},{"name":"tuktuk_program","address":"tuktukUrfhXT6ZT77QTU8RQtvgL967uRuVagWF57zVA"},{"name":"cron_program","address":"cronAjRZnJn3MTP3B9kE62NWDrjSuAPVXf9c4hu4grM"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"args","type":{"defined":{"name":"RequeueFanoutTaskArgsV0"}}}]},{"name":"update_wallet_share_v0","discriminator":[127,247,213,241,1,128,14,102],"accounts":[{"name":"payer","writable":true,"signer":true},{"name":"authority","signer":true,"relations":["fanout"]},{"name":"wallet"},{"name":"fanout","writable":true},{"name":"wallet_share","writable":true,"pda":{"seeds":[{"kind":"const","value":[119,97,108,108,101,116,95,115,104,97,114,101]},{"kind":"account","path":"fanout"},{"kind":"arg","path":"args.index"}]}},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"args","type":{"defined":{"name":"UpdateWalletShareV0Args"}}}]}],"accounts":[{"name":"CronJobTransactionV0","discriminator":[117,255,57,94,180,229,113,39]},{"name":"CronJobV0","discriminator":[69,161,189,23,250,59,67,157]},{"name":"FanoutV0","discriminator":[168,206,132,204,8,34,176,119]},{"name":"GlobalStateV0","discriminator":[107,41,172,178,194,137,198,135]},{"name":"TaskQueueAuthorityV0","discriminator":[206,37,171,34,162,191,47,50]},{"name":"TaskQueueV0","discriminator":[150,24,232,159,105,32,161,17]},{"name":"TokenInflowV0","discriminator":[39,51,142,77,110,131,210,178]},{"name":"VoucherV0","discriminator":[237,61,44,58,178,154,121,198]},{"name":"WalletShareV0","discriminator":[213,238,130,69,233,76,13,249]}],"errors":[{"code":6000,"name":"ArithmeticError","msg":"Error in arithmetic"},{"code":6001,"name":"InvalidDataIncrease","msg":"Invalid data increase"},{"code":6002,"name":"RewardsNotClaimed","msg":"Rewards not claimed"},{"code":6003,"name":"CannotCloseFanoutWithInflows","msg":"Cannot close fanout with active inflows"},{"code":6004,"name":"TotalSharesExceeded","msg":"Total shares issued exceeded total shares"}],"types":[{"name":"CompiledInstructionV0","type":{"kind":"struct","fields":[{"name":"program_id_index","type":"u8"},{"name":"accounts","type":"bytes"},{"name":"data","type":"bytes"}]}},{"name":"CompiledTransactionV0","type":{"kind":"struct","fields":[{"name":"num_rw_signers","type":"u8"},{"name":"num_ro_signers","type":"u8"},{"name":"num_rw","type":"u8"},{"name":"accounts","type":{"vec":"pubkey"}},{"name":"instructions","type":{"vec":{"defined":{"name":"CompiledInstructionV0"}}}},{"name":"signer_seeds","type":{"vec":{"vec":"bytes"}}}]}},{"name":"CronJobTransactionV0","type":{"kind":"struct","fields":[{"name":"id","type":"u32"},{"name":"cron_job","type":"pubkey"},{"name":"transaction","type":{"defined":{"name":"TransactionSourceV0"}}},{"name":"bump_seed","type":"u8"}]}},{"name":"CronJobV0","type":{"kind":"struct","fields":[{"name":"id","type":"u32"},{"name":"user_cron_jobs","type":"pubkey"},{"name":"task_queue","type":"pubkey"},{"name":"authority","type":"pubkey"},{"name":"free_tasks_per_transaction","type":"u8"},{"name":"num_tasks_per_queue_call","type":"u8"},{"name":"schedule","type":"string"},{"name":"name","type":"string"},{"name":"current_exec_ts","type":"i64"},{"name":"current_transaction_id","type":"u32"},{"name":"num_transactions","type":"u32"},{"name":"next_transaction_id","type":"u32"},{"name":"removed_from_queue","type":"bool"},{"name":"bump_seed","type":"u8"},{"name":"next_schedule_task","type":"pubkey"}]}},{"name":"FanoutV0","type":{"kind":"struct","fields":[{"name":"authority","docs":["The authority that can modify the fanout configuration"],"type":"pubkey"},{"name":"cron_job","type":"pubkey"},{"name":"total_inflow","docs":["Total SOL that has flowed into this fanout"],"type":"u64"},{"name":"last_snapshot_amount","docs":["Last snapshotted amount for calculating distributions"],"type":"u64"},{"name":"total_shares","docs":["Total shares across all members"],"type":"u32"},{"name":"total_shares_issued","docs":["Total shares issued to wallets"],"type":"u32"},{"name":"next_share_id","type":"u32"},{"name":"next_cron_transaction_id","type":"u32"},{"name":"bump","docs":["Bump seed for PDA derivation"],"type":"u8"},{"name":"name","docs":["Name of the fanout for identification"],"type":"string"},{"name":"available_cron_transaction_ids","docs":["Available cron transaction indexes that can be reused"],"type":{"vec":"u32"}},{"name":"queue_authority_bump","docs":["Bump seed for queue authority PDA derivation"],"type":"u8"},{"name":"num_inflows","docs":["Number of active token inflows for this fanout"],"type":"u32"}]}},{"name":"GlobalStateV0","type":{"kind":"struct","fields":[{"name":"authority","type":"pubkey"},{"name":"task_queue","type":"pubkey"},{"name":"bump","type":"u8"}]}},{"name":"InitializeFanoutV0Args","type":{"kind":"struct","fields":[{"name":"name","type":"string"},{"name":"schedule","type":"string"},{"name":"total_shares","type":"u32"}]}},{"name":"RequeueFanoutTaskArgsV0","type":{"kind":"struct","fields":[{"name":"task_id","type":"u16"}]}},{"name":"TaskQueueAuthorityV0","type":{"kind":"struct","fields":[{"name":"task_queue","type":"pubkey"},{"name":"queue_authority","type":"pubkey"},{"name":"bump_seed","type":"u8"}]}},{"name":"TaskQueueV0","type":{"kind":"struct","fields":[{"name":"tuktuk_config","type":"pubkey"},{"name":"id","type":"u32"},{"name":"update_authority","type":"pubkey"},{"name":"reserved","type":"pubkey"},{"name":"min_crank_reward","type":"u64"},{"name":"uncollected_protocol_fees","type":"u64"},{"name":"capacity","type":"u16"},{"name":"created_at","type":"i64"},{"name":"updated_at","type":"i64"},{"name":"bump_seed","type":"u8"},{"name":"task_bitmap","type":"bytes"},{"name":"name","type":"string"},{"name":"lookup_tables","type":{"vec":"pubkey"}},{"name":"num_queue_authorities","type":"u16"},{"name":"stale_task_age","type":"u32"}]}},{"name":"TokenInflowV0","type":{"kind":"struct","fields":[{"name":"fanout","docs":["The fanout this inflow belongs to"],"type":"pubkey"},{"name":"mint","docs":["The mint of the token being tracked"],"type":"pubkey"},{"name":"total_inflow","docs":["Total amount of tokens that have flowed into this fanout"],"type":"u64"},{"name":"last_snapshot_amount","docs":["Last snapshotted amount for calculating distributions"],"type":"u64"},{"name":"bump","type":"u8"},{"name":"rent_refund","docs":["The account that will receive rent when this account is closed"],"type":"pubkey"},{"name":"num_vouchers","docs":["Number of active vouchers for this token inflow"],"type":"u32"}]}},{"name":"TransactionSourceV0","type":{"kind":"enum","variants":[{"name":"CompiledV0","fields":[{"defined":{"name":"CompiledTransactionV0"}}]},{"name":"RemoteV0","fields":[{"name":"url","type":"string"},{"name":"signer","type":"pubkey"}]}]}},{"name":"UpdateWalletShareV0Args","type":{"kind":"struct","fields":[{"name":"shares","type":"u32"},{"name":"index","type":"u32"}]}},{"name":"VoucherV0","type":{"kind":"struct","fields":[{"name":"wallet_share","docs":["The wallet share this voucher belongs to"],"type":"pubkey"},{"name":"wallet","docs":["The wallet that can claim this voucher"],"type":"pubkey"},{"name":"cron_transaction_id","type":"u32"},{"name":"fanout","docs":["The fanout this voucher belongs to"],"type":"pubkey"},{"name":"mint","docs":["The token mint this voucher is for (None/zero for SOL)"],"type":"pubkey"},{"name":"last_claimed_inflow","type":"u64"},{"name":"total_dust","type":"u64"},{"name":"shares","docs":["The number of shares at the time this voucher was created or last claimed"],"type":"u32"},{"name":"rent_refund","docs":["The account that will receive rent when this account is closed"],"type":"pubkey"}]}},{"name":"WalletShareV0","type":{"kind":"struct","fields":[{"name":"fanout","docs":["The fanout this share belongs to"],"type":"pubkey"},{"name":"id","type":"u32"},{"name":"wallet","docs":["The wallet that owns these shares"],"type":"pubkey"},{"name":"shares","docs":["Number of shares allocated to this wallet"],"type":"u32"},{"name":"rent_refund","docs":["The account that will receive rent when this account is closed"],"type":"pubkey"}]}}]}