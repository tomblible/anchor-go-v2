{"version":"0.1.0","name":"chest","instructions":[{"name":"initChest","accounts":[{"name":"chest","isMut":true,"isSigner":false},{"name":"coin","isMut":false,"isSigner":false},{"name":"chestCoinReserve","isMut":false,"isSigner":false},{"name":"chestAssetReserve","isMut":false,"isSigner":false},{"name":"driftSpotMarket","isMut":false,"isSigner":false},{"name":"driftVault","isMut":false,"isSigner":false},{"name":"driftVaultDepositor","isMut":false,"isSigner":false},{"name":"authority","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"issue","accounts":[{"name":"chest","isMut":true,"isSigner":false},{"name":"coin","isMut":true,"isSigner":false},{"name":"asset","isMut":false,"isSigner":false},{"name":"chestAssetReserve","isMut":true,"isSigner":false},{"name":"driftVault","isMut":true,"isSigner":false},{"name":"driftVaultDepositor","isMut":true,"isSigner":false},{"name":"driftVaultTokenAccount","isMut":true,"isSigner":false},{"name":"driftUser","isMut":true,"isSigner":false},{"name":"driftUserStats","isMut":true,"isSigner":false},{"name":"driftSpotMarket","isMut":true,"isSigner":false},{"name":"driftSpotMarketVault","isMut":true,"isSigner":false},{"name":"driftState","isMut":true,"isSigner":false},{"name":"userAssetTokenAccount","isMut":true,"isSigner":false},{"name":"userCoinTokenAccount","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":true},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"driftProgram","isMut":false,"isSigner":false},{"name":"driftVaultsProgram","isMut":false,"isSigner":false}],"args":[{"name":"args","type":{"defined":"IssueArgs"}}]},{"name":"createRedemptionRequest","accounts":[{"name":"chest","isMut":true,"isSigner":false},{"name":"coin","isMut":false,"isSigner":false},{"name":"redemptionRequest","isMut":true,"isSigner":false},{"name":"chestCoinReserve","isMut":true,"isSigner":false},{"name":"redeemerCoinTokenAccount","isMut":true,"isSigner":false},{"name":"assetDestination","isMut":false,"isSigner":false},{"name":"redeemer","isMut":true,"isSigner":true},{"name":"payer","isMut":true,"isSigner":true},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"args","type":{"defined":"CreateRedemptionRequestArgs"}}]},{"name":"beginRedemption","accounts":[{"name":"chest","isMut":true,"isSigner":false},{"name":"coin","isMut":true,"isSigner":false},{"name":"driftVault","isMut":true,"isSigner":false},{"name":"driftVaultDepositor","isMut":true,"isSigner":false},{"name":"driftUser","isMut":true,"isSigner":false},{"name":"driftUserStats","isMut":true,"isSigner":false},{"name":"driftSpotMarket","isMut":true,"isSigner":false},{"name":"driftState","isMut":true,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"driftVaultsProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"completeRedemption","accounts":[{"name":"chest","isMut":true,"isSigner":false},{"name":"asset","isMut":false,"isSigner":false},{"name":"chestAssetReserve","isMut":true,"isSigner":false},{"name":"driftVault","isMut":true,"isSigner":false},{"name":"driftSigner","isMut":true,"isSigner":false},{"name":"driftUser","isMut":true,"isSigner":false},{"name":"driftUserStats","isMut":true,"isSigner":false},{"name":"driftSpotMarket","isMut":true,"isSigner":false},{"name":"driftSpotMarketVault","isMut":true,"isSigner":false},{"name":"driftState","isMut":true,"isSigner":false},{"name":"driftVaultDepositor","isMut":true,"isSigner":false},{"name":"driftVaultTokenAccount","isMut":true,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"driftProgram","isMut":false,"isSigner":false},{"name":"driftVaultsProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"claimAsset","accounts":[{"name":"chest","isMut":true,"isSigner":false},{"name":"coin","isMut":true,"isSigner":false},{"name":"asset","isMut":false,"isSigner":false},{"name":"chestCoinReserve","isMut":true,"isSigner":false},{"name":"chestAssetReserve","isMut":true,"isSigner":false},{"name":"redemptionRequest","isMut":true,"isSigner":false},{"name":"redeemer","isMut":true,"isSigner":false},{"name":"assetDestination","isMut":true,"isSigner":false},{"name":"driftVault","isMut":false,"isSigner":false},{"name":"driftVaultDepositor","isMut":true,"isSigner":false},{"name":"driftUser","isMut":false,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"getAssetBalance","accounts":[{"name":"chest","isMut":false,"isSigner":false},{"name":"coin","isMut":false,"isSigner":false},{"name":"coinTokenAccount","isMut":false,"isSigner":false},{"name":"driftVault","isMut":false,"isSigner":false},{"name":"driftVaultDepositor","isMut":false,"isSigner":false},{"name":"driftUser","isMut":false,"isSigner":false}],"args":[],"returns":"u64"},{"name":"migrateChestAccount","accounts":[{"name":"chest","isMut":true,"isSigner":false},{"name":"authority","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"updateChestManager","accounts":[{"name":"chest","isMut":true,"isSigner":false},{"name":"authority","isMut":true,"isSigner":true}],"args":[{"name":"args","type":{"defined":"UpdateChestManagerArgs"}}]},{"name":"pauseChest","accounts":[{"name":"chest","isMut":true,"isSigner":false},{"name":"authority","isMut":true,"isSigner":true}],"args":[{"name":"args","type":{"defined":"PauseChestArgs"}}]}],"accounts":[{"name":"OldChest","type":{"kind":"struct","fields":[{"name":"authority","type":"publicKey"},{"name":"coin","type":"publicKey"},{"name":"coinReserve","type":"publicKey"},{"name":"asset","type":"publicKey"},{"name":"assetReserve","type":"publicKey"},{"name":"driftVault","type":"publicKey"},{"name":"driftVaultDepositor","type":"publicKey"},{"name":"driftSpotMarketIndex","type":"u16"},{"name":"redemptionRequestLowWatermark","type":"u64"},{"name":"redemptionRequestHighWatermark","type":"u64"},{"name":"coinPendingRedemption","type":"u64"},{"name":"redemptionStatus","type":{"defined":"RedemptionStatus"}}]}},{"name":"Chest","type":{"kind":"struct","fields":[{"name":"authority","type":"publicKey"},{"name":"coin","type":"publicKey"},{"name":"coinReserve","type":"publicKey"},{"name":"asset","type":"publicKey"},{"name":"assetReserve","type":"publicKey"},{"name":"driftVault","type":"publicKey"},{"name":"driftVaultDepositor","type":"publicKey"},{"name":"driftSpotMarketIndex","type":"u16"},{"name":"redemptionRequestLowWatermark","type":"u64"},{"name":"redemptionRequestHighWatermark","type":"u64"},{"name":"coinPendingRedemption","type":"u64"},{"name":"redemptionStatus","type":{"defined":"RedemptionStatus"}},{"name":"manager","type":{"option":"publicKey"}},{"name":"paused","type":"bool"}]}},{"name":"RedemptionRequest","type":{"kind":"struct","fields":[{"name":"chest","type":"publicKey"},{"name":"redeemer","type":"publicKey"},{"name":"assetDestination","type":"publicKey"},{"name":"payer","type":"publicKey"},{"name":"coinAmount","type":"u64"},{"name":"requestIndex","type":"u64"}]}}],"types":[{"name":"CreateRedemptionRequestArgs","type":{"kind":"struct","fields":[{"name":"amount","type":"u64"}]}},{"name":"IssueArgs","type":{"kind":"struct","fields":[{"name":"amount","type":"u64"}]}},{"name":"PauseChestArgs","type":{"kind":"struct","fields":[{"name":"paused","type":"bool"}]}},{"name":"UpdateChestManagerArgs","type":{"kind":"struct","fields":[{"name":"newManager","type":{"option":"publicKey"}}]}},{"name":"RedemptionStatus","type":{"kind":"enum","variants":[{"name":"Open"},{"name":"InProgress","fields":[{"name":"redemption_request_high_watermark","type":"u64"},{"name":"total_coins_to_redeem","type":"u64"},{"name":"total_asset_owed","type":{"option":"u64"}}]}]}}],"events":[{"name":"IssueEvent","fields":[{"name":"chestEquityPreIssue","type":"u64","index":false},{"name":"chestEquityPostIssue","type":"u64","index":false},{"name":"coinSupplyPreIssue","type":"u64","index":false},{"name":"coinSupplyPostIssue","type":"u64","index":false},{"name":"coinsOwed","type":"u64","index":false},{"name":"assetAmount","type":"u64","index":false}]},{"name":"CreateRedemptionRequestEvent","fields":[{"name":"coinAmount","type":"u64","index":false},{"name":"coinPendingRedemption","type":"u64","index":false},{"name":"redeemer","type":"publicKey","index":false},{"name":"assetDestination","type":"publicKey","index":false},{"name":"requestIndex","type":"u64","index":false}]},{"name":"BeginRedemptionEvent","fields":[{"name":"chestEquity","type":"u64","index":false},{"name":"assetOwed","type":"u64","index":false},{"name":"coinSupply","type":"u64","index":false},{"name":"redemptionStatus","type":{"defined":"RedemptionStatus"},"index":false}]},{"name":"CompleteRedemptionEvent","fields":[{"name":"assetWithdrawAmount","type":"u64","index":false}]},{"name":"ClaimAssetEvent","fields":[{"name":"redeemer","type":"publicKey","index":false},{"name":"chestEquityPreClaim","type":"u64","index":false},{"name":"chestEquityPostClaim","type":"u64","index":false},{"name":"chestAssetReserveAmountPreClaim","type":"u64","index":false},{"name":"chestAssetReserveAmountPostClaim","type":"u64","index":false},{"name":"coinSupplyPreClaim","type":"u64","index":false},{"name":"coinSupplyPostClaim","type":"u64","index":false},{"name":"totalCoinsToRedeem","type":"u64","index":false},{"name":"totalAssetOwed","type":"u64","index":false},{"name":"redemptionProportion","type":"u128","index":false},{"name":"assetOwed","type":"u64","index":false},{"name":"coinAmount","type":"u64","index":false},{"name":"redemptionsRemaining","type":"u64","index":false}]}],"errors":[{"code":6000,"name":"InvalidTokenAmount","msg":"Invalid Token Amount"},{"code":6001,"name":"InvalidDriftVaultDepositor","msg":"Invalid Drift Vault Depositor"},{"code":6002,"name":"MathError","msg":"Math Error"},{"code":6003,"name":"InvalidRedemptionStatus","msg":"Invalid Redemption Status"},{"code":6004,"name":"MigrationError","msg":"Migration Error"},{"code":6005,"name":"InvalidDriftVault","msg":"Invalid Drift Vault Config"},{"code":6006,"name":"ManagerOnly","msg":"Manager Only"},{"code":6007,"name":"Paused","msg":"Chest Paused"}]}