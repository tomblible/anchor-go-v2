{"address":"tiPRjowviWQK3CE9CG5Yd3rUNktUpcBBjuuZiviPMUa","metadata":{"name":"stryktipset","version":"0.1.0","spec":"0.1.0","description":"Created with Anchor"},"instructions":[{"name":"adjust_commission_rate","discriminator":[95,243,31,177,147,20,45,108],"accounts":[{"name":"referral_manager","writable":true},{"name":"management"},{"name":"authority","signer":true}],"args":[{"name":"rate","type":"u8"}]},{"name":"create_game","discriminator":[124,69,75,66,184,220,72,206],"accounts":[{"name":"game_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,97,109,101,95,115,116,97,116,101]},{"kind":"arg","path":"game_id"}]}},{"name":"game_state_vault","writable":true},{"name":"authority","writable":true,"signer":true},{"name":"management"},{"name":"payment_token_mint"},{"name":"game_state_vault_payment_token","writable":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}],"args":[{"name":"game_id","type":"string"},{"name":"opens_at","type":"i64"},{"name":"closes_at","type":"i64"}]},{"name":"distribute_winnings","discriminator":[208,254,127,148,78,104,249,250],"accounts":[{"name":"game_state","writable":true},{"name":"game_state_vault"},{"name":"game_state_vault_payment_token","writable":true},{"name":"user_bet_manager"},{"name":"user_bet_manager_payment_token_account","writable":true},{"name":"user_bet","writable":true},{"name":"user_bet_owner"},{"name":"jackpot","writable":true},{"name":"jackpot_vault"},{"name":"jackpot_vault_payment_token_account","writable":true},{"name":"payment_token_mint"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[]},{"name":"finalize_game","discriminator":[203,227,3,167,186,102,76,10],"accounts":[{"name":"game_state","writable":true},{"name":"management"},{"name":"authority","signer":true}],"args":[]},{"name":"initialize","discriminator":[175,175,109,31,13,152,155,237],"accounts":[{"name":"management","writable":true,"pda":{"seeds":[{"kind":"const","value":[109,97,110,97,103,101,109,101,110,116]}]}},{"name":"jackpot","writable":true,"pda":{"seeds":[{"kind":"const","value":[106,97,99,107,112,111,116]}]}},{"name":"jackpot_payment_token","writable":true},{"name":"jackpot_vault_pda"},{"name":"payment_token_mint"},{"name":"treasury_payment_token","writable":true},{"name":"treasury_wallet"},{"name":"authority","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}],"args":[{"name":"bump","type":"u8"},{"name":"emitter_address","type":"string"},{"name":"emitter_chain","type":"u16"}]},{"name":"initialize_bet_manager","discriminator":[129,134,146,178,132,128,45,165],"accounts":[{"name":"bet_manager","writable":true,"pda":{"seeds":[{"kind":"const","value":[98,101,116,95,109,97,110,97,103,101,114]},{"kind":"account","path":"authority"}]}},{"name":"bet_manager_payment_token_account","writable":true},{"name":"bet_manager_vault_pda"},{"name":"referral_manager","writable":true},{"name":"authority","writable":true,"signer":true},{"name":"payment_token_mint"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}],"args":[{"name":"referred_by_code","type":{"array":["u8",16]}},{"name":"ref_code","type":{"array":["u8",16]}}]},{"name":"place_bet","discriminator":[222,62,67,220,63,166,126,33],"accounts":[{"name":"game_state","writable":true},{"name":"game_state_vault","writable":true},{"name":"user_bet_manager","writable":true},{"name":"user_bet","writable":true},{"name":"treasury_payment_token","writable":true},{"name":"authority","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"payment_token_mint","docs":["the token mint account for the token being used as payment"]},{"name":"user_payment_token","docs":["the token account owned by the user being used for payment"],"writable":true},{"name":"game_state_vault_payment_token","docs":["the token account owned by the game_state_vault"],"writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"user_bet_manager_wallet","docs":["used to optionally pay for ticket costs from the bet manager wallet"],"writable":true},{"name":"user_bet_manager_vault"}],"args":[{"name":"ticket_data","type":"bytes"},{"name":"use_bet_management_funds","type":"bool"}]},{"name":"post_result","discriminator":[209,11,193,110,192,1,142,9],"accounts":[{"name":"game_state","writable":true},{"name":"management"},{"name":"authority","signer":true}],"args":[{"name":"result_data","type":"bytes"}]},{"name":"set_jackpot_prize","discriminator":[36,52,177,168,131,2,116,27],"accounts":[{"name":"jackpot","writable":true},{"name":"management"},{"name":"authority","signer":true}],"args":[{"name":"prize","type":"u64"}]},{"name":"submit_ticket","discriminator":[180,57,11,108,162,36,145,150],"accounts":[{"name":"game_state","writable":true},{"name":"bet_manager"},{"name":"user_bet","writable":true},{"name":"user"}],"args":[]},{"name":"withdraw_prize_pools","discriminator":[34,29,215,169,194,188,45,137],"accounts":[{"name":"game_state","writable":true},{"name":"game_state_vault"},{"name":"game_state_vault_payment_token","writable":true},{"name":"treasury_payment_token","writable":true},{"name":"payment_token_mint"},{"name":"authority","signer":true},{"name":"management"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[]},{"name":"withdraw_user_funds","discriminator":[232,81,236,243,49,207,161,219],"accounts":[{"name":"bet_manager"},{"name":"bet_manager_vault_pda"},{"name":"bet_manager_payment_token_account","writable":true},{"name":"user_payment_token_account","writable":true},{"name":"payment_token"},{"name":"authority","signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[]}],"accounts":[{"name":"BetManager","discriminator":[68,120,180,16,80,7,44,143]},{"name":"GameState","discriminator":[144,94,208,172,248,99,134,120]},{"name":"Jackpot","discriminator":[140,46,88,182,39,85,23,131]},{"name":"Management","discriminator":[254,29,31,22,138,69,233,43]},{"name":"ReferralManager","discriminator":[250,195,219,113,186,23,164,241]},{"name":"UserBet","discriminator":[180,131,8,241,60,243,46,63]}],"errors":[{"code":6000,"name":"BettingClosed","msg":"Betting is closed"},{"code":6001,"name":"BettingStillOpen","msg":"Betting is still open"},{"code":6002,"name":"ResultsAlreadySubmitted","msg":"Results have already been submitted"},{"code":6003,"name":"UnauthorizedResultSubmitter","msg":"Unauthorized result submitter"},{"code":6004,"name":"UnauthorizedFinalizer","msg":"Unauthorized game finalizer"},{"code":6005,"name":"UnauthorizedGameCreator","msg":"Unauthorized game creator"},{"code":6006,"name":"InvalidBetAmount","msg":"Insufficient amount wagered"},{"code":6007,"name":"InvalidMatch","msg":"Match identifier must be between 1 and 13"},{"code":6008,"name":"InvalidResultType","msg":"Result type is invalid"},{"code":6009,"name":"InsufficientInputData","msg":"Input data is too small"},{"code":6010,"name":"InvalidBetType","msg":"Bet type is not one of home, draw, away"},{"code":6011,"name":"UnfinishedMatches","msg":"Not all matches have been resolved"},{"code":6012,"name":"AlreadyFinalized","msg":"Game already finalized"},{"code":6013,"name":"NotFinalized","msg":"Game hasnt been finalized"},{"code":6014,"name":"AlreadyClaimed","msg":"Prize already claimed for player"},{"code":6015,"name":"InvalidTier","msg":"Invalid tier"},{"code":6016,"name":"InvalidPrizePoolDistribution","msg":"Failed to calculate prize pool distribution"},{"code":6017,"name":"InvalidVaultPda","msg":"Invalid vault pda given"},{"code":6018,"name":"InvalidUserBetOwner","msg":"Account is not owner of user bet"},{"code":6019,"name":"NotAWinner","msg":"User is not a winner"},{"code":6020,"name":"InvalidUserBet","msg":"User bet account is invalid"},{"code":6021,"name":"AlreadySubmitted","msg":"User has already submitted ticket"},{"code":6022,"name":"NotSubmitted","msg":"User has not submitted ticket"},{"code":6023,"name":"InsufficientPredictions","msg":"User has an insufficient number of correct predictions"},{"code":6024,"name":"InvalidGameId","msg":"Game id is too long"},{"code":6025,"name":"InvalidPaymentToken","msg":"Payment token is not valid"},{"code":6026,"name":"InvalidAccountOwner","msg":"Invalid account owner"},{"code":6027,"name":"InvalidGuessType","msg":"Invalid guess type"},{"code":6028,"name":"InvalidBetManager","msg":"Invalid bet manager"},{"code":6029,"name":"InvalidJackpot","msg":"Invalid jackpot account"},{"code":6030,"name":"InvalidManagement","msg":"Invalid management account"},{"code":6031,"name":"InvalidJackpotDistribution","msg":"Invalid jackpot distribution"},{"code":6032,"name":"InvalidGameState","msg":"Invalid game state account"},{"code":6033,"name":"InvalidStakingPool","msg":"Invalid staking pool account"},{"code":6034,"name":"InvalidRakeCalculation","msg":"Invalid rake calculation"},{"code":6035,"name":"InvalidTreasuryWallet","msg":"Invalid treasury wallet"},{"code":6036,"name":"InvalidStakePoolMint","msg":"Invalid stake pool mint"},{"code":6037,"name":"InvalidAmount","msg":"Invalid amount"},{"code":6038,"name":"UnsubmittedTickets","msg":"There are still unsubmitted tickets"},{"code":6039,"name":"InvalidVaaAccount","msg":"Invalid vaa account"},{"code":6040,"name":"InvalidEmitterAddress","msg":"Vaa is not from an authorized host"},{"code":6041,"name":"InvalidEmitterChain","msg":"Vaa is not from an authorized chain"},{"code":6042,"name":"InvalidReferralAccount","msg":"Invalid referral account"},{"code":6043,"name":"AlreadyReferred","msg":"User is already referred"},{"code":6044,"name":"InvalidReferredBy","msg":"Invalid referred by accounts provided"},{"code":6045,"name":"InvalidTicketData","msg":"Invalid ticket data"},{"code":6046,"name":"TooManyOutcomesSelected","msg":"Too many outcomes selected on ticket"},{"code":6047,"name":"CancelledGame","msg":"Game has been cancelled"}],"types":[{"name":"BetManager","docs":["provides a user account which holds onto claimed funds a user has won"],"type":{"kind":"struct","fields":[{"name":"authority","type":"pubkey"},{"name":"referred_by","docs":["16 byte uuid of the referral code"],"type":{"array":["u8",16]}},{"name":"comission_generated","docs":["for accounts which have been referred, track the total dollar value of comission which they have generated"],"type":"u64"},{"name":"tickets","type":"u64"}]}},{"name":"BetState","type":{"kind":"struct","fields":[{"name":"bet_type","type":{"defined":{"name":"BetType"}}},{"name":"pick_count","type":"u64"}]}},{"name":"BetType","repr":{"kind":"rust"},"type":{"kind":"enum","variants":[{"name":"Home"},{"name":"Draw"},{"name":"Away"}]}},{"name":"GameState","type":{"kind":"struct","fields":[{"name":"bump","type":"u8"},{"name":"vault_bump","type":"u8"},{"name":"total_pot","docs":["total amount of SOL placed as a bet"],"type":"u64"},{"name":"bets","docs":["a single game can have up to 13 matches","0 = home, 1 = draw, 2 = away"],"type":{"array":[{"array":[{"defined":{"name":"BetState"}},3]},13]}},{"name":"results","type":{"array":[{"defined":{"name":"MatchResult"}},13]}},{"name":"prize_pools","docs":["Prize pools for 13, 12, 11, 10 correct predictions"],"type":{"array":["u64",4]}},{"name":"winners_count","type":{"array":["u64",4]}},{"name":"betting_closes_at","type":"i64"},{"name":"betting_opens_at","docs":["timestamp at which betting opens, 0 means betting immediately opens"],"type":"i64"},{"name":"tickets_created","type":"u64"},{"name":"tickets_submitted","type":"u64"},{"name":"game_id","type":{"array":["u8",32]}},{"name":"finalized","type":"bool"}]}},{"name":"Jackpot","type":{"kind":"struct","fields":[{"name":"vault_bump","type":"u8"},{"name":"current_prize","docs":["current prize to distribute via jackpot"],"type":"u64"},{"name":"distribution_count","docs":["tracks the number of claimers in current jackpot","resets onces the number of claims is equal to number of 13/13 winners in the game","the jackpot is being claimed in"],"type":"u64"}]}},{"name":"Management","type":{"kind":"struct","fields":[{"name":"bump","type":"u8"},{"name":"authority","type":"pubkey"},{"name":"game_creators","type":{"array":["pubkey",3]}},{"name":"result_submitters","type":{"array":["pubkey",3]}},{"name":"emitter_address","type":{"array":["u8",20]}},{"name":"emitter_chain","type":"u16"}]}},{"name":"MatchResult","repr":{"kind":"rust"},"type":{"kind":"enum","variants":[{"name":"Pending"},{"name":"Home"},{"name":"Draw"},{"name":"Away"},{"name":"Cancelled"}]}},{"name":"PlacedBet","type":{"kind":"struct","fields":[{"name":"bet_type","type":{"defined":{"name":"BetType"}}},{"name":"active_wager","docs":["whether or not this bet placement is active"],"type":"bool"}]}},{"name":"ReferralManager","type":{"kind":"struct","fields":[{"name":"owner","type":"pubkey"},{"name":"users","docs":["number of users referred via this code"],"type":"u64"},{"name":"lifetime_comission_earned","docs":["total number of PAYMENT_TOKEN that they have received over time"],"type":"u64"},{"name":"comission_rate","docs":["the comission percentage for rakeback from referred users"],"type":"u8"}]}},{"name":"UserBet","type":{"kind":"struct","fields":[{"name":"bet_manager","type":"pubkey"},{"name":"game","type":"pubkey"},{"name":"bets","type":{"array":[{"array":[{"defined":{"name":"PlacedBet"}},3]},13]}},{"name":"submitted_ticket","docs":["a ticket must be submitted in order for prize distribution / calculation logic to be performed"],"type":"bool"},{"name":"is_winner","type":"bool"},{"name":"claimed","type":"bool"},{"name":"ticket_number","docs":["the ticket number which tracks how many tickets the user has created","to get the actual number add +1 to this value"],"type":"u64"}]}}],"constants":[{"name":"BASE_TICKET_COST_USDC","type":"u64","value":"500000"},{"name":"MAX_CANCELLATIONS","type":"u8","value":"4"},{"name":"MAX_OUTCOMES","type":"u8","value":"27"},{"name":"PAYMENT_TOKEN","type":"pubkey","value":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},{"name":"SEED","type":"string","value":"\"anchor\""},{"name":"TREASURY_RAKE","type":"u8","value":"10"},{"name":"TREASURY_WALLET","type":"pubkey","value":"GLGn9rtS3wsfrKW6XAuMc7c38Gm9jY7WQoycgADNbGxL"},{"name":"WINNING_TIER_PERCENTAGES","type":{"array":["u8",4]},"value":"[40, 20, 15, 25]"}]}