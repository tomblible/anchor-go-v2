{"address":"22z4B93dSqzBaAkC7GRkihYbW52EpDqHQULWP219W9LR","metadata":{"name":"fee_collector","version":"0.1.0","spec":"0.1.0","description":"Created with Anchor"},"docs":["TODO: admin control - multisig"],"instructions":[{"name":"blacklist_relayer","discriminator":[167,79,153,26,199,230,71,23],"accounts":[{"name":"admin","writable":true,"signer":true,"relations":["global_settings"]},{"name":"relayer_register","docs":["Any RelayerRegister"],"writable":true},{"name":"global_settings","pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,101,116,116,105,110,103,115]}]}}],"args":[]},{"name":"create_client","discriminator":[155,165,72,245,11,206,91,141],"accounts":[{"name":"admin","writable":true,"signer":true,"relations":["global_settings"]},{"name":"client","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,108,105,101,110,116]},{"kind":"arg","path":"name"}]}},{"name":"global_settings","pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,101,116,116,105,110,103,115]}]}},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"name","type":"string"},{"name":"withdraw_account","type":"pubkey"}]},{"name":"create_client_fee_collector","discriminator":[100,209,140,86,154,38,183,80],"accounts":[{"name":"admin","writable":true,"signer":true,"relations":["global_settings"]},{"name":"client","docs":["Any Client"]},{"name":"out_token","docs":["Any Token"]},{"name":"client_fee_collector","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,108,105,101,110,116,45,102,101,101,45,99,111,108,108,101,99,116,111,114]},{"kind":"account","path":"client"},{"kind":"account","path":"out_token"}]}},{"name":"global_settings","pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,101,116,116,105,110,103,115]}]}},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"mimic_fee_bps","type":"u64"}]},{"name":"edit_client","discriminator":[91,162,251,157,76,61,80,90],"accounts":[{"name":"admin","writable":true,"signer":true,"relations":["global_settings"]},{"name":"client","docs":["Any Client"],"writable":true},{"name":"global_settings","pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,101,116,116,105,110,103,115]}]}}],"args":[{"name":"new_withdraw_account","type":"pubkey"}]},{"name":"edit_client_fee_collector","discriminator":[225,249,208,137,220,188,111,77],"accounts":[{"name":"admin","writable":true,"signer":true,"relations":["global_settings"]},{"name":"client_fee_collector","docs":["Any ClientFeeCollector"],"writable":true},{"name":"global_settings","pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,101,116,116,105,110,103,115]}]}}],"args":[{"name":"new_mimic_fee_bps","type":"u64"}]},{"name":"edit_global_settings","discriminator":[72,200,100,198,220,120,128,254],"accounts":[{"name":"admin","writable":true,"signer":true,"relations":["global_settings"]},{"name":"global_settings","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,101,116,116,105,110,103,115]}]}}],"args":[{"name":"new_admin","type":{"option":"pubkey"}},{"name":"new_treasury","type":{"option":"pubkey"}}]},{"name":"initialize","discriminator":[175,175,109,31,13,152,155,237],"accounts":[{"name":"deployer","writable":true,"signer":true},{"name":"global_settings","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,101,116,116,105,110,103,115]}]}},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"admin","type":"pubkey"},{"name":"treasury","type":"pubkey"}]},{"name":"swap_tokens","discriminator":[201,226,234,16,70,155,131,206],"accounts":[{"name":"relayer","writable":true,"signer":true},{"name":"relayer_register","pda":{"seeds":[{"kind":"const","value":[114,101,108,97,121,101,114,45,114,101,103,105,115,116,101,114]},{"kind":"account","path":"relayer"}]}},{"name":"client_fee_collector","docs":["Any ClientFeeCollector"],"writable":true},{"name":"in_token"},{"name":"out_token","relations":["client_fee_collector"]},{"name":"client_vault_pda_auth","pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116,45,112,100,97,45,97,117,116,104]},{"kind":"account","path":"client_fee_collector.client","account":"ClientFeeCollector"}]}},{"name":"client_in_token_ata","writable":true,"pda":{"seeds":[{"kind":"account","path":"client_vault_pda_auth"},{"kind":"account","path":"in_token_program"},{"kind":"account","path":"in_token"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"client_out_token_ata","writable":true,"pda":{"seeds":[{"kind":"account","path":"client_vault_pda_auth"},{"kind":"account","path":"out_token_program"},{"kind":"account","path":"out_token"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"jupiter_program","address":"JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"in_token_program"},{"name":"out_token_program"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}],"args":[{"name":"data","type":"bytes"},{"name":"min_amount_out","type":"u64"}]},{"name":"whitelist_relayer","discriminator":[248,7,129,9,75,95,19,8],"accounts":[{"name":"admin","writable":true,"signer":true,"relations":["global_settings"]},{"name":"relayer_register","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,101,108,97,121,101,114,45,114,101,103,105,115,116,101,114]},{"kind":"arg","path":"relayer_key"}]}},{"name":"global_settings","pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,101,116,116,105,110,103,115]}]}},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"relayer_key","type":"pubkey"}]},{"name":"withdraw_with_fee","discriminator":[49,171,249,135,124,152,38,38],"accounts":[{"name":"admin","writable":true,"signer":true,"relations":["global_settings"]},{"name":"client","writable":true},{"name":"client_fee_collector","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,108,105,101,110,116,45,102,101,101,45,99,111,108,108,101,99,116,111,114]},{"kind":"account","path":"client"},{"kind":"account","path":"out_token"}]}},{"name":"treasury","relations":["global_settings"]},{"name":"withdraw_account","relations":["client"]},{"name":"client_vault_pda_auth","pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116,45,112,100,97,45,97,117,116,104]},{"kind":"account","path":"client"}]}},{"name":"out_token"},{"name":"client_program_ata","writable":true,"pda":{"seeds":[{"kind":"account","path":"client_vault_pda_auth"},{"kind":"account","path":"token_program"},{"kind":"account","path":"out_token"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"client_withdraw_ata","writable":true,"pda":{"seeds":[{"kind":"account","path":"withdraw_account"},{"kind":"account","path":"token_program"},{"kind":"account","path":"out_token"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"mimic_withdraw_ata","writable":true,"pda":{"seeds":[{"kind":"account","path":"treasury"},{"kind":"account","path":"token_program"},{"kind":"account","path":"out_token"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"global_settings","pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,101,116,116,105,110,103,115]}]}},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}],"args":[{"name":"amount","type":{"option":"u64"}}]},{"name":"withdraw_without_fee","discriminator":[221,165,224,79,142,160,130,213],"accounts":[{"name":"admin","writable":true,"signer":true,"relations":["global_settings"]},{"name":"client","writable":true},{"name":"withdraw_account","relations":["client"]},{"name":"client_vault_pda_auth","pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116,45,112,100,97,45,97,117,116,104]},{"kind":"account","path":"client"}]}},{"name":"token","docs":["Any Token"]},{"name":"client_program_ata","writable":true,"pda":{"seeds":[{"kind":"account","path":"client_vault_pda_auth"},{"kind":"account","path":"token_program"},{"kind":"account","path":"token"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"client_withdraw_ata","writable":true,"pda":{"seeds":[{"kind":"account","path":"withdraw_account"},{"kind":"account","path":"token_program"},{"kind":"account","path":"token"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"global_settings","pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,101,116,116,105,110,103,115]}]}},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}],"args":[{"name":"amount","type":{"option":"u64"}}]}],"accounts":[{"name":"Client","discriminator":[221,237,145,143,170,194,133,115]},{"name":"ClientFeeCollector","discriminator":[60,18,181,15,149,58,160,53]},{"name":"GlobalSettings","discriminator":[109,67,50,55,2,20,148,62]},{"name":"RelayerRegister","discriminator":[48,237,206,227,185,103,125,21]}],"events":[{"name":"BlacklistRelayerEvent","discriminator":[30,177,221,80,219,134,200,165]},{"name":"CreateClientEvent","discriminator":[187,53,78,142,139,132,156,165]},{"name":"CreateClientFeeCollectorEvent","discriminator":[74,183,186,237,230,150,57,4]},{"name":"EditClientEvent","discriminator":[9,79,217,84,67,84,123,95]},{"name":"EditClientFeeCollectorEvent","discriminator":[37,60,148,107,214,68,62,237]},{"name":"EditGlobalSettingsEvent","discriminator":[194,72,235,101,96,43,249,45]},{"name":"InitializeEvent","discriminator":[206,175,169,208,241,210,35,221]},{"name":"SwapTokensEvent","discriminator":[200,1,192,185,236,97,230,215]},{"name":"WhitelistRelayerEvent","discriminator":[14,48,102,134,220,210,173,110]},{"name":"WithdrawWithFeeEvent","discriminator":[231,74,175,6,28,251,219,150]},{"name":"WithdrawWithoutFeeEvent","discriminator":[238,47,126,211,5,115,224,7]}],"errors":[{"code":6000,"name":"OnlyDeployer","msg":"Only DEPLOYER_KEY can call this instruction!"},{"code":6001,"name":"OnlyAdmin","msg":"Only admin can call this instruction"},{"code":6002,"name":"ClientNameTooLong","msg":"Client name exceeds maximum byte length"},{"code":6003,"name":"IncorrectWithdrawAccount","msg":"Incorrect withdraw_account provided"},{"code":6004,"name":"InvalidTokenProgram","msg":"Invalid Token program - should be TokenKeg or Token2022"},{"code":6005,"name":"IncorrectTreasury","msg":"Incorrect treasury account provided"},{"code":6006,"name":"RelayerIsNotWhitelisted","msg":"Relayer is not whitelisted, or has been blacklisted"},{"code":6007,"name":"IncorrectOutToken","msg":"Incorrect out token provided for this client_fee_collector"},{"code":6008,"name":"MimicFeeTooLarge","msg":"Mimic fee exceeds maximum accepted fee"},{"code":6009,"name":"InvalidSwapInstructionDiscriminator","msg":"The discriminator provided in the CPI instruction data doesn't correspond to a valid Jupiter /swap-instructions response swapInstruction"},{"code":6010,"name":"MalformedSwapInstructionData","msg":"The swapInstruction data is malformed"},{"code":6011,"name":"CantReceiveLessThanMinAmountOut","msg":"Received less out tokens than the minimum amount out"},{"code":6012,"name":"MathError","msg":"Math Error (checked_* returned None)"}],"types":[{"name":"BlacklistRelayerEvent","type":{"kind":"struct","fields":[{"name":"relayer_key","type":"pubkey"},{"name":"previously_whitelisted_at","type":"u64"}]}},{"name":"Client","docs":["Seeds: [b\"client\", name].","One for each client name.","","Client on-chain identifier"],"type":{"kind":"struct","fields":[{"name":"name","docs":["Client's name or symbol"],"type":"string"},{"name":"withdraw_account","docs":["Client-owned account, for withdrawals and signing"],"type":"pubkey"},{"name":"created_at","docs":["Timestamp for client creation"],"type":"u64"}]}},{"name":"ClientFeeCollector","docs":["Seeds: [b\"client-fee-collector\", client, out_token].","One for each (Client, out token). A Client can have multiple of these.","","Client fee-collector manager"],"type":{"kind":"struct","fields":[{"name":"client","docs":["Client PDA key"],"type":"pubkey"},{"name":"out_token","docs":["Token to which swap to and withdraw from"],"type":"pubkey"},{"name":"total_tokens_swapped","docs":["Cumulative sum of out_tokens swapped historically"],"type":"u64"},{"name":"total_tokens_withdrawn","docs":["Cumulative sum of out_tokens withdrawn historically"],"type":"u64"},{"name":"total_fees_charged","docs":["Cumulative sum of out_tokens charged as Mimic fee historically"],"type":"u64"},{"name":"mimic_fee_bps","docs":["Mimic withdraw fee in basis points (1 bps = 0.0001)"],"type":"u64"}]}},{"name":"CreateClientEvent","type":{"kind":"struct","fields":[{"name":"client_name","type":"string"},{"name":"withdraw_account","type":"pubkey"}]}},{"name":"CreateClientFeeCollectorEvent","type":{"kind":"struct","fields":[{"name":"client_key","type":"pubkey"},{"name":"out_token","type":"pubkey"},{"name":"mimic_fee_bps","type":"u64"}]}},{"name":"EditClientEvent","type":{"kind":"struct","fields":[{"name":"client_key","type":"pubkey"},{"name":"old_withdraw_account","type":"pubkey"},{"name":"new_withdraw_account","type":"pubkey"}]}},{"name":"EditClientFeeCollectorEvent","type":{"kind":"struct","fields":[{"name":"client_key","type":"pubkey"},{"name":"out_token","type":"pubkey"},{"name":"old_mimic_fee_bps","type":"u64"},{"name":"new_mimic_fee_bps","type":"u64"}]}},{"name":"EditGlobalSettingsEvent","type":{"kind":"struct","fields":[{"name":"old_admin","type":"pubkey"},{"name":"old_treasury","type":"pubkey"},{"name":"new_admin","type":{"option":"pubkey"}},{"name":"new_treasury","type":{"option":"pubkey"}}]}},{"name":"GlobalSettings","docs":["Seeds: [b\"global-settings\"].","Singleton.","","Global settings of the whole program"],"type":{"kind":"struct","fields":[{"name":"admin","docs":["Privileged key"],"type":"pubkey"},{"name":"treasury","docs":["Authority for withdraw ATA"],"type":"pubkey"}]}},{"name":"InitializeEvent","type":{"kind":"struct","fields":[{"name":"deployer","type":"pubkey"},{"name":"admin","type":"pubkey"},{"name":"treasury","type":"pubkey"}]}},{"name":"RelayerRegister","docs":["Seeds: [b\"relayer-register\", relayer_key].","One for each whitelisted Relayer.","","Proof that Relayer is whitelisted (or blacklisted)"],"type":{"kind":"struct","fields":[{"name":"relayer_key","type":"pubkey"},{"name":"whitelisted_at","type":"u64"},{"name":"last_status_change","type":"u64"},{"name":"active","type":"bool"}]}},{"name":"SwapTokensEvent","type":{"kind":"struct","fields":[{"name":"relayer_key","type":"pubkey"},{"name":"client_key","type":"pubkey"},{"name":"in_token","type":"pubkey"},{"name":"out_token","type":"pubkey"},{"name":"amount_received","type":"u64"},{"name":"min_amount_out","type":"u64"}]}},{"name":"WhitelistRelayerEvent","type":{"kind":"struct","fields":[{"name":"relayer_key","type":"pubkey"}]}},{"name":"WithdrawWithFeeEvent","type":{"kind":"struct","fields":[{"name":"client_key","type":"pubkey"},{"name":"out_token","type":"pubkey"},{"name":"client_amount_withdrawn","type":"u64"},{"name":"mimic_fees_charged","type":"u64"},{"name":"total_amount_withdrawn","type":"u64"}]}},{"name":"WithdrawWithoutFeeEvent","type":{"kind":"struct","fields":[{"name":"client_key","type":"pubkey"},{"name":"withdraw_account","type":"pubkey"},{"name":"token","type":"pubkey"},{"name":"amount","type":"u64"}]}}]}