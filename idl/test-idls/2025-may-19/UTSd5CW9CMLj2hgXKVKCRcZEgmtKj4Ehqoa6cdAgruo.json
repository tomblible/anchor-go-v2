{"version":"0.1.0","name":"uts_deployment_router","instructions":[{"name":"initialize","docs":["Initialize the deployment router configuration"],"accounts":[{"name":"admin","isMut":true,"isSigner":true},{"name":"routerConfig","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"feeReceiver","type":"publicKey"}]},{"name":"updateRouterConfig","docs":["Update deployment router configuration"],"accounts":[{"name":"admin","isMut":false,"isSigner":true},{"name":"routerConfig","isMut":true,"isSigner":false}],"args":[{"name":"paused","type":{"option":"bool"}},{"name":"feeReceiver","type":{"option":"publicKey"}}]},{"name":"configureChain","docs":["Configure destination chain settings for deployment"],"accounts":[{"name":"admin","isMut":true,"isSigner":true},{"name":"routerConfig","isMut":false,"isSigner":false},{"name":"chainConfig","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"chainId","type":"u128"},{"name":"tokenDeployGas","type":"u64"},{"name":"connectorDeployGas","type":"u64"},{"name":"paused","type":"bool"},{"name":"masterRouterAddress","type":"bytes"},{"name":"deploymentRouterAddress","type":"bytes"},{"name":"decimals","type":"u8"}]},{"name":"updatePeerAddress","docs":["Update router and master router addresses for a destination chain"],"accounts":[{"name":"admin","isMut":false,"isSigner":true},{"name":"routerConfig","isMut":false,"isSigner":false},{"name":"chainConfig","isMut":true,"isSigner":false}],"args":[{"name":"masterRouterAddress","type":"bytes"}]},{"name":"deployToken","docs":["Deploy a token on Solana"],"accounts":[{"name":"payer","isMut":true,"isSigner":true},{"name":"routerConfig","isMut":false,"isSigner":false},{"name":"chainConfig","isMut":false,"isSigner":false},{"name":"tokenMint","isMut":true,"isSigner":false},{"name":"tokenObject","isMut":true,"isSigner":false},{"name":"deploymentRouterAuthority","isMut":false,"isSigner":false},{"name":"feeReceiver","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"utsRouter","isMut":false,"isSigner":false,"docs":["The UTS Router program"]},{"name":"utsBase","isMut":false,"isSigner":false,"docs":["The UTS Base program (either token or connector) that implements the UTS interface"]},{"name":"tokenProgram","isMut":false,"isSigner":false,"docs":["Token program"]},{"name":"associatedTokenProgram","isMut":false,"isSigner":false,"docs":["Associated token program"]},{"name":"tokenMetadataProgram","isMut":false,"isSigner":false,"docs":["Token metadata program"]},{"name":"rent","isMut":false,"isSigner":false,"docs":["Rent sysvar"]}],"args":[{"name":"deployData","type":{"defined":"DeployTokenData"}}]},{"name":"sendDeployRequest","docs":["Send a token deployment request to another chain"],"accounts":[{"name":"payer","isMut":true,"isSigner":true},{"name":"routerConfig","isMut":false,"isSigner":false},{"name":"chainConfig","isMut":false,"isSigner":false},{"name":"deploymentRouterAuthority","isMut":false,"isSigner":false},{"name":"photonConfig","isMut":true,"isSigner":false},{"name":"protocolInfo","isMut":true,"isSigner":false},{"name":"photonProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"feeReceiver","isMut":true,"isSigner":false}],"args":[{"name":"deployData","type":{"defined":"DeployMetadata"}}]},{"name":"receiveDeployMessage","docs":["Process a deployment message from another chain"],"accounts":[{"name":"executor","isMut":true,"isSigner":true,"docs":["Executor walletss"]},{"name":"masterAuthority","isMut":false,"isSigner":true,"docs":["Master router authority (signer)","This is the PDA derived from the master router program"]},{"name":"routerConfig","isMut":false,"isSigner":false,"docs":["Router configuration"]},{"name":"routerAuthority","isMut":false,"isSigner":false},{"name":"tokenMint","isMut":true,"isSigner":false},{"name":"connectorOrTokenConfig","isMut":true,"isSigner":false},{"name":"tokenObject","isMut":true,"isSigner":false},{"name":"utsProgram","isMut":false,"isSigner":false},{"name":"utsRouter","isMut":false,"isSigner":false,"docs":["The UTS Router program"]},{"name":"systemProgram","isMut":false,"isSigner":false,"docs":["System program for account creation"]},{"name":"tokenProgram","isMut":false,"isSigner":false,"docs":["Token program for mint operations"]},{"name":"associatedTokenProgram","isMut":false,"isSigner":false,"docs":["Associated token program for creating token accounts"]},{"name":"tokenVaultOwner","isMut":false,"isSigner":false},{"name":"tokenVault","isMut":true,"isSigner":false},{"name":"tokenMetadata","isMut":true,"isSigner":false},{"name":"tokenFactory","isMut":false,"isSigner":false,"docs":["Token factory program"]},{"name":"tokenMetadataProgram","isMut":false,"isSigner":false,"docs":["Token metadata program"]},{"name":"rent","isMut":false,"isSigner":false,"docs":["Rent sysvar"]}],"args":[{"name":"messageType","type":"u8"},{"name":"params","type":"bytes"},{"name":"srcChainId","type":"u128"}]}],"accounts":[{"name":"RouterConfig","docs":["Router configuration for the deployment router program"],"type":{"kind":"struct","fields":[{"name":"admin","docs":["Router authority - can update configurations"],"type":"publicKey"},{"name":"paused","docs":["If true, the router is paused and can't process deployment requests"],"type":"bool"},{"name":"feeReceiver","docs":["Fee receiver account for deployment fees"],"type":"publicKey"},{"name":"reserved","docs":["Reserved space for future use"],"type":{"array":["u8",128]}}]}},{"name":"ChainConfig","docs":["Chain configuration for deployment to destination chains"],"type":{"kind":"struct","fields":[{"name":"chainId","docs":["Chain ID of the destination chain"],"type":"u128"},{"name":"tokenDeployGas","docs":["Gas amount required for UTS Token deployment"],"type":"u64"},{"name":"connectorDeployGas","docs":["Gas amount required for UTS Connector deployment"],"type":"u64"},{"name":"paused","docs":["If true, deployments to this chain are paused"],"type":"bool"},{"name":"masterRouterAddress","docs":["Address of the master router on the destination chain"],"type":"bytes"},{"name":"deploymentRouterAddress","docs":["Address of the deployment router on the destination chain"],"type":"bytes"},{"name":"decimals","docs":["Decimals for the destination chain"],"type":"u8"},{"name":"reserved","type":{"array":["u8",128]}}]}}],"types":[{"name":"ChainConfigEvent","docs":["Chain configuration structure for events"],"type":{"kind":"struct","fields":[{"name":"peerAddress","docs":["Address of the peer on the destination chain"],"type":"bytes"},{"name":"minGasLimit","docs":["Minimum gas limit for operations"],"type":"u64"},{"name":"decimals","docs":["Token decimals on the destination chain"],"type":"u8"},{"name":"paused","docs":["Whether the chain is paused"],"type":"bool"}]}},{"name":"DeployTokenData","docs":["Deployment data for cross-chain token deployment"],"type":{"kind":"struct","fields":[{"name":"tokenType","docs":["Token type to deploy (1 = UTS Token, 2 = UTS Connector)"],"type":"u8"},{"name":"tokenName","docs":["Token name (required for UTS Token)"],"type":{"option":"string"}},{"name":"tokenSymbol","docs":["Token symbol (required for UTS Token)"],"type":{"option":"string"}},{"name":"decimals","docs":["Token decimals (required for UTS Token)"],"type":{"option":"u8"}},{"name":"salt","docs":["Salt for deterministic address generation (required for UTS Token)"],"type":{"option":"bytes"}},{"name":"totalSupply","docs":["Total supply for token (only used for UTS Token)"],"type":{"option":"u64"}}]}},{"name":"ReceivedDeployTokenData","docs":["Deployment data for cross-chain token deployment"],"type":{"kind":"struct","fields":[{"name":"tokenType","docs":["Token type to deploy (1 = UTS Token, 2 = UTS Connector)"],"type":"u8"},{"name":"tokenName","docs":["Token name"],"type":"string"},{"name":"tokenSymbol","docs":["Token symbol"],"type":"string"},{"name":"decimals","docs":["Token decimals"],"type":"u8"},{"name":"salt","docs":["Salt for deterministic address generation"],"type":"bytes"},{"name":"underlyingToken","docs":["Optional underlying token address (for connector)"],"type":{"option":"bytes"}},{"name":"totalSupply","docs":["Total supply for token (only used for UTS Token)"],"type":{"option":"u64"}}]}},{"name":"DeployMetadata","type":{"kind":"struct","fields":[{"name":"dstChainId","type":"u128"},{"name":"isConnector","type":"bool"},{"name":"params","type":"bytes"},{"name":"evmAddress","type":{"option":"bytes"}}]}},{"name":"ErrorCode","type":{"kind":"enum","variants":[{"name":"CustomError"}]}}],"events":[{"name":"Deployed","fields":[{"name":"deployment","type":"publicKey","index":false},{"name":"deployerIndexed","type":"bytes","index":false},{"name":"deployer","type":"bytes","index":false},{"name":"owner","type":"publicKey","index":false},{"name":"underlyingToken","type":"publicKey","index":false},{"name":"salt","type":{"array":["u8",32]},"index":false},{"name":"name","type":"string","index":false},{"name":"symbol","type":"string","index":false},{"name":"decimals","type":"u8","index":false}]},{"name":"DeploymentUpdated","fields":[{"name":"deployment","type":"publicKey","index":false},{"name":"deployerIndexed","type":"bytes","index":false},{"name":"deployer","type":"bytes","index":false},{"name":"underlyingToken","type":"publicKey","index":false},{"name":"protocolVersion","type":{"array":["u8",2]},"index":false}]},{"name":"ChainConfigUpdated","fields":[{"name":"deployment","type":"publicKey","index":false},{"name":"allowedChainIds","type":{"vec":"u128"},"index":false},{"name":"chainConfigs","type":{"vec":{"defined":"ChainConfigEvent"}},"index":false}]}],"errors":[{"code":6000,"name":"InvalidAuthority","msg":"Invalid authority"},{"code":6001,"name":"RouterPaused","msg":"Router is paused"},{"code":6002,"name":"ChainPaused","msg":"Chain is paused"},{"code":6003,"name":"ChainNotConfigured","msg":"Destination chain not configured"},{"code":6004,"name":"InvalidTokenType","msg":"Invalid token type"},{"code":6005,"name":"InvalidMessageSender","msg":"Invalid message sender"},{"code":6006,"name":"InvalidMessageType","msg":"Invalid message type"},{"code":6007,"name":"InvalidMessageSource","msg":"Invalid message source"},{"code":6008,"name":"InvalidDeployData","msg":"Invalid deploy data"},{"code":6009,"name":"InvalidGasLimit","msg":"Invalid gas limit"},{"code":6010,"name":"ArraysLengthMismatch","msg":"Arrays length mismatch"},{"code":6011,"name":"InvalidMasterAuthority","msg":"Invalid master authority"},{"code":6012,"name":"InvalidParameters","msg":"Invalid parameters"},{"code":6013,"name":"InvalidRemainingAccounts","msg":"Invalid remaining accounts"},{"code":6014,"name":"MintDoesNotExist","msg":"Mint account does not exist"},{"code":6015,"name":"DecimalsNotProvided","msg":"Decimals must be provided for UTS Token"},{"code":6016,"name":"TokenNameNotProvided","msg":"Token name must be provided for UTS Token"},{"code":6017,"name":"TokenSymbolNotProvided","msg":"Token symbol must be provided for UTS Token"},{"code":6018,"name":"SaltNotProvided","msg":"Salt must be provided for UTS Token"},{"code":6019,"name":"TotalSupplyNotProvided","msg":"Total supply must be provided for UTS Token"},{"code":6020,"name":"InvalidChainId","msg":"Invalid chain ID"},{"code":6021,"name":"FactoryAddressNotSet","msg":"Factory address not set"}]}