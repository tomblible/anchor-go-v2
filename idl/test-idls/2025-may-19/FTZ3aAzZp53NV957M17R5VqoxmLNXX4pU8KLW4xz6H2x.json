{"address":"FTZ3aAzZp53NV957M17R5VqoxmLNXX4pU8KLW4xz6H2x","metadata":{"name":"fortunz_lottery","version":"0.1.0","spec":"0.1.0","description":"Fortunz lottery"},"instructions":[{"name":"batch_refund","discriminator":[229,75,208,164,69,196,149,170],"accounts":[{"name":"vault","docs":["The vault account that holds the lottery funds"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"account","path":"lottery_config"}]}},{"name":"lottery_config","docs":["The lottery configuration account"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[108,111,116,116,101,114,121,95,99,111,110,102,105,103]},{"kind":"account","path":"mint_account"}]}},{"name":"mint_account","docs":["CHECK checked in code that matches lottery config mint account"]},{"name":"global_config","docs":["Global configuration for fee percentages"],"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,95,99,111,110,102,105,103]}]}},{"name":"fee_collector","docs":["Account that receives global fees"],"writable":true},{"name":"creator","docs":["Creator account that receives creator fees"],"writable":true},{"name":"authority","docs":["Authority signer (backend)"],"writable":true,"signer":true},{"name":"system_program","docs":["System program for transfers"],"address":"11111111111111111111111111111111"}],"args":[]},{"name":"buy_ticket","discriminator":[11,24,17,193,168,116,164,169],"accounts":[{"name":"buyer","writable":true,"signer":true},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"account","path":"lottery_config"}]}},{"name":"receiver","writable":true},{"name":"lottery_config","writable":true,"pda":{"seeds":[{"kind":"const","value":[108,111,116,116,101,114,121,95,99,111,110,102,105,103]},{"kind":"account","path":"mint_account"}]}},{"name":"ticket_account","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,105,99,107,101,116,95,97,99,99,111,117,110,116]},{"kind":"account","path":"lottery_config"},{"kind":"account","path":"receiver"}]}},{"name":"associated_token_account","writable":true},{"name":"mint_authority","pda":{"seeds":[{"kind":"const","value":[109,105,110,116,95,97,117,116,104,111,114,105,116,121]},{"kind":"account","path":"mint_account"}]}},{"name":"mint_account","writable":true},{"name":"token_program","address":"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"ticket_count","type":"u8"}]},{"name":"get_ticket_account","discriminator":[180,240,148,58,90,134,45,83],"accounts":[{"name":"user","signer":true},{"name":"lottery_config"},{"name":"ticket","pda":{"seeds":[{"kind":"const","value":[116,105,99,107,101,116,95,97,99,99,111,117,110,116]},{"kind":"account","path":"lottery_config"},{"kind":"account","path":"user"}]}}],"args":[]},{"name":"initialize_custom_lottery","discriminator":[80,52,210,171,180,172,11,227],"accounts":[{"name":"payer","writable":true,"signer":true},{"name":"lottery_config","writable":true,"pda":{"seeds":[{"kind":"const","value":[108,111,116,116,101,114,121,95,99,111,110,102,105,103]},{"kind":"account","path":"mint_account"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"account","path":"lottery_config"}]}},{"name":"mint_account","writable":true,"signer":true},{"name":"mint_authority","pda":{"seeds":[{"kind":"const","value":[109,105,110,116,95,97,117,116,104,111,114,105,116,121]},{"kind":"account","path":"mint_account"}]}},{"name":"global_config","pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,95,99,111,110,102,105,103]}]}},{"name":"token_program","address":"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"ticket_price","type":"u64"},{"name":"max_tickets","type":"u16"},{"name":"creator_percentage","type":"u8"},{"name":"deadline","type":"i64"},{"name":"prizes","type":{"vec":{"defined":{"name":"Prize"}}}},{"name":"name","type":"string"},{"name":"symbol","type":"string"},{"name":"uri","type":"string"}]},{"name":"initialize_global","discriminator":[47,225,15,112,86,51,190,231],"accounts":[{"name":"payer","writable":true,"signer":true},{"name":"global_config","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,95,99,111,110,102,105,103]}]}},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"global_fee_percentage","type":"u8"}]},{"name":"initialize_predefined_lottery","discriminator":[82,110,121,24,195,153,162,52],"accounts":[{"name":"payer","writable":true,"signer":true},{"name":"lottery_config","writable":true,"pda":{"seeds":[{"kind":"const","value":[108,111,116,116,101,114,121,95,99,111,110,102,105,103]},{"kind":"account","path":"mint_account"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"account","path":"lottery_config"}]}},{"name":"mint_account","writable":true,"signer":true},{"name":"mint_authority","pda":{"seeds":[{"kind":"const","value":[109,105,110,116,95,97,117,116,104,111,114,105,116,121]},{"kind":"account","path":"mint_account"}]}},{"name":"global_config","pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,95,99,111,110,102,105,103]}]}},{"name":"token_program","address":"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"ticket_price","type":"u64"},{"name":"max_tickets","type":"u16"},{"name":"creator_percentage","type":"u8"},{"name":"deadline","type":"i64"},{"name":"predefined_type","type":{"defined":{"name":"LotteryPredefinedType"}}},{"name":"name","type":"string"},{"name":"symbol","type":"string"},{"name":"uri","type":"string"}]},{"name":"request_randomness","discriminator":[213,5,173,166,37,236,31,18],"accounts":[{"name":"authority","docs":["The authority that can request randomness"],"writable":true,"signer":true},{"name":"lottery_config","docs":["The lottery configuration to be updated with randomness account"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[108,111,116,116,101,114,121,95,99,111,110,102,105,103]},{"kind":"account","path":"mint_account"}]}},{"name":"mint_account","docs":["CHECK checked in code that matches lottery config mint account"]},{"name":"randomness_account_data","docs":["Account containing the Switchboard randomness data"]},{"name":"system_program","docs":["System program"],"address":"11111111111111111111111111111111"}],"args":[]},{"name":"send_prize","discriminator":[7,224,83,98,203,181,199,90],"accounts":[{"name":"vault","docs":["The vault account that holds the lottery funds"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"account","path":"lottery_config"}]}},{"name":"lottery_config","docs":["The lottery configuration"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[108,111,116,116,101,114,121,95,99,111,110,102,105,103]},{"kind":"account","path":"mint_account"}]}},{"name":"mint_account","docs":["CHECK checked in code that matches lottery config mint account"]},{"name":"global_config","docs":["Global configuration for fee percentages"],"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,95,99,111,110,102,105,103]}]}},{"name":"fee_collector","docs":["Account that receives global fees"],"writable":true},{"name":"creator","docs":["Creator account that receives creator fees"],"writable":true},{"name":"authority","docs":["Authority that can distribute prizes"],"writable":true,"signer":true},{"name":"system_program","docs":["System program for transfers"],"address":"11111111111111111111111111111111"}],"args":[{"name":"batch_size","type":"u8"}]},{"name":"set_winning_tickets","discriminator":[136,154,38,254,196,38,212,142],"accounts":[{"name":"authority","docs":["The authority that can set winning tickets"],"writable":true,"signer":true},{"name":"lottery_config","docs":["The lottery configuration to be updated with winning tickets"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[108,111,116,116,101,114,121,95,99,111,110,102,105,103]},{"kind":"account","path":"mint_account"}]}},{"name":"mint_account","docs":["CHECK checked in code that matches lottery config mint account"]},{"name":"randomness_account_data","docs":["Account containing VRF randomness data"]},{"name":"global_config","docs":["Global configuration for the lottery system"],"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,95,99,111,110,102,105,103]}]}}],"args":[]}],"accounts":[{"name":"GlobalConfiguration","discriminator":[57,102,31,49,69,215,13,20]},{"name":"LotteryConfig","discriminator":[174,54,184,175,81,20,237,24]},{"name":"TicketAccount","discriminator":[231,93,13,18,239,66,21,45]},{"name":"Vault","discriminator":[211,8,232,43,2,152,117,119]}],"events":[{"name":"NewLottery","discriminator":[243,9,168,143,75,77,82,22]},{"name":"PrizePayment","discriminator":[102,253,170,175,225,168,108,5]},{"name":"TicketsPurchased","discriminator":[185,114,111,225,124,92,18,143]},{"name":"WinningTicketsSelected","discriminator":[217,202,118,116,69,85,216,248]}],"errors":[{"code":6000,"name":"InvalidGlobalPercentage","msg":"Invalid global percentage"},{"code":6001,"name":"MathOverflow","msg":"Math overflow occurred"},{"code":6002,"name":"MaxTicketsExceeded","msg":"Maximum number of tickets exceeded"},{"code":6003,"name":"Unauthorized","msg":"Unauthorized access"},{"code":6004,"name":"InvalidAuthority","msg":"Invalid authority key"},{"code":6005,"name":"LotteryEnded","msg":"Lottery has ended"},{"code":6006,"name":"LotteryNotConcluded","msg":"Lottery has not concluded"},{"code":6007,"name":"InvalidDeadline","msg":"deadline should be in the future and in less than 30 days"},{"code":6008,"name":"InvalidCreatorPercentage","msg":"Invalid creator percentage"},{"code":6009,"name":"GlobalConfigNotInitialized","msg":"Global config not initialized"},{"code":6010,"name":"TooManyWinners","msg":"Too many winners exceed max tickets"},{"code":6011,"name":"WinnersAlreadyChosen","msg":"Winning tickets are already chosen"},{"code":6012,"name":"InvalidTotalPayout","msg":"Total payout must equal 100% (prizes + creator fee + global fee)"},{"code":6013,"name":"NoWinnersSelected","msg":"No winners selected"},{"code":6014,"name":"InvalidWinnerCount","msg":"Invalid number of winner accounts provided"},{"code":6015,"name":"InvalidWinnerAccount","msg":"Invalid winner Account"},{"code":6016,"name":"InvalidTicketAccount","msg":"Invalid ticket Account"},{"code":6017,"name":"InvalidTicketCount","msg":"Invalid ticket count. Must be between 1 and 10."},{"code":6018,"name":"MissingTicketAccount","msg":"Missing ticket account"},{"code":6019,"name":"InvalidAccountPairs","msg":"Invalid Account Pairs"},{"code":6020,"name":"InvalidBatchSize","msg":"Invalid Batch Size"},{"code":6021,"name":"InvalidTokenAccount","msg":"Invalid Token Account"},{"code":6022,"name":"InvalidTokenAccountOwner","msg":"Invalid Token Account Owner"},{"code":6023,"name":"RandomnessAlreadyRevealed","msg":"Randomness already revealed"},{"code":6024,"name":"RandomnessAlreadyRequested","msg":"Randomness already requested"},{"code":6025,"name":"RandomnessNotResolved","msg":"Randomness not resolved"},{"code":6026,"name":"FailedToSelectUniqueWinners","msg":"Failed to select unique winners"},{"code":6027,"name":"InvalidWinnerPercentage","msg":"Invalid winner percentage"},{"code":6028,"name":"TooFewWinners","msg":"Not enough winners"},{"code":6029,"name":"CustomLotteryRequiresPrizes","msg":"Custom lotteries require prizes"},{"code":6030,"name":"PredefinedLotteryRequiresType","msg":"Predefined lotteries require type"},{"code":6031,"name":"InvalidWinnerRatio","msg":"Invalid winner ratio"},{"code":6032,"name":"LotteryRefunded","msg":"Lottery already refunded"},{"code":6033,"name":"PredefinedSecondPrizeNotNull","msg":"Second prize should have more than 0% of the pot"},{"code":6034,"name":"InvalidFirstPrizePercentage","msg":"Invalid first prize percentage"},{"code":6035,"name":"ArithmeticOverflow","msg":"Arithmetic overflow"},{"code":6036,"name":"CreatorMustSign","msg":"Creator must sign the transaction"},{"code":6037,"name":"InvalidPrizePercentage","msg":"Invalid prize percentage"},{"code":6038,"name":"InvalidMaxTickets","msg":"Invalid maximum tickets value"},{"code":6039,"name":"NameTooLong","msg":"Name too long"},{"code":6040,"name":"SymbolTooLong","msg":"Symbol too long"},{"code":6041,"name":"UriTooLong","msg":"URI too long"},{"code":6042,"name":"FeesTooHigh","msg":"Fees too high"},{"code":6043,"name":"TicketPriceTooLow","msg":"Ticket price too low"},{"code":6044,"name":"InvalidMintAccount","msg":"Invalid mint account"},{"code":6045,"name":"TicketPdaNotFound","msg":"Ticket PDA not found"},{"code":6046,"name":"InsufficientRemainingAccounts","msg":"Insufficient remaining accounts"},{"code":6047,"name":"FailedToProcessAllTickets","msg":"Failed to process all tickets"},{"code":6048,"name":"TicketPriceTooHigh","msg":"Ticket price too high"},{"code":6049,"name":"InvalidOwnerAccount","msg":"Invalid owner account"},{"code":6050,"name":"InsufficientRefundAmount","msg":"Insufficient refund amount"},{"code":6051,"name":"NoTicketsSold","msg":"No tickets sold"},{"code":6052,"name":"LotteryNotRefundable","msg":"Lottery not in refundable state"},{"code":6053,"name":"LotteryRefundable","msg":"Lottery is refundable, cannot send prizes"}],"types":[{"name":"GlobalConfiguration","type":{"kind":"struct","fields":[{"name":"fee_collector","type":"pubkey"},{"name":"global_fee_percentage","type":"u8"}]}},{"name":"LotteryConfig","type":{"kind":"struct","fields":[{"name":"ticket_price","type":"u64"},{"name":"max_tickets","type":"u16"},{"name":"winning_tickets","type":{"vec":{"defined":{"name":"WinnerInfo"}}}},{"name":"creator","type":"pubkey"},{"name":"creator_percentage","type":"u8"},{"name":"deadline","type":"i64"},{"name":"prizes","type":{"vec":{"defined":{"name":"Prize"}}}},{"name":"ticket_counter","type":"u16"},{"name":"fees_processed","type":"bool"},{"name":"completed","type":"bool"},{"name":"randomness_account","type":"pubkey"},{"name":"lottery_type","type":{"defined":{"name":"LotteryType"}}},{"name":"winner_percentage","type":"u8"},{"name":"initial_winner_ratio","type":"u8"},{"name":"winners_chosen","type":"bool"},{"name":"refundable","type":"bool"},{"name":"refunded","type":"bool"},{"name":"refunded_tickets","type":"u16"},{"name":"mint_account","type":"pubkey"},{"name":"lottery_predefined_type","type":{"defined":{"name":"LotteryPredefinedType"}}}]}},{"name":"LotteryPredefinedType","type":{"kind":"enum","variants":[{"name":"Starter"},{"name":"Solid"},{"name":"Mega"},{"name":"Jackpot"}]}},{"name":"LotteryType","type":{"kind":"enum","variants":[{"name":"Predefined"},{"name":"Custom"}]}},{"name":"NewLottery","type":{"kind":"struct","fields":[{"name":"lottery_id","type":"pubkey"},{"name":"ticket_price","type":"u64"},{"name":"max_tickets","type":"u16"},{"name":"creator","type":"pubkey"},{"name":"creator_percentage","type":"u8"},{"name":"deadline","type":"i64"},{"name":"timestamp","type":"i64"}]}},{"name":"Prize","type":{"kind":"struct","fields":[{"name":"num_winners","type":"u16"},{"name":"percentage","type":"u8"},{"name":"calculated_amount","type":{"option":"u64"}}]}},{"name":"PrizePayment","type":{"kind":"struct","fields":[{"name":"lottery_id","type":"pubkey"},{"name":"ticket_id","type":"u16"},{"name":"winner","type":"pubkey"},{"name":"amount","type":"u64"},{"name":"prize_index","type":"u8"},{"name":"timestamp","type":"i64"}]}},{"name":"TicketAccount","type":{"kind":"struct","fields":[{"name":"buyer","type":"pubkey"},{"name":"lottery_id","type":"pubkey"},{"name":"ticket_ids","type":{"vec":"u16"}}]}},{"name":"TicketsPurchased","type":{"kind":"struct","fields":[{"name":"lottery_id","type":"pubkey"},{"name":"ticket_account","type":"pubkey"},{"name":"ticket_id_from","type":"u16"},{"name":"tickets_count","type":"u8"},{"name":"buyer","type":"pubkey"},{"name":"price","type":"u64"},{"name":"timestamp","type":"i64"}]}},{"name":"Vault","type":{"kind":"struct","fields":[]}},{"name":"WinnerInfo","type":{"kind":"struct","fields":[{"name":"ticket_id","type":"u16"},{"name":"prize_index","type":"u8"},{"name":"paid","type":"bool"}]}},{"name":"WinningTicketsSelected","type":{"kind":"struct","fields":[{"name":"lottery_id","type":"pubkey"},{"name":"winning_tickets","type":{"vec":{"defined":{"name":"WinnerInfo"}}}},{"name":"timestamp","type":"i64"}]}}]}