{"address":"syNdL21zsXmUEwnwkz2vg352EZfDuQTiG5BgTFQy5WD","metadata":{"name":"syndicate_manager","version":"0.1.0","spec":"0.1.0","description":"syndicated loans anchor program template"},"instructions":[{"name":"cancel","discriminator":[232,219,223,41,219,236,220,190],"accounts":[{"name":"user","writable":true,"signer":true},{"name":"market_engine","writable":true,"signer":true},{"name":"payer","writable":true,"signer":true},{"name":"user_role"},{"name":"lender_user_role"},{"name":"syndicated_order","writable":true},{"name":"order"},{"name":"syndicated_order_escrow"},{"name":"principal_mint"},{"name":"escrow_principal_ta"},{"name":"collateral_mint"},{"name":"escrow_collateral_ta"},{"name":"syndicated_order_principal_ta","writable":true},{"name":"system_program"},{"name":"token_program"},{"name":"associated_token_program"},{"name":"instructions_program"},{"name":"abf_program"},{"name":"abf_event_authority"}],"args":[{"name":"args","type":{"defined":{"name":"CancelSyndicatedOrderArgs"}}}]},{"name":"fund","discriminator":[218,188,111,221,152,113,174,7],"accounts":[{"name":"user","writable":true,"signer":true},{"name":"market_engine","writable":true,"signer":true},{"name":"payer","writable":true,"signer":true},{"name":"org_escrow","writable":true},{"name":"lender_user_role"},{"name":"user_role","writable":true},{"name":"syndicated_order","writable":true},{"name":"fund_nft_mint","writable":true},{"name":"fund_metadata","writable":true},{"name":"user_fund_nft_ta","writable":true},{"name":"escrow_fund_nft_ta","writable":true},{"name":"principal_mint"},{"name":"syndicated_order_principal_ta","writable":true},{"name":"escrow_principal_ta","writable":true},{"name":"user_principal_ta","writable":true},{"name":"mplx_metadata"},{"name":"system_program"},{"name":"token_program"},{"name":"associated_token_program"},{"name":"rent"},{"name":"instructions_program"},{"name":"mpl_token_metadata"},{"name":"abf_program"},{"name":"abf_event_authority"}],"args":[{"name":"args","type":{"defined":{"name":"FundSyndicatedOrderParams"}}}]},{"name":"init","discriminator":[220,59,207,236,108,250,47,100],"accounts":[{"name":"user","writable":true,"signer":true},{"name":"market_engine","writable":true,"signer":true},{"name":"payer","writable":true,"signer":true},{"name":"org_escrow"},{"name":"user_role"},{"name":"syndicated_order","writable":true},{"name":"system_program"}],"args":[{"name":"args","type":{"defined":{"name":"InitSyndicatedOrderParams"}}}]},{"name":"place","discriminator":[143,53,56,40,41,16,5,75],"accounts":[{"name":"user","writable":true,"signer":true},{"name":"market_engine","writable":true,"signer":true},{"name":"payer","writable":true,"signer":true},{"name":"user_role"},{"name":"syndicated_order","writable":true},{"name":"nonce"},{"name":"order"},{"name":"order_ledgers"},{"name":"syndicated_order_escrow"},{"name":"principal_mint"},{"name":"escrow_principal_ta"},{"name":"collateral_mint"},{"name":"syndicated_order_principal_ta","writable":true},{"name":"market_manager"},{"name":"liquidation_manager"},{"name":"designated_taker"},{"name":"system_program"},{"name":"token_program"},{"name":"token22_program"},{"name":"associated_token_program"},{"name":"instructions_program"},{"name":"abf_program"},{"name":"abf_event_authority"}],"args":[{"name":"args","type":{"defined":{"name":"PlaceSyndicatedOrderArgs"}}}]},{"name":"redeem","discriminator":[184,12,86,149,70,196,97,225],"accounts":[{"name":"user","writable":true,"signer":true},{"name":"market_engine","writable":true,"signer":true},{"name":"payer","writable":true,"signer":true},{"name":"org_escrow","writable":true},{"name":"user_role"},{"name":"syndicated_order","writable":true},{"name":"order_ledgers","writable":true},{"name":"order"},{"name":"loan_vault"},{"name":"escrow_account","writable":true},{"name":"loan_escrow_account"},{"name":"principal_mint"},{"name":"collateral_mint"},{"name":"escrow_principal_ta"},{"name":"syndicated_order_principal_ta","writable":true},{"name":"org_escrow_principal_ta","writable":true},{"name":"loan_escrow_principal_ta","writable":true},{"name":"escrow_collateral_ta"},{"name":"loan_escrow_collateral_ta"},{"name":"debtor_account"},{"name":"debtor_collateral_ta"},{"name":"fund_metadata","writable":true},{"name":"org_escrow_fund_nft_ta"},{"name":"system_program"},{"name":"token_program"},{"name":"token22_program"},{"name":"associated_token_program"},{"name":"instructions_program"},{"name":"abf_program"},{"name":"abf_event_authority"}],"args":[{"name":"ledger_id","type":"u64"}]},{"name":"update","discriminator":[219,200,88,176,158,63,253,127],"accounts":[{"name":"user","writable":true,"signer":true},{"name":"market_engine","writable":true,"signer":true},{"name":"payer","writable":true,"signer":true},{"name":"org_escrow","writable":true},{"name":"user_role","writable":true},{"name":"syndicated_order","writable":true},{"name":"fund_metadata","writable":true},{"name":"fund_nft_mint","writable":true},{"name":"org_escrow_fund_nft_ta","writable":true},{"name":"principal_mint"},{"name":"syndicated_order_principal_ta","writable":true},{"name":"user_principal_ta","writable":true},{"name":"escrow_principal_ta","writable":true},{"name":"system_program"},{"name":"token_program"},{"name":"associated_token_program"},{"name":"instructions_program"},{"name":"abf_program"},{"name":"abf_event_authority"}],"args":[{"name":"args","type":{"defined":{"name":"UpdateSyndicatedOrderFundParams"}}}]}],"accounts":[{"name":"EscrowAccount","discriminator":[36,69,48,18,128,225,125,135]},{"name":"FundMetadata","discriminator":[245,149,150,143,141,55,34,226]},{"name":"LoanVault","discriminator":[70,164,79,174,234,185,25,181]},{"name":"Order","discriminator":[134,173,223,185,77,86,28,51]},{"name":"OrderLedgers","discriminator":[59,169,222,60,224,142,68,173]},{"name":"RoleAccount","discriminator":[142,236,135,197,214,3,244,226]},{"name":"SyndicatedOrder","discriminator":[249,198,40,198,151,35,142,186]}],"errors":[{"code":6000,"name":"ArithmeticOverflow","msg":"Arithmetic overflow"}],"types":[{"name":"CancelSyndicatedOrderArgs","type":{"kind":"struct","fields":[{"name":"org_id","type":"pubkey"}]}},{"name":"EscrowAccount","docs":["Escrow account to keep track of user's escrowed assets"],"type":{"kind":"struct","fields":[{"name":"organization_identifier","docs":["organization that owns the escrow account"],"type":"pubkey"},{"name":"num_escrowed","docs":["DEPRECATED AND NOT UPDATED number of escrowed assets"],"type":"u64"},{"name":"nonce","docs":["nonce for potentially supporting multiple escrows/user. For now this will always be default pubkey"],"type":"pubkey"},{"name":"origination_cap","docs":["origination cap, set to u64 MAX if no cap"],"type":"u64"},{"name":"cumulative_amount_originated","docs":["cumulative value of amount originated"],"type":"u64"},{"name":"external_yield_source","docs":["external yield source"],"type":"u8"},{"name":"buffer_1","docs":["buffer for potential future use, 112 bytes, 64 + 32 + 16 = 112"],"type":{"array":["u8",64]}},{"name":"buffer_2","type":{"array":["u8",32]}},{"name":"buffer_3","type":{"array":["u8",15]}}]}},{"name":"FundMetadata","type":{"kind":"struct","fields":[{"name":"nonce","type":"pubkey"},{"name":"group_identifier","type":"pubkey"},{"name":"syndicated_order","type":"pubkey"},{"name":"nft_mint","type":"pubkey"},{"name":"principal_deposited","type":"u64"},{"name":"last_claimed_principal_amount","type":"u64"},{"name":"last_claimed_ledger_id","type":"u64"},{"name":"principal_redeemed","type":"u64"},{"name":"creation_time","type":"i64"},{"name":"status","type":"u8"}]}},{"name":"FundSyndicatedOrderParams","type":{"kind":"struct","fields":[{"name":"uri","type":"string"},{"name":"amount","type":"u64"},{"name":"org_id","type":"pubkey"},{"name":"escrow_nonce","type":"pubkey"}]}},{"name":"InitSyndicatedOrderParams","type":{"kind":"struct","fields":[{"name":"params","type":{"defined":{"name":"OrderParams"}}},{"name":"allow_early_repayments","type":"bool"},{"name":"nonce","type":"pubkey"},{"name":"org_id","type":"pubkey"},{"name":"permissions_type","type":"u8"},{"name":"market_manager","type":"pubkey"},{"name":"liquidation_manager","type":"pubkey"},{"name":"liquidation_threshold","type":"u64"},{"name":"origination_fee","type":"u64"}]}},{"name":"Ledger","docs":["Ledger Account to keep track of repayment schedule"],"type":{"kind":"struct","fields":[{"name":"ledger_id","docs":["integer ID of the payment, increments starting with 1"],"type":"u64"},{"name":"principal_due","docs":["key of the order this charge is used for","principal amount owed for this payment"],"type":"u64"},{"name":"principal_repaid","docs":["principal amount paid back to this payment"],"type":"u64"},{"name":"interest_due","docs":["interst due for this payment"],"type":"u64"},{"name":"interest_repaid","docs":["interest amount paid back to this payment"],"type":"u64"},{"name":"due_time_offset","docs":["seconds after loan start time"],"type":"i64"},{"name":"paid_time","type":"i64"},{"name":"payment_type","docs":["ledger type"],"type":"u8"},{"name":"is_filled","docs":["whether or not the payments have been made for this account"],"type":"bool"},{"name":"grace_period","docs":["Grace period for ledger default"],"type":"i64"},{"name":"late_payment_fee","docs":["late payment fee on ledger, bps of outstadning"],"type":"u64"},{"name":"early_payment_fee","docs":["early payment fee on ledger, bps of early payment"],"type":"u64"},{"name":"payment_window","docs":["payment window for when a payment is counted as early"],"type":"i64"},{"name":"reserve","docs":["reserve space"],"type":{"array":["u8",32]}}]}},{"name":"LoanVault","type":{"kind":"struct","fields":[{"name":"order","docs":["order account"],"type":"pubkey"},{"name":"lender","docs":["lender pubkey"],"type":"pubkey"},{"name":"borrower","docs":["borrower pubkey"],"type":"pubkey"},{"name":"collateral","docs":["collateral mint"],"type":"pubkey"},{"name":"debt_note","docs":["debt note","this is the mint of the nft that is minted to the borrower's escrow account"],"type":"pubkey"},{"name":"credit_note","docs":["credit note","this is the mint of the nft that is minted to the lender's escrow account","holding this will allow the lender to claim the collateral if the borrower does not repay"],"type":"pubkey"},{"name":"credit_claimed","docs":["has the collateral been right claimed by the lender"],"type":"bool"},{"name":"debt_claimed","docs":["obligation claimed","borrower has repaid the loan and claimed back the obligation"],"type":"bool"},{"name":"loan_start_time","docs":["loan start timestamp"],"type":"i64"},{"name":"num_fees_outstanding","docs":["number of unpaid fee accounts"],"type":"u64"},{"name":"fees_received","docs":["amount of fees received, used in credit claim"],"type":"u64"},{"name":"amount_claimed","docs":["amount claimed"],"type":"u64"},{"name":"buffer_0","docs":["buffer for potential future use, need to split up 120 bytes"],"type":{"array":["u8",64]}},{"name":"buffer_1","docs":["buffer for potential future use, need to split up 120 bytes"],"type":{"array":["u8",32]}},{"name":"buffer_2","docs":["buffer for potential future use, need to split up 120 bytes"],"type":{"array":["u8",8]}}]}},{"name":"Order","type":{"kind":"struct","fields":[{"name":"version","docs":["loan version"],"type":"u8"},{"name":"nonce","docs":["nonce for supporting multiple orders/user"],"type":"pubkey"},{"name":"maker","docs":["order maker pubkey"],"type":"pubkey"},{"name":"designated_taker","docs":["intended taker pubkey","this can be set to default to allow the order to be filled by any user"],"type":"pubkey"},{"name":"principal_mint","docs":["principal mint"],"type":"pubkey"},{"name":"principal_amount","docs":["principal amount"],"type":"u64"},{"name":"collateral_mint","docs":["collateral mint"],"type":"pubkey"},{"name":"collateral_amount","docs":["collateral amount"],"type":"u64"},{"name":"maker_role","docs":["order type"],"type":"u8"},{"name":"last_updated_slot","docs":["last updated slot"],"type":"u64"},{"name":"max_outstanding_payments","docs":["max outstanding payments accepted until order is defaulted"],"type":"u64"},{"name":"last_payment_id","docs":["id of the last ledger account for which payment has been made"],"type":"u64"},{"name":"final_payment_id","docs":["id of the final ledger account for which payment has to be made for"],"type":"u64"},{"name":"final_payment_time_offset","docs":["final payment time"],"type":"i64"},{"name":"status","docs":["order status"],"type":"u8"},{"name":"default_type","docs":["default type of the loan"],"type":"u8"},{"name":"created_at","docs":["order created at"],"type":"i64"},{"name":"funding_type","docs":["funding type of the order"],"type":"u8"},{"name":"allow_early_repayments","docs":["recalculate interest on early repayments"],"type":"bool"},{"name":"origination_fee","docs":["recalculate interest on early repayments"],"type":"u64"},{"name":"liquidation_manager","docs":["this is the authority that has the ability to liquidate the loan once it is marked as default"],"type":"pubkey"},{"name":"market_manager","docs":["this is the authority that has the ability to mark a loan as defaulted based on external oracles"],"type":"pubkey"},{"name":"liquidation_threshold","docs":["this is the minimum (loan value / collateral value at any point) * 10_000 * 100, below which the loan will be liquidated"],"type":"u64"},{"name":"refinance_enabled","docs":["refinance enabled"],"type":"bool"},{"name":"max_refinance_apy","docs":["max refinance apy in cbps"],"type":"u64"},{"name":"refinance_duration","docs":["refinance duration"],"type":"i64"},{"name":"refinance_duration_type","docs":["refinance duration type"],"type":"u8"},{"name":"buffer_3","docs":["buffer"],"type":{"array":["u8",19]}}]}},{"name":"OrderLedgers","type":{"kind":"struct","fields":[{"name":"version","type":"u8"},{"name":"order","type":"pubkey"},{"name":"ledgers","type":{"vec":{"defined":{"name":"Ledger"}}}}]}},{"name":"OrderParams","type":{"kind":"struct","fields":[{"name":"principal_mint","type":"pubkey"},{"name":"principal_amount","type":"u64"},{"name":"collateral_mint","type":"pubkey"},{"name":"collateral_amount","type":"u64"},{"name":"designated_taker","type":"pubkey"},{"name":"max_outstanding_payments","type":"u64"},{"name":"nonce","type":"pubkey"}]}},{"name":"PlaceSyndicatedOrderArgs","type":{"kind":"struct","fields":[{"name":"org_id","type":"pubkey"}]}},{"name":"RoleAccount","docs":["Role account to keep track of user roles.","","If a user has multiple roles then they have multiple role accounts.","Each ix will require a set of role accounts, all of which must  be passed in.","e.g to create borrow order oyu need the borrower role.","The created account is the proof or role, to remove a role close the role account."],"type":{"kind":"struct","fields":[]}},{"name":"SyndicatedOrder","type":{"kind":"struct","fields":[{"name":"maker","type":"pubkey"},{"name":"nonce","type":"pubkey"},{"name":"order","type":"pubkey"},{"name":"group_identifier","type":"pubkey"},{"name":"order_params","type":{"defined":{"name":"OrderParams"}}},{"name":"principal_deposited","type":"u64"},{"name":"principal_redeemed","type":"u64"},{"name":"creation_time","type":"i64"},{"name":"permissions_type","type":"u8"},{"name":"status","type":"u8"},{"name":"allow_early_repayments","type":"bool"},{"name":"origination_fee","type":"u64"},{"name":"liquidation_manager","type":"pubkey"},{"name":"liquidation_threshold","type":"u64"},{"name":"market_manager","type":"pubkey"},{"name":"refinance_enabled","docs":["refinance enabled"],"type":"bool"},{"name":"max_refinance_apy","docs":["max refinance apy in cbps"],"type":"u64"},{"name":"refinance_duration","docs":["refinance duration"],"type":"i64"},{"name":"refinance_duration_type","docs":["refinance duration type"],"type":"u8"},{"name":"reserve_3","type":{"array":["u8",29]}},{"name":"reserve_4","type":{"array":["u8",128]}},{"name":"reserve_5","type":{"array":["u8",256]}}]}},{"name":"UpdateSyndicatedOrderFundParams","type":{"kind":"struct","fields":[{"name":"amount","type":"u64"},{"name":"side","type":"u8"},{"name":"org_id","type":"pubkey"},{"name":"escrow_nonce","type":"pubkey"}]}}]}