{"address":"MEXkeo4BPUCZuEJ4idUUwMPu4qvc9nkqtLn3yAyZLxg","metadata":{"name":"swissborg_mex_proxy","version":"0.1.0","spec":"0.1.0","description":"Created with Anchor"},"instructions":[{"name":"deposit","docs":["Deposit funds in the proxy","","### Access control","- Treasurer","","### Parameters","- `amount` - The amount to deposit","- `native` - True if it's a native SOL deposit, false if it's an SPL deposit"],"discriminator":[242,35,198,137,82,225,242,182],"accounts":[{"name":"proxy","pda":{"seeds":[{"kind":"const","value":[112,114,111,120,121]}]}},{"name":"proxy_associated_token_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"proxy"},{"kind":"account","path":"token_program"},{"kind":"account","path":"token_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"treasurer","writable":true,"signer":true},{"name":"treasurer_associated_token_account","writable":true,"optional":true,"pda":{"seeds":[{"kind":"account","path":"treasurer"},{"kind":"account","path":"token_program"},{"kind":"account","path":"token_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"token_mint"},{"name":"token_program"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"},{"name":"event_authority","pda":{"seeds":[{"kind":"const","value":[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{"name":"program"}],"args":[{"name":"amount","type":"u64"},{"name":"native","type":"bool"}]},{"name":"initialize","docs":["Initialise the proxy state","","### Access control","- Deployer","","### Parameters","- `admin` - The admin address","- `manager` - The manager address","- `treasurer` - The treasurer address","- `trader` - The trader address"],"discriminator":[175,175,109,31,13,152,155,237],"accounts":[{"name":"proxy","writable":true,"pda":{"seeds":[{"kind":"const","value":[112,114,111,120,121]}]}},{"name":"deployer","writable":true,"signer":true},{"name":"program","address":"MEXkeo4BPUCZuEJ4idUUwMPu4qvc9nkqtLn3yAyZLxg"},{"name":"program_data"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"admin","type":"pubkey"},{"name":"manager","type":"pubkey"},{"name":"treasurer","type":"pubkey"},{"name":"trader","type":"pubkey"}]},{"name":"pause_market","docs":["Pause trading activities on a specific Phoenix market","","### Access control","- Treasurer"],"discriminator":[216,238,4,164,65,11,162,91],"accounts":[{"name":"market","writable":true,"pda":{"seeds":[{"kind":"account","path":"market.program_address","account":"Market"},{"kind":"account","path":"market.market_address","account":"Market"}]}},{"name":"proxy","pda":{"seeds":[{"kind":"const","value":[112,114,111,120,121]}]}},{"name":"treasurer","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[]},{"name":"pause_proxy","docs":["Pause all trading activities","","### Access control","- Manager"],"discriminator":[218,176,225,209,63,158,215,194],"accounts":[{"name":"proxy","writable":true,"pda":{"seeds":[{"kind":"const","value":[112,114,111,120,121]}]}},{"name":"manager","writable":true,"signer":true}],"args":[]},{"name":"pause_whitelisted_mint","docs":["Pause trading activities on a specific Mint","","### Access control","- Treasurer"],"discriminator":[101,120,71,4,8,249,208,143],"accounts":[{"name":"whitelisted_mint","writable":true},{"name":"proxy","pda":{"seeds":[{"kind":"const","value":[112,114,111,120,121]}]}},{"name":"treasurer","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[]},{"name":"remove_market","docs":["Remove a market from whitelist","","### Access control","- Manager"],"discriminator":[138,35,250,163,200,202,40,110],"accounts":[{"name":"market","writable":true,"pda":{"seeds":[{"kind":"account","path":"market.program_address","account":"Market"},{"kind":"account","path":"market.market_address","account":"Market"}]}},{"name":"proxy","pda":{"seeds":[{"kind":"const","value":[112,114,111,120,121]}]}},{"name":"manager","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[]},{"name":"set_admin","docs":["Set a new admin","","### Access control","- Admin"],"discriminator":[251,163,0,52,91,194,187,92],"accounts":[{"name":"proxy","writable":true,"pda":{"seeds":[{"kind":"const","value":[112,114,111,120,121]}]}},{"name":"old_admin","writable":true,"signer":true},{"name":"new_admin","writable":true,"signer":true}],"args":[]},{"name":"set_manager","docs":["Set a new manager","","### Access control","- Admin","","### Parameters","- `new_manager` - The pubkey of the new manager"],"discriminator":[30,197,171,92,121,184,151,165],"accounts":[{"name":"proxy","writable":true,"pda":{"seeds":[{"kind":"const","value":[112,114,111,120,121]}]}},{"name":"admin","writable":true,"signer":true}],"args":[{"name":"new_manager","type":"pubkey"}]},{"name":"set_trader","docs":["Set a new trader","","### Access control","- Admin","","### Parameters","- `new_trader` - The pubkey of the new trader"],"discriminator":[47,43,55,220,45,149,198,29],"accounts":[{"name":"proxy","writable":true,"pda":{"seeds":[{"kind":"const","value":[112,114,111,120,121]}]}},{"name":"admin","writable":true,"signer":true}],"args":[{"name":"new_trader","type":"pubkey"}]},{"name":"set_treasurer","docs":["Set a new treasurer","","### Access control","- Admin","","### Parameters","- `new_treasurer` - The pubkey of the new treasurer"],"discriminator":[100,87,30,190,191,14,164,98],"accounts":[{"name":"proxy","writable":true,"pda":{"seeds":[{"kind":"const","value":[112,114,111,120,121]}]}},{"name":"admin","writable":true,"signer":true}],"args":[{"name":"new_treasurer","type":"pubkey"}]},{"name":"swap_route","docs":["Execute a bundle of swap atomically","","### Access control","- Trader","","### Parameters","- `route` - A structure containing the data_accounts needed to execute the bundle:","{ route_plan, amount_in, min_amount_out }"],"discriminator":[86,183,163,144,0,50,173,28],"accounts":[{"name":"proxy","pda":{"seeds":[{"kind":"const","value":[112,114,111,120,121]}]}},{"name":"trader","signer":true},{"name":"event_authority","pda":{"seeds":[{"kind":"const","value":[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{"name":"program"}],"args":[{"name":"route_plan","type":{"defined":{"name":"RoutePlan"}}}]},{"name":"swap_route_with_whitelisted_mint","docs":["Execute a bundle of swap atomically","","### Access control","- Trader","","### Parameters","- `route` - A structure containing the data_accounts needed to execute the bundle:","{ route_plan, amount_in, min_amount_out }"],"discriminator":[116,120,49,208,174,150,145,170],"accounts":[{"name":"proxy","pda":{"seeds":[{"kind":"const","value":[112,114,111,120,121]}]}},{"name":"trader","signer":true},{"name":"event_authority","pda":{"seeds":[{"kind":"const","value":[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{"name":"program"}],"args":[{"name":"route_plan","type":{"defined":{"name":"RoutePlan"}}}]},{"name":"unpause_market","docs":["Resume trading activities on a specific Phoenix market","","### Access control","- Treasurer"],"discriminator":[219,203,199,170,212,45,170,80],"accounts":[{"name":"market","writable":true,"pda":{"seeds":[{"kind":"account","path":"market.program_address","account":"Market"},{"kind":"account","path":"market.market_address","account":"Market"}]}},{"name":"proxy","pda":{"seeds":[{"kind":"const","value":[112,114,111,120,121]}]}},{"name":"treasurer","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[]},{"name":"unpause_proxy","docs":["Resume all trading activities","","### Access control","- Manager"],"discriminator":[27,227,56,38,215,191,207,118],"accounts":[{"name":"proxy","writable":true,"pda":{"seeds":[{"kind":"const","value":[112,114,111,120,121]}]}},{"name":"manager","writable":true,"signer":true}],"args":[]},{"name":"unpause_whitelisted_mint","docs":["Resume trading activities on a specific mint","","### Access control","- Treasurer"],"discriminator":[29,239,76,41,21,59,89,42],"accounts":[{"name":"whitelisted_mint","writable":true},{"name":"proxy","pda":{"seeds":[{"kind":"const","value":[112,114,111,120,121]}]}},{"name":"treasurer","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[]},{"name":"whitelist_market","docs":["Whitelist a new market","","### Access control","- Admin"],"discriminator":[251,125,67,203,224,152,197,172],"accounts":[{"name":"program_address"},{"name":"market_address"},{"name":"market","writable":true,"pda":{"seeds":[{"kind":"account","path":"program_address"},{"kind":"account","path":"market_address"}]}},{"name":"proxy","pda":{"seeds":[{"kind":"const","value":[112,114,111,120,121]}]}},{"name":"admin","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[]},{"name":"whitelist_mint","docs":["Allow trading activities on a specific Mint","","### Access control","- Admin"],"discriminator":[210,85,94,18,130,142,59,121],"accounts":[{"name":"mint"},{"name":"whitelisted_mint","writable":true,"pda":{"seeds":[{"kind":"const","value":[119,104,105,116,101,108,105,115,116,101,100,95,109,105,110,116]},{"kind":"account","path":"mint"}]}},{"name":"proxy","pda":{"seeds":[{"kind":"const","value":[112,114,111,120,121]}]}},{"name":"admin","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[]},{"name":"withdraw","docs":["Withdraw funds from the proxy","","### Access control","- Treasurer","","### Parameters","- `amount` - The amount to withdraw","- 'native' - True if it's a SOL Withdraw, false if it's an SPL Withdraw"],"discriminator":[183,18,70,156,148,109,161,34],"accounts":[{"name":"proxy","pda":{"seeds":[{"kind":"const","value":[112,114,111,120,121]}]}},{"name":"proxy_associated_token_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"proxy"},{"kind":"account","path":"token_program"},{"kind":"account","path":"token_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"treasurer","writable":true,"signer":true},{"name":"treasurer_associated_token_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"treasurer"},{"kind":"account","path":"token_program"},{"kind":"account","path":"token_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"token_mint"},{"name":"token_program"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"},{"name":"event_authority","pda":{"seeds":[{"kind":"const","value":[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{"name":"program"}],"args":[{"name":"amount","type":"u64"},{"name":"native","type":"bool"}]},{"name":"wrap","docs":["Wrap SOL to wSOL","","### Access control","- Treasurer"],"discriminator":[178,40,10,189,228,129,186,140],"accounts":[{"name":"proxy","pda":{"seeds":[{"kind":"const","value":[112,114,111,120,121]}]}},{"name":"token_mint"},{"name":"proxy_associated_token_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"proxy"},{"kind":"const","value":[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{"kind":"account","path":"token_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"treasurer","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[]}],"accounts":[{"name":"Market","discriminator":[219,190,213,55,0,227,198,154]},{"name":"Proxy","discriminator":[36,36,123,35,158,89,75,41]},{"name":"WhitelistedMint","discriminator":[104,131,221,119,223,1,1,18]}],"events":[{"name":"DepositEvent","discriminator":[120,248,61,83,31,142,107,144]},{"name":"SwapRouteEvent","discriminator":[51,43,212,99,126,126,248,132]},{"name":"WithdrawEvent","discriminator":[22,9,133,26,160,44,71,192]}],"errors":[{"code":6000,"name":"NotAdmin","msg":"Signer must be the admin"},{"code":6001,"name":"NotManager","msg":"Signer must be the manager"},{"code":6002,"name":"NotTreasurer","msg":"Signer must be the treasurer"},{"code":6003,"name":"NotTrader","msg":"Signer must be the trader"},{"code":6004,"name":"SameAdmin","msg":"Signer must be different from the current admin"},{"code":6005,"name":"ProxyIsPaused","msg":"The proxy is paused"},{"code":6006,"name":"MarketDoesNotExist","msg":"The market does not exist"},{"code":6007,"name":"IncorrectMarket","msg":"The market is incorrect"},{"code":6008,"name":"MarketIsPaused","msg":"The market is paused"},{"code":6009,"name":"WrongProxyATA","msg":"ATA must be owned by Proxy"},{"code":6010,"name":"NotNative","msg":"The mint is not wsol"},{"code":6011,"name":"InvalidDiscriminator","msg":"The discriminator is invalid"},{"code":6012,"name":"WrongOwner","msg":"The owner is incorrect"},{"code":6013,"name":"IncorrectNumberOfAccounts","msg":"Incorrect number of accounts"},{"code":6014,"name":"AmountOutBelowMinimum","msg":"The amount out is below the minimum amount out"},{"code":6015,"name":"DelegatedAmountIsNotZero","msg":"The delegated amount must be zero"},{"code":6016,"name":"TooMuchSpent","msg":"Too much has been spent"},{"code":6017,"name":"InvalidPercent","msg":"Invalid percent, should be less then 100%"},{"code":6018,"name":"UnWhitelistedMint","msg":"Mint is not whitelisted"},{"code":6019,"name":"MintIsPaused","msg":"Mint is Paused"},{"code":6020,"name":"InvalidWhitelistedMintAccount","msg":"Invalid whitelisted mint account"},{"code":6021,"name":"InvalidProxyAccount","msg":"Invalid proxy account"},{"code":6022,"name":"InvalidAccount","msg":"InvalidAccount"}],"types":[{"name":"AmountExchanged","type":{"kind":"struct","fields":[{"name":"mint","type":"pubkey"},{"name":"amount","type":"u64"}]}},{"name":"DepositEvent","type":{"kind":"struct","fields":[{"name":"from","type":"pubkey"},{"name":"to","type":"pubkey"},{"name":"mint","type":"pubkey"},{"name":"amount","type":"u64"}]}},{"name":"Dex","type":{"kind":"enum","variants":[{"name":"Lifinity","fields":[]},{"name":"MeteoraDlmm","fields":[{"name":"remaining_accounts_count","type":"u8"}]},{"name":"OpenbookV2","fields":[{"name":"side","type":{"defined":{"name":"Side"}}},{"name":"quote_lot_size","type":"i64"},{"name":"base_lot_size","type":"i64"}]},{"name":"PhoenixV1","fields":[{"name":"side","type":{"defined":{"name":"Side"}}},{"name":"quote_lot_size","type":"u64"},{"name":"base_lot_size","type":"u64"}]},{"name":"RaydiumAmmV4","fields":[]},{"name":"RaydiumClmm","fields":[{"name":"remaining_accounts_count","type":"u8"}]},{"name":"RaydiumCpmm","fields":[]},{"name":"Whirlpool","fields":[{"name":"a_to_b","type":"bool"}]}]}},{"name":"IndexedAmount","type":{"kind":"struct","fields":[{"name":"index","docs":["index in the list"],"type":"u8"},{"name":"amount","docs":["amount to use"],"type":"u64"}]}},{"name":"IndexedPercent","type":{"kind":"struct","fields":[{"name":"index","docs":["index in the list"],"type":"u8"},{"name":"percent","docs":["percent to use"],"type":"u64"}]}},{"name":"Market","docs":["This structure stores information about a whitelisted market"],"type":{"kind":"struct","fields":[{"name":"program_address","type":"pubkey"},{"name":"market_address","type":"pubkey"},{"name":"is_paused","type":"bool"}]}},{"name":"Proxy","docs":["This strucuture stores the main information about the proxy such as the addresses that have privileged access right"],"type":{"kind":"struct","fields":[{"name":"admin","type":"pubkey"},{"name":"manager","type":"pubkey"},{"name":"treasurer","type":"pubkey"},{"name":"trader","type":"pubkey"},{"name":"is_paused","type":"bool"}]}},{"name":"RoutePlan","type":{"kind":"struct","fields":[{"name":"swaps","type":{"vec":{"defined":{"name":"Swap"}}}},{"name":"input_amounts","type":{"vec":{"defined":{"name":"IndexedAmount"}}}},{"name":"min_output_amounts","type":{"vec":{"defined":{"name":"IndexedAmount"}}}}]}},{"name":"Side","type":{"kind":"enum","variants":[{"name":"Bid"},{"name":"Ask"}]}},{"name":"Swap","type":{"kind":"struct","fields":[{"name":"order_id","docs":["use to track orders"],"type":"u64"},{"name":"dex","docs":["dex and args to use"],"type":{"defined":{"name":"Dex"}}},{"name":"inputs","docs":["list of percent of amount at a given index in the list to use as input amount"],"type":{"vec":{"defined":{"name":"IndexedPercent"}}}},{"name":"output_index","docs":["index where to write the output amount"],"type":"u8"}]}},{"name":"SwapEvent","type":{"kind":"struct","fields":[{"name":"order_id","type":"u64"},{"name":"market_id","type":"pubkey"},{"name":"amount_in","type":{"defined":{"name":"AmountExchanged"}}},{"name":"amount_out","type":{"defined":{"name":"AmountExchanged"}}}]}},{"name":"SwapRouteEvent","type":{"kind":"struct","fields":[{"name":"swap_events","type":{"vec":{"defined":{"name":"SwapEvent"}}}}]}},{"name":"WhitelistedMint","serialization":"bytemuck","repr":{"kind":"c"},"type":{"kind":"struct","fields":[{"name":"mint","type":"pubkey"},{"name":"is_paused","docs":["0 if unpaused","1 if paused"],"type":"u8"}]}},{"name":"WithdrawEvent","type":{"kind":"struct","fields":[{"name":"from","type":"pubkey"},{"name":"to","type":"pubkey"},{"name":"mint","type":"pubkey"},{"name":"amount","type":"u64"}]}}]}