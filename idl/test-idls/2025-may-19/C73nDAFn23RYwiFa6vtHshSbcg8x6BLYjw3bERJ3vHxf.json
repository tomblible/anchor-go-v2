{"version":"0.1.1","name":"clend","instructions":[{"name":"clendGroupInitialize","accounts":[{"name":"clendGroup","isMut":true,"isSigner":true},{"name":"admin","isMut":true,"isSigner":true},{"name":"feeState","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"clendGroupConfigure","accounts":[{"name":"clendGroup","isMut":true,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[{"name":"config","type":{"defined":"GroupConfig"}}]},{"name":"lendingPoolAddBankWithSeed","docs":["A copy of lending_pool_add_bank with an additional bank seed.","This seed is used to create a PDA for the bank's signature.","lending_pool_add_bank is preserved for backwards compatibility."],"accounts":[{"name":"clendGroup","isMut":false,"isSigner":false},{"name":"admin","isMut":true,"isSigner":true},{"name":"feeState","isMut":false,"isSigner":false},{"name":"globalFeeWallet","isMut":true,"isSigner":false},{"name":"bankMint","isMut":false,"isSigner":false},{"name":"bank","isMut":true,"isSigner":false},{"name":"liquidityVaultAuthority","isMut":false,"isSigner":false},{"name":"liquidityVault","isMut":true,"isSigner":false},{"name":"insuranceVaultAuthority","isMut":false,"isSigner":false},{"name":"insuranceVault","isMut":true,"isSigner":false},{"name":"feeVaultAuthority","isMut":false,"isSigner":false},{"name":"feeVault","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"bankConfig","type":{"defined":"BankConfigCompact"}},{"name":"irConfig","type":{"defined":"InterestRateConfigCompact"}}]},{"name":"lendingPoolConfigureBank","accounts":[{"name":"clendGroup","isMut":false,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true},{"name":"bank","isMut":true,"isSigner":false}],"args":[{"name":"bankConfigOpt","type":{"defined":"BankConfigOpt"}}]},{"name":"lendingPoolConfigureBankIr","accounts":[{"name":"clendGroup","isMut":false,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true},{"name":"bank","isMut":true,"isSigner":false}],"args":[{"name":"irConfig","type":{"defined":"InterestRateConfigOpt"}}]},{"name":"lendingPoolConfigureBankOracle","accounts":[{"name":"group","isMut":false,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true},{"name":"bank","isMut":true,"isSigner":false}],"args":[{"name":"setup","type":"u8"},{"name":"oracle","type":"publicKey"}]},{"name":"lendingPoolSetupEmissions","accounts":[{"name":"clendGroup","isMut":false,"isSigner":false},{"name":"admin","isMut":true,"isSigner":true},{"name":"bank","isMut":true,"isSigner":false},{"name":"emissionsMint","isMut":false,"isSigner":false},{"name":"emissionsAuth","isMut":false,"isSigner":false},{"name":"emissionsTokenAccount","isMut":true,"isSigner":false},{"name":"emissionsFundingAccount","isMut":true,"isSigner":false,"docs":["NOTE: This is a TokenAccount, spl transfer will validate it.",""]},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"flags","type":"u64"},{"name":"rate","type":"u64"},{"name":"totalEmissions","type":"u64"}]},{"name":"lendingPoolUpdateEmissionsParameters","accounts":[{"name":"clendGroup","isMut":false,"isSigner":false},{"name":"admin","isMut":true,"isSigner":true},{"name":"bank","isMut":true,"isSigner":false},{"name":"emissionsMint","isMut":false,"isSigner":false},{"name":"emissionsTokenAccount","isMut":true,"isSigner":false},{"name":"emissionsFundingAccount","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"emissionsFlags","type":{"option":"u64"}},{"name":"emissionsRate","type":{"option":"u64"}},{"name":"additionalEmissions","type":{"option":"u64"}}]},{"name":"lendingPoolHandleBankruptcy","docs":["Handle bad debt of a bankrupt clend account for a given bank."],"accounts":[{"name":"clendGroup","isMut":false,"isSigner":false},{"name":"signer","isMut":false,"isSigner":true},{"name":"bank","isMut":true,"isSigner":false},{"name":"clendAccount","isMut":true,"isSigner":false},{"name":"liquidityVault","isMut":true,"isSigner":false},{"name":"insuranceVault","isMut":true,"isSigner":false},{"name":"insuranceVaultAuthority","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"clendAccountInitialize","docs":["Initialize a clend account for a given group"],"accounts":[{"name":"clendGroup","isMut":false,"isSigner":false},{"name":"clendAccount","isMut":true,"isSigner":true},{"name":"authority","isMut":false,"isSigner":true},{"name":"feePayer","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"lendingAccountDeposit","accounts":[{"name":"clendGroup","isMut":false,"isSigner":false},{"name":"clendAccount","isMut":true,"isSigner":false},{"name":"signer","isMut":false,"isSigner":true},{"name":"bank","isMut":true,"isSigner":false},{"name":"signerTokenAccount","isMut":true,"isSigner":false},{"name":"bankLiquidityVault","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"lendingAccountRepay","accounts":[{"name":"clendGroup","isMut":false,"isSigner":false},{"name":"clendAccount","isMut":true,"isSigner":false},{"name":"signer","isMut":false,"isSigner":true},{"name":"bank","isMut":true,"isSigner":false},{"name":"signerTokenAccount","isMut":true,"isSigner":false},{"name":"bankLiquidityVault","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"},{"name":"repayAll","type":{"option":"bool"}}]},{"name":"lendingAccountWithdraw","accounts":[{"name":"clendGroup","isMut":false,"isSigner":false},{"name":"clendAccount","isMut":true,"isSigner":false},{"name":"signer","isMut":false,"isSigner":true},{"name":"bank","isMut":true,"isSigner":false},{"name":"destinationTokenAccount","isMut":true,"isSigner":false},{"name":"bankLiquidityVaultAuthority","isMut":true,"isSigner":false},{"name":"bankLiquidityVault","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"},{"name":"withdrawAll","type":{"option":"bool"}}]},{"name":"lendingAccountBorrow","accounts":[{"name":"clendGroup","isMut":false,"isSigner":false},{"name":"clendAccount","isMut":true,"isSigner":false},{"name":"signer","isMut":false,"isSigner":true},{"name":"bank","isMut":true,"isSigner":false},{"name":"destinationTokenAccount","isMut":true,"isSigner":false},{"name":"bankLiquidityVaultAuthority","isMut":true,"isSigner":false},{"name":"bankLiquidityVault","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"lendingAccountCloseBalance","accounts":[{"name":"clendGroup","isMut":false,"isSigner":false},{"name":"clendAccount","isMut":true,"isSigner":false},{"name":"signer","isMut":false,"isSigner":true},{"name":"bank","isMut":true,"isSigner":false}],"args":[]},{"name":"lendingAccountWithdrawEmissions","accounts":[{"name":"clendGroup","isMut":false,"isSigner":false},{"name":"clendAccount","isMut":true,"isSigner":false},{"name":"signer","isMut":false,"isSigner":true},{"name":"bank","isMut":true,"isSigner":false},{"name":"emissionsMint","isMut":false,"isSigner":false},{"name":"emissionsAuth","isMut":false,"isSigner":false},{"name":"emissionsVault","isMut":true,"isSigner":false},{"name":"destinationAccount","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"lendingAccountSettleEmissions","accounts":[{"name":"clendAccount","isMut":true,"isSigner":false},{"name":"bank","isMut":true,"isSigner":false}],"args":[]},{"name":"lendingAccountLiquidate","docs":["Liquidate a lending account balance of an unhealthy clend account"],"accounts":[{"name":"group","isMut":false,"isSigner":false},{"name":"assetBank","isMut":true,"isSigner":false},{"name":"liabBank","isMut":true,"isSigner":false},{"name":"liquidatorClendAccount","isMut":true,"isSigner":false},{"name":"signer","isMut":false,"isSigner":true},{"name":"liquidateeClendAccount","isMut":true,"isSigner":false},{"name":"bankLiquidityVaultAuthority","isMut":true,"isSigner":false},{"name":"bankLiquidityVault","isMut":true,"isSigner":false},{"name":"bankInsuranceVault","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"assetAmount","type":"u64"}]},{"name":"lendingAccountStartFlashloan","accounts":[{"name":"clendAccount","isMut":true,"isSigner":false},{"name":"signer","isMut":false,"isSigner":true},{"name":"ixsSysvar","isMut":false,"isSigner":false}],"args":[{"name":"endIndex","type":"u64"}]},{"name":"lendingAccountEndFlashloan","accounts":[{"name":"clendAccount","isMut":true,"isSigner":false},{"name":"signer","isMut":false,"isSigner":true}],"args":[]},{"name":"lendingPoolAccrueBankInterest","accounts":[{"name":"clendGroup","isMut":false,"isSigner":false},{"name":"bank","isMut":true,"isSigner":false}],"args":[]},{"name":"lendingPoolCollectBankFees","accounts":[{"name":"clendGroup","isMut":false,"isSigner":false},{"name":"bank","isMut":true,"isSigner":false},{"name":"liquidityVaultAuthority","isMut":false,"isSigner":false},{"name":"liquidityVault","isMut":true,"isSigner":false},{"name":"insuranceVault","isMut":true,"isSigner":false},{"name":"feeVault","isMut":true,"isSigner":false},{"name":"feeState","isMut":false,"isSigner":false},{"name":"feeAta","isMut":true,"isSigner":false,"docs":["(validated in handler). Must already exist, may require initializing the ATA if it does not","already exist prior to this ix."]},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"lendingPoolWithdrawFees","accounts":[{"name":"clendGroup","isMut":false,"isSigner":false},{"name":"bank","isMut":false,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true},{"name":"feeVault","isMut":true,"isSigner":false},{"name":"feeVaultAuthority","isMut":false,"isSigner":false},{"name":"dstTokenAccount","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"lendingPoolWithdrawInsurance","accounts":[{"name":"clendGroup","isMut":false,"isSigner":false},{"name":"bank","isMut":false,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true},{"name":"insuranceVault","isMut":true,"isSigner":false},{"name":"insuranceVaultAuthority","isMut":false,"isSigner":false},{"name":"dstTokenAccount","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"lendingPoolResetBankFees","accounts":[{"name":"clendGroup","isMut":false,"isSigner":false},{"name":"bank","isMut":true,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[]},{"name":"setAccountFlag","accounts":[{"name":"clendGroup","isMut":false,"isSigner":false},{"name":"clendAccount","isMut":true,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true,"docs":["Admin only"]}],"args":[{"name":"flag","type":"u64"}]},{"name":"unsetAccountFlag","accounts":[{"name":"clendGroup","isMut":false,"isSigner":false},{"name":"clendAccount","isMut":true,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true,"docs":["Admin only"]}],"args":[{"name":"flag","type":"u64"}]},{"name":"setNewAccountAuthority","accounts":[{"name":"clendAccount","isMut":true,"isSigner":false},{"name":"clendGroup","isMut":false,"isSigner":false},{"name":"signer","isMut":false,"isSigner":true},{"name":"newAuthority","isMut":false,"isSigner":false},{"name":"feePayer","isMut":true,"isSigner":true}],"args":[]},{"name":"clendAccountClose","accounts":[{"name":"clendAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"feePayer","isMut":true,"isSigner":true}],"args":[]},{"name":"initGlobalFeeState","docs":["(Runs once per program) Configures the fee state account, where the global admin sets fees","that are assessed to the protocol"],"accounts":[{"name":"payer","isMut":true,"isSigner":true,"docs":["Pays the init fee"]},{"name":"feeState","isMut":true,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"admin","type":"publicKey"},{"name":"feeWallet","type":"publicKey"},{"name":"bankInitFlatSolFee","type":"u32"},{"name":"programFeeFixed","type":{"defined":"WrappedI80F48"}},{"name":"programFeeRate","type":{"defined":"WrappedI80F48"}}]},{"name":"editGlobalFeeState","docs":["(global fee admin only) Adjust fees or the destination wallet"],"accounts":[{"name":"globalFeeAdmin","isMut":true,"isSigner":true,"docs":["Admin of the global FeeState"]},{"name":"feeState","isMut":true,"isSigner":false}],"args":[{"name":"feeWallet","type":"publicKey"},{"name":"bankInitFlatSolFee","type":"u32"},{"name":"programFeeFixed","type":{"defined":"WrappedI80F48"}},{"name":"programFeeRate","type":{"defined":"WrappedI80F48"}}]},{"name":"propagateFeeState","docs":["(Permissionless) Force any group to adopt the current FeeState settings"],"accounts":[{"name":"feeState","isMut":false,"isSigner":false},{"name":"clendGroup","isMut":true,"isSigner":false,"docs":["Any group, this ix is permisionless and can propogate the fee to any group"]}],"args":[]},{"name":"configGroupFee","docs":["(global fee admin only) Enable or disable program fees for any group. Does not require the","group admin to sign: the global fee state admin can turn program fees on or off for any","group"],"accounts":[{"name":"clendGroup","isMut":true,"isSigner":false},{"name":"globalFeeAdmin","isMut":false,"isSigner":true,"docs":["`global_fee_admin` of the FeeState"]},{"name":"feeState","isMut":false,"isSigner":false}],"args":[{"name":"flag","type":"u64"}]},{"name":"initStakedSettings","docs":["(group admin only) Init the Staked Settings account, which is used to create staked","collateral banks, and must run before any staked collateral bank can be created with","`add_pool_permissionless`. Running this ix effectively opts the group into the staked","collateral feature."],"accounts":[{"name":"clendGroup","isMut":false,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true},{"name":"feePayer","isMut":true,"isSigner":true,"docs":["Pays the init fee"]},{"name":"stakedSettings","isMut":true,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"settings","type":{"defined":"StakedSettingsConfig"}}]},{"name":"editStakedSettings","accounts":[{"name":"clendGroup","isMut":false,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true},{"name":"stakedSettings","isMut":true,"isSigner":false}],"args":[{"name":"settings","type":{"defined":"StakedSettingsEditConfig"}}]},{"name":"propagateStakedSettings","accounts":[{"name":"clendGroup","isMut":false,"isSigner":false},{"name":"stakedSettings","isMut":false,"isSigner":false},{"name":"bank","isMut":true,"isSigner":false}],"args":[]}],"accounts":[{"name":"ClendAccount","type":{"kind":"struct","fields":[{"name":"group","type":"publicKey"},{"name":"authority","type":"publicKey"},{"name":"lendingAccount","type":{"defined":"LendingAccount"}},{"name":"accountFlags","docs":["The flags that indicate the state of the account.","This is u64 bitfield, where each bit represents a flag.","","Flags:","- DISABLED_FLAG = 1 << 0 = 1 - This flag indicates that the account is disabled,","and no further actions can be taken on it.","- IN_FLASHLOAN_FLAG (1 << 1)","- FLASHLOAN_ENABLED_FLAG (1 << 2)","- TRANSFER_AUTHORITY_ALLOWED_FLAG (1 << 3)"],"type":"u64"},{"name":"padding","type":{"array":["u64",63]}}]}},{"name":"ClendGroup","type":{"kind":"struct","fields":[{"name":"admin","type":"publicKey"},{"name":"groupFlags","docs":["Bitmask for group settings flags.","* Bit 0: If set, program-level fees are enabled.","* Bits 1-63: Reserved for future use."],"type":"u64"},{"name":"feeStateCache","docs":["Caches information from the global `FeeState` so the FeeState can be omitted on certain ixes"],"type":{"defined":"FeeStateCache"}},{"name":"padding0","type":{"array":[{"array":["u64",2]},27]}},{"name":"padding1","type":{"array":[{"array":["u64",2]},32]}},{"name":"padding3","type":"u64"}]}},{"name":"Bank","type":{"kind":"struct","fields":[{"name":"mint","type":"publicKey"},{"name":"mintDecimals","type":"u8"},{"name":"group","type":"publicKey"},{"name":"pad0","type":{"array":["u8",7]}},{"name":"assetShareValue","type":{"defined":"WrappedI80F48"}},{"name":"liabilityShareValue","type":{"defined":"WrappedI80F48"}},{"name":"liquidityVault","type":"publicKey"},{"name":"liquidityVaultBump","type":"u8"},{"name":"liquidityVaultAuthorityBump","type":"u8"},{"name":"insuranceVault","type":"publicKey"},{"name":"insuranceVaultBump","type":"u8"},{"name":"insuranceVaultAuthorityBump","type":"u8"},{"name":"pad1","type":{"array":["u8",4]}},{"name":"collectedInsuranceFeesOutstanding","docs":["Fees collected and pending withdraw for the `insurance_vault`"],"type":{"defined":"WrappedI80F48"}},{"name":"feeVault","type":"publicKey"},{"name":"feeVaultBump","type":"u8"},{"name":"feeVaultAuthorityBump","type":"u8"},{"name":"pad2","type":{"array":["u8",6]}},{"name":"collectedGroupFeesOutstanding","docs":["Fees collected and pending withdraw for the `fee_vault`"],"type":{"defined":"WrappedI80F48"}},{"name":"totalLiabilityShares","type":{"defined":"WrappedI80F48"}},{"name":"totalAssetShares","type":{"defined":"WrappedI80F48"}},{"name":"lastUpdate","type":"i64"},{"name":"config","type":{"defined":"BankConfig"}},{"name":"flags","docs":["Bank Config Flags","","- EMISSIONS_FLAG_BORROW_ACTIVE: 1","- EMISSIONS_FLAG_LENDING_ACTIVE: 2","- PERMISSIONLESS_BAD_DEBT_SETTLEMENT: 4",""],"type":"u64"},{"name":"emissionsRate","docs":["Emissions APR.","Number of emitted tokens (emissions_mint) per 1e(bank.mint_decimal) tokens (bank mint) (native amount) per 1 YEAR."],"type":"u64"},{"name":"emissionsRemaining","type":{"defined":"WrappedI80F48"}},{"name":"emissionsMint","type":"publicKey"},{"name":"collectedProgramFeesOutstanding","docs":["Fees collected and pending withdraw for the `FeeState.global_fee_wallet`'s cannonical ATA for `mint`"],"type":{"defined":"WrappedI80F48"}},{"name":"authorizedLender","docs":["If set, only this address is authorized to lend tokens to this bank"],"type":"publicKey"},{"name":"padding0","type":{"array":[{"array":["u64",2]},25]}},{"name":"padding1","type":{"array":[{"array":["u64",2]},32]}}]}},{"name":"FeeState","docs":["Unique per-program. The Program Owner uses this account to administrate fees collected by the protocol"],"type":{"kind":"struct","fields":[{"name":"key","docs":["The fee state's own key. A PDA derived from just `b\"feestate\"`"],"type":"publicKey"},{"name":"globalFeeAdmin","docs":["Can modify fees"],"type":"publicKey"},{"name":"globalFeeWallet","docs":["The base wallet for all protocol fees. All SOL fees go to this wallet. All non-SOL fees go","to the cannonical ATA of this wallet for that asset."],"type":"publicKey"},{"name":"placeholder0","type":"u64"},{"name":"bankInitFlatSolFee","docs":["Flat fee assessed when a new bank is initialized, in lamports.","* In SOL, in native decimals."],"type":"u32"},{"name":"bumpSeed","type":"u8"},{"name":"padding0","type":{"array":["u8",4]}},{"name":"padding1","type":{"array":["u8",15]}},{"name":"programFeeFixed","docs":["Fee collected by the program owner from all groups"],"type":{"defined":"WrappedI80F48"}},{"name":"programFeeRate","docs":["Fee collected by the program owner from all groups"],"type":{"defined":"WrappedI80F48"}},{"name":"reserved0","type":{"array":["u8",32]}},{"name":"reserved1","type":{"array":["u8",64]}}]}},{"name":"StakedSettings","docs":["Unique per-group. Staked Collateral banks created under a group automatically use these","settings. Groups that have not created this struct cannot create staked collateral banks. When","this struct updates, changes must be permissionlessly propogated to staked collateral banks.","Administrators can also edit the bank manually, i.e. with configure_bank, to temporarily make","changes such as raising the deposit limit for a single bank."],"type":{"kind":"struct","fields":[{"name":"key","docs":["This account's own key. A PDA derived from `clend_group` and `STAKED_SETTINGS_SEED`"],"type":"publicKey"},{"name":"clendGroup","docs":["Group for which these settings apply"],"type":"publicKey"},{"name":"oracle","docs":["Generally, the Pyth push oracle for SOL"],"type":"publicKey"},{"name":"assetWeightInit","type":{"defined":"WrappedI80F48"}},{"name":"assetWeightMaint","type":{"defined":"WrappedI80F48"}},{"name":"depositLimit","type":"u64"},{"name":"totalAssetValueInitLimit","type":"u64"},{"name":"oracleMaxAge","type":"u16"},{"name":"riskTier","type":{"defined":"RiskTier"}},{"name":"pad0","type":{"array":["u8",5]}},{"name":"reserved0","docs":["The following values are irrelevant because staked collateral positions do not support","borrowing."],"type":{"array":["u8",8]}},{"name":"reserved1","type":{"array":["u8",32]}},{"name":"reserved2","type":{"array":["u8",64]}}]}}],"types":[{"name":"GroupEventHeader","type":{"kind":"struct","fields":[{"name":"signer","type":{"option":"publicKey"}},{"name":"clendGroup","type":"publicKey"}]}},{"name":"AccountEventHeader","type":{"kind":"struct","fields":[{"name":"signer","type":{"option":"publicKey"}},{"name":"clendAccount","type":"publicKey"},{"name":"clendAccountAuthority","type":"publicKey"},{"name":"clendGroup","type":"publicKey"}]}},{"name":"LiquidationBalances","type":{"kind":"struct","fields":[{"name":"liquidateeAssetBalance","type":"f64"},{"name":"liquidateeLiabilityBalance","type":"f64"},{"name":"liquidatorAssetBalance","type":"f64"},{"name":"liquidatorLiabilityBalance","type":"f64"}]}},{"name":"StakedSettingsEditConfig","type":{"kind":"struct","fields":[{"name":"oracle","type":{"option":"publicKey"}},{"name":"assetWeightInit","type":{"option":{"defined":"WrappedI80F48"}}},{"name":"assetWeightMaint","type":{"option":{"defined":"WrappedI80F48"}}},{"name":"depositLimit","type":{"option":"u64"}},{"name":"totalAssetValueInitLimit","type":{"option":"u64"}},{"name":"oracleMaxAge","type":{"option":"u16"}},{"name":"riskTier","docs":["WARN: You almost certainly want \"Collateral\", using Isolated risk tier makes the asset","worthless as collateral, making all outstanding accounts eligible to be liquidated, and is","generally useful only when creating a staked collateral pool for rewards purposes only."],"type":{"option":{"defined":"RiskTier"}}}]}},{"name":"StakedSettingsConfig","type":{"kind":"struct","fields":[{"name":"oracle","type":"publicKey"},{"name":"assetWeightInit","type":{"defined":"WrappedI80F48"}},{"name":"assetWeightMaint","type":{"defined":"WrappedI80F48"}},{"name":"depositLimit","type":"u64"},{"name":"totalAssetValueInitLimit","type":"u64"},{"name":"oracleMaxAge","type":"u16"},{"name":"riskTier","docs":["WARN: You almost certainly want \"Collateral\", using Isolated risk tier makes the asset","worthless as collateral, and is generally useful only when creating a staked collateral pool","for rewards purposes only."],"type":{"defined":"RiskTier"}}]}},{"name":"LendingAccount","type":{"kind":"struct","fields":[{"name":"balances","type":{"array":[{"defined":"Balance"},16]}},{"name":"padding","type":{"array":["u64",8]}}]}},{"name":"Balance","type":{"kind":"struct","fields":[{"name":"active","type":"bool"},{"name":"bankPk","type":"publicKey"},{"name":"bankAssetTag","docs":["Inherited from the bank when the position is first created and CANNOT BE CHANGED after that.","Note that all balances created before the addition of this feature use `ASSET_TAG_DEFAULT`"],"type":"u8"},{"name":"pad0","type":{"array":["u8",6]}},{"name":"assetShares","type":{"defined":"WrappedI80F48"}},{"name":"liabilityShares","type":{"defined":"WrappedI80F48"}},{"name":"emissionsOutstanding","type":{"defined":"WrappedI80F48"}},{"name":"lastUpdate","type":"u64"},{"name":"padding","type":{"array":["u64",1]}}]}},{"name":"FeeStateCache","type":{"kind":"struct","fields":[{"name":"globalFeeWallet","type":"publicKey"},{"name":"programFeeFixed","type":{"defined":"WrappedI80F48"}},{"name":"programFeeRate","type":{"defined":"WrappedI80F48"}}]}},{"name":"GroupConfig","type":{"kind":"struct","fields":[{"name":"admin","type":{"option":"publicKey"}}]}},{"name":"InterestRateConfigCompact","type":{"kind":"struct","fields":[{"name":"optimalUtilizationRate","type":{"defined":"WrappedI80F48"}},{"name":"plateauInterestRate","type":{"defined":"WrappedI80F48"}},{"name":"maxInterestRate","type":{"defined":"WrappedI80F48"}},{"name":"insuranceFeeFixedApr","type":{"defined":"WrappedI80F48"}},{"name":"insuranceIrFee","type":{"defined":"WrappedI80F48"}},{"name":"protocolFixedFeeApr","type":{"defined":"WrappedI80F48"}},{"name":"protocolIrFee","type":{"defined":"WrappedI80F48"}},{"name":"protocolOriginationFee","type":{"defined":"WrappedI80F48"}}]}},{"name":"InterestRateConfig","type":{"kind":"struct","fields":[{"name":"optimalUtilizationRate","type":{"defined":"WrappedI80F48"}},{"name":"plateauInterestRate","type":{"defined":"WrappedI80F48"}},{"name":"maxInterestRate","type":{"defined":"WrappedI80F48"}},{"name":"insuranceFeeFixedApr","docs":["Goes to insurance, funds `collected_insurance_fees_outstanding`"],"type":{"defined":"WrappedI80F48"}},{"name":"insuranceIrFee","docs":["Goes to insurance, funds `collected_insurance_fees_outstanding`"],"type":{"defined":"WrappedI80F48"}},{"name":"protocolFixedFeeApr","docs":["Earned by the group, goes to `collected_group_fees_outstanding`"],"type":{"defined":"WrappedI80F48"}},{"name":"protocolIrFee","docs":["Earned by the group, goes to `collected_group_fees_outstanding`"],"type":{"defined":"WrappedI80F48"}},{"name":"protocolOriginationFee","type":{"defined":"WrappedI80F48"}},{"name":"padding0","type":{"array":["u8",16]}},{"name":"padding1","type":{"array":[{"array":["u8",32]},3]}}]}},{"name":"InterestRateConfigOpt","type":{"kind":"struct","fields":[{"name":"optimalUtilizationRate","type":{"option":{"defined":"WrappedI80F48"}}},{"name":"plateauInterestRate","type":{"option":{"defined":"WrappedI80F48"}}},{"name":"maxInterestRate","type":{"option":{"defined":"WrappedI80F48"}}},{"name":"insuranceFeeFixedApr","type":{"option":{"defined":"WrappedI80F48"}}},{"name":"insuranceIrFee","type":{"option":{"defined":"WrappedI80F48"}}},{"name":"protocolFixedFeeApr","type":{"option":{"defined":"WrappedI80F48"}}},{"name":"protocolIrFee","type":{"option":{"defined":"WrappedI80F48"}}},{"name":"protocolOriginationFee","type":{"option":{"defined":"WrappedI80F48"}}}]}},{"name":"BankConfigCompact","docs":["TODO: Convert weights to (u64, u64) to avoid precision loss (maybe?)"],"type":{"kind":"struct","fields":[{"name":"assetWeightInit","type":{"defined":"WrappedI80F48"}},{"name":"assetWeightMaint","type":{"defined":"WrappedI80F48"}},{"name":"liabilityWeightInit","type":{"defined":"WrappedI80F48"}},{"name":"liabilityWeightMaint","type":{"defined":"WrappedI80F48"}},{"name":"depositLimit","type":"u64"},{"name":"operationalState","type":{"defined":"BankOperationalState"}},{"name":"borrowLimit","type":"u64"},{"name":"riskTier","type":{"defined":"RiskTier"}},{"name":"assetTag","docs":["Determines what kinds of assets users of this bank can interact with.","Options:","* ASSET_TAG_DEFAULT (0) - A regular asset that can be comingled with any other regular asset","or with `ASSET_TAG_SOL`","* ASSET_TAG_SOL (1) - Accounts with a SOL position can comingle with **either**","`ASSET_TAG_DEFAULT` or `ASSET_TAG_STAKED` positions, but not both","* ASSET_TAG_STAKED (2) - Staked SOL assets. Accounts with a STAKED position can only deposit","other STAKED assets or SOL (`ASSET_TAG_SOL`) and can only borrow SOL"],"type":"u8"},{"name":"pad0","type":{"array":["u8",6]}},{"name":"totalAssetValueInitLimit","docs":["USD denominated limit for calculating asset value for initialization margin requirements.","Example, if total SOL deposits are equal to $1M and the limit it set to $500K,","then SOL assets will be discounted by 50%.","","In other words the max value of liabilities that can be backed by the asset is $500K.","This is useful for limiting the damage of orcale attacks.","","Value is UI USD value, for example value 100 -> $100"],"type":"u64"},{"name":"oracleMaxAge","docs":["Time window in seconds for the oracle price feed to be considered live."],"type":"u16"}]}},{"name":"BankConfig","docs":["TODO: Convert weights to (u64, u64) to avoid precision loss (maybe?)"],"type":{"kind":"struct","fields":[{"name":"assetWeightInit","type":{"defined":"WrappedI80F48"}},{"name":"assetWeightMaint","type":{"defined":"WrappedI80F48"}},{"name":"liabilityWeightInit","type":{"defined":"WrappedI80F48"}},{"name":"liabilityWeightMaint","type":{"defined":"WrappedI80F48"}},{"name":"depositLimit","type":"u64"},{"name":"interestRateConfig","type":{"defined":"InterestRateConfig"}},{"name":"operationalState","type":{"defined":"BankOperationalState"}},{"name":"oracleSetup","type":{"defined":"OracleSetup"}},{"name":"oracleKeys","type":{"array":["publicKey",5]}},{"name":"pad0","type":{"array":["u8",6]}},{"name":"borrowLimit","type":"u64"},{"name":"riskTier","type":{"defined":"RiskTier"}},{"name":"assetTag","docs":["Determines what kinds of assets users of this bank can interact with.","Options:","* ASSET_TAG_DEFAULT (0) - A regular asset that can be comingled with any other regular asset","or with `ASSET_TAG_SOL`","* ASSET_TAG_SOL (1) - Accounts with a SOL position can comingle with **either**","`ASSET_TAG_DEFAULT` or `ASSET_TAG_STAKED` positions, but not both","* ASSET_TAG_STAKED (2) - Staked SOL assets. Accounts with a STAKED position can only deposit","other STAKED assets or SOL (`ASSET_TAG_SOL`) and can only borrow SOL"],"type":"u8"},{"name":"pad1","type":{"array":["u8",6]}},{"name":"totalAssetValueInitLimit","docs":["USD denominated limit for calculating asset value for initialization margin requirements.","Example, if total SOL deposits are equal to $1M and the limit it set to $500K,","then SOL assets will be discounted by 50%.","","In other words the max value of liabilities that can be backed by the asset is $500K.","This is useful for limiting the damage of orcale attacks.","","Value is UI USD value, for example value 100 -> $100"],"type":"u64"},{"name":"oracleMaxAge","docs":["Time window in seconds for the oracle price feed to be considered live."],"type":"u16"},{"name":"padding","type":{"array":["u8",38]}}]}},{"name":"WrappedI80F48","type":{"kind":"struct","fields":[{"name":"value","type":{"array":["u8",16]}}]}},{"name":"BankConfigOpt","type":{"kind":"struct","fields":[{"name":"assetWeightInit","type":{"option":{"defined":"WrappedI80F48"}}},{"name":"assetWeightMaint","type":{"option":{"defined":"WrappedI80F48"}}},{"name":"liabilityWeightInit","type":{"option":{"defined":"WrappedI80F48"}}},{"name":"liabilityWeightMaint","type":{"option":{"defined":"WrappedI80F48"}}},{"name":"depositLimit","type":{"option":"u64"}},{"name":"borrowLimit","type":{"option":"u64"}},{"name":"operationalState","type":{"option":{"defined":"BankOperationalState"}}},{"name":"interestRateConfig","type":{"option":{"defined":"InterestRateConfigOpt"}}},{"name":"riskTier","type":{"option":{"defined":"RiskTier"}}},{"name":"assetTag","type":{"option":"u8"}},{"name":"totalAssetValueInitLimit","type":{"option":"u64"}},{"name":"oracleMaxAge","type":{"option":"u16"}},{"name":"permissionlessBadDebtSettlement","type":{"option":"bool"}},{"name":"freezeSettings","type":{"option":"bool"}},{"name":"authorizedLender","type":{"option":"publicKey"}}]}},{"name":"BalanceIncreaseType","type":{"kind":"enum","variants":[{"name":"Any"},{"name":"RepayOnly"},{"name":"DepositOnly"},{"name":"BypassDepositLimit"}]}},{"name":"BalanceDecreaseType","type":{"kind":"enum","variants":[{"name":"Any"},{"name":"WithdrawOnly"},{"name":"BorrowOnly"},{"name":"BypassBorrowLimit"}]}},{"name":"RequirementType","type":{"kind":"enum","variants":[{"name":"Initial"},{"name":"Maintenance"},{"name":"Equity"}]}},{"name":"BalanceSide","type":{"kind":"enum","variants":[{"name":"Assets"},{"name":"Liabilities"}]}},{"name":"RiskRequirementType","type":{"kind":"enum","variants":[{"name":"Initial"},{"name":"Maintenance"},{"name":"Equity"}]}},{"name":"BankOperationalState","type":{"kind":"enum","variants":[{"name":"Paused"},{"name":"Operational"},{"name":"ReduceOnly"}]}},{"name":"RiskTier","type":{"kind":"enum","variants":[{"name":"Collateral"},{"name":"Isolated"}]}},{"name":"BankVaultType","type":{"kind":"enum","variants":[{"name":"Liquidity"},{"name":"Insurance"},{"name":"Fee"}]}},{"name":"OracleSetup","type":{"kind":"enum","variants":[{"name":"None"},{"name":"PythLegacy"},{"name":"PythPushOracle"},{"name":"StakedWithPythPush"}]}},{"name":"PriceBias","type":{"kind":"enum","variants":[{"name":"Low"},{"name":"High"}]}},{"name":"OraclePriceType","type":{"kind":"enum","variants":[{"name":"TimeWeighted"},{"name":"RealTime"}]}}],"events":[{"name":"ClendGroupCreateEvent","fields":[{"name":"header","type":{"defined":"GroupEventHeader"},"index":false}]},{"name":"ClendGroupConfigureEvent","fields":[{"name":"header","type":{"defined":"GroupEventHeader"},"index":false},{"name":"config","type":{"defined":"GroupConfig"},"index":false}]},{"name":"LendingPoolBankCreateEvent","fields":[{"name":"header","type":{"defined":"GroupEventHeader"},"index":false},{"name":"bank","type":"publicKey","index":false},{"name":"mint","type":"publicKey","index":false}]},{"name":"LendingPoolBankConfigureEvent","fields":[{"name":"header","type":{"defined":"GroupEventHeader"},"index":false},{"name":"bank","type":"publicKey","index":false},{"name":"mint","type":"publicKey","index":false},{"name":"config","type":{"defined":"BankConfigOpt"},"index":false}]},{"name":"LendingPoolBankConfigureIREvent","fields":[{"name":"header","type":{"defined":"GroupEventHeader"},"index":false},{"name":"bank","type":"publicKey","index":false},{"name":"mint","type":"publicKey","index":false},{"name":"config","type":{"defined":"InterestRateConfigOpt"},"index":false}]},{"name":"LendingPoolBankConfigureOracleEvent","fields":[{"name":"header","type":{"defined":"GroupEventHeader"},"index":false},{"name":"bank","type":"publicKey","index":false},{"name":"oracleSetup","type":"u8","index":false},{"name":"oracle","type":"publicKey","index":false}]},{"name":"LendingPoolBankConfigureFrozenEvent","fields":[{"name":"header","type":{"defined":"GroupEventHeader"},"index":false},{"name":"bank","type":"publicKey","index":false},{"name":"mint","type":"publicKey","index":false},{"name":"depositLimit","type":"u64","index":false},{"name":"borrowLimit","type":"u64","index":false}]},{"name":"EditStakedSettingsEvent","fields":[{"name":"group","type":"publicKey","index":false},{"name":"settings","type":{"defined":"StakedSettingsEditConfig"},"index":false}]},{"name":"LendingPoolBankAccrueInterestEvent","fields":[{"name":"header","type":{"defined":"GroupEventHeader"},"index":false},{"name":"bank","type":"publicKey","index":false},{"name":"mint","type":"publicKey","index":false},{"name":"delta","type":"u64","index":false},{"name":"feesCollected","type":"f64","index":false},{"name":"insuranceCollected","type":"f64","index":false}]},{"name":"LendingPoolBankCollectFeesEvent","fields":[{"name":"header","type":{"defined":"GroupEventHeader"},"index":false},{"name":"bank","type":"publicKey","index":false},{"name":"mint","type":"publicKey","index":false},{"name":"groupFeesCollected","type":"f64","index":false},{"name":"groupFeesOutstanding","type":"f64","index":false},{"name":"insuranceFeesCollected","type":"f64","index":false},{"name":"insuranceFeesOutstanding","type":"f64","index":false}]},{"name":"LendingPoolBankHandleBankruptcyEvent","fields":[{"name":"header","type":{"defined":"AccountEventHeader"},"index":false},{"name":"bank","type":"publicKey","index":false},{"name":"mint","type":"publicKey","index":false},{"name":"badDebt","type":"f64","index":false},{"name":"coveredAmount","type":"f64","index":false},{"name":"socializedAmount","type":"f64","index":false}]},{"name":"LendingPoolBankBalanceEvent","fields":[{"name":"header","type":{"defined":"GroupEventHeader"},"index":false},{"name":"bank","type":"publicKey","index":false},{"name":"mint","type":"publicKey","index":false},{"name":"assets","type":"u64","index":false},{"name":"liabilities","type":"u64","index":false}]},{"name":"ClendAccountCreateEvent","fields":[{"name":"header","type":{"defined":"AccountEventHeader"},"index":false}]},{"name":"LendingAccountDepositEvent","fields":[{"name":"header","type":{"defined":"AccountEventHeader"},"index":false},{"name":"bank","type":"publicKey","index":false},{"name":"mint","type":"publicKey","index":false},{"name":"amount","type":"u64","index":false}]},{"name":"LendingAccountRepayEvent","fields":[{"name":"header","type":{"defined":"AccountEventHeader"},"index":false},{"name":"bank","type":"publicKey","index":false},{"name":"mint","type":"publicKey","index":false},{"name":"amount","type":"u64","index":false},{"name":"closeBalance","type":"bool","index":false}]},{"name":"LendingAccountBorrowEvent","fields":[{"name":"header","type":{"defined":"AccountEventHeader"},"index":false},{"name":"bank","type":"publicKey","index":false},{"name":"mint","type":"publicKey","index":false},{"name":"amount","type":"u64","index":false}]},{"name":"LendingAccountWithdrawEvent","fields":[{"name":"header","type":{"defined":"AccountEventHeader"},"index":false},{"name":"bank","type":"publicKey","index":false},{"name":"mint","type":"publicKey","index":false},{"name":"amount","type":"u64","index":false},{"name":"closeBalance","type":"bool","index":false}]},{"name":"ClendAccountBalanceEvent","fields":[{"name":"header","type":{"defined":"AccountEventHeader"},"index":false},{"name":"bank","type":"publicKey","index":false},{"name":"assetBalance","type":"u64","index":false},{"name":"liabilityBalance","type":"u64","index":false}]},{"name":"LendingAccountLiquidateEvent","fields":[{"name":"header","type":{"defined":"AccountEventHeader"},"index":false},{"name":"liquidateeClendAccount","type":"publicKey","index":false},{"name":"liquidateeClendAccountAuthority","type":"publicKey","index":false},{"name":"assetBank","type":"publicKey","index":false},{"name":"assetMint","type":"publicKey","index":false},{"name":"liabilityBank","type":"publicKey","index":false},{"name":"liabilityMint","type":"publicKey","index":false},{"name":"liquidateePreHealth","type":"f64","index":false},{"name":"liquidateePostHealth","type":"f64","index":false},{"name":"preBalances","type":{"defined":"LiquidationBalances"},"index":false},{"name":"postBalances","type":{"defined":"LiquidationBalances"},"index":false}]},{"name":"ClendAccountTransferAccountAuthorityEvent","fields":[{"name":"header","type":{"defined":"AccountEventHeader"},"index":false},{"name":"oldAccountAuthority","type":"publicKey","index":false},{"name":"newAccountAuthority","type":"publicKey","index":false}]},{"name":"ClendPriceEvent","fields":[{"name":"header","type":{"defined":"GroupEventHeader"},"index":false},{"name":"bank","type":"publicKey","index":false},{"name":"twPrice","type":"f64","index":false},{"name":"rtPrice","type":"f64","index":false}]}],"errors":[{"code":6000,"name":"MathError","msg":"Math error"},{"code":6001,"name":"BankNotFound","msg":"Invalid bank index"},{"code":6002,"name":"LendingAccountBalanceNotFound","msg":"Lending account balance not found"},{"code":6003,"name":"BankAssetCapacityExceeded","msg":"Bank deposit capacity exceeded"},{"code":6004,"name":"InvalidTransfer","msg":"Invalid transfer"},{"code":6005,"name":"MissingPythOrBankAccount","msg":"Missing Oracle, Bank, LST mint, or Sol Pool"},{"code":6006,"name":"MissingPythAccount","msg":"Missing Pyth account"},{"code":6007,"name":"InvalidOracleAccount","msg":"Invalid Pyth account"},{"code":6008,"name":"MissingBankAccount","msg":"Missing Bank account"},{"code":6009,"name":"InvalidBankAccount","msg":"Invalid Bank account"},{"code":6010,"name":"RiskEngineInitRejected","msg":"RiskEngine rejected due to either bad health or stale oracles"},{"code":6011,"name":"LendingAccountBalanceSlotsFull","msg":"Lending account balance slots are full"},{"code":6012,"name":"BankAlreadyExists","msg":"Bank already exists"},{"code":6013,"name":"IllegalLiquidation","msg":"Illegal liquidation"},{"code":6014,"name":"AccountNotBankrupt","msg":"Account is not bankrupt"},{"code":6015,"name":"BalanceNotBadDebt","msg":"Account balance is not bad debt"},{"code":6016,"name":"InvalidConfig","msg":"Invalid group config"},{"code":6017,"name":"StaleOracle","msg":"Stale oracle data"},{"code":6018,"name":"BankPaused","msg":"Bank paused"},{"code":6019,"name":"BankReduceOnly","msg":"Bank is ReduceOnly mode"},{"code":6020,"name":"BankAccountNotFound","msg":"Bank is missing"},{"code":6021,"name":"OperationDepositOnly","msg":"Operation is deposit-only"},{"code":6022,"name":"OperationWithdrawOnly","msg":"Operation is withdraw-only"},{"code":6023,"name":"OperationBorrowOnly","msg":"Operation is borrow-only"},{"code":6024,"name":"OperationRepayOnly","msg":"Operation is repay-only"},{"code":6025,"name":"NoAssetFound","msg":"No asset found"},{"code":6026,"name":"NoLiabilityFound","msg":"No liability found"},{"code":6027,"name":"InvalidOracleSetup","msg":"Invalid oracle setup"},{"code":6028,"name":"IllegalUtilizationRatio","msg":"Invalid bank utilization ratio"},{"code":6029,"name":"BankLiabilityCapacityExceeded","msg":"Bank borrow cap exceeded"},{"code":6030,"name":"InvalidPrice","msg":"Invalid Price"},{"code":6031,"name":"IsolatedAccountIllegalState","msg":"Account can have only one liability when account is under isolated risk"},{"code":6032,"name":"EmissionsAlreadySetup","msg":"Emissions already setup"},{"code":6033,"name":"OracleNotSetup","msg":"Oracle is not set"},{"code":6034,"name":"InvalidSwitchboardDecimalConversion","msg":"Invalid switchboard decimal conversion"},{"code":6035,"name":"CannotCloseOutstandingEmissions","msg":"Cannot close balance because of outstanding emissions"},{"code":6036,"name":"EmissionsUpdateError","msg":"Update emissions error"},{"code":6037,"name":"AccountDisabled","msg":"Account disabled"},{"code":6038,"name":"AccountTempActiveBalanceLimitExceeded","msg":"Account can't temporarily open 3 balances, please close a balance first"},{"code":6039,"name":"AccountInFlashloan","msg":"Illegal action during flashloan"},{"code":6040,"name":"IllegalFlashloan","msg":"Illegal flashloan"},{"code":6041,"name":"IllegalFlag","msg":"Illegal flag"},{"code":6042,"name":"IllegalBalanceState","msg":"Illegal balance state"},{"code":6043,"name":"IllegalAccountAuthorityTransfer","msg":"Illegal account authority transfer"},{"code":6044,"name":"Unauthorized","msg":"Unauthorized"},{"code":6045,"name":"IllegalAction","msg":"Invalid account authority"},{"code":6046,"name":"T22MintRequired","msg":"Token22 Banks require mint account as first remaining account"},{"code":6047,"name":"InvalidFeeAta","msg":"Invalid ATA for global fee account"},{"code":6048,"name":"AddedStakedPoolManually","msg":"Use add pool permissionless instead"},{"code":6049,"name":"AssetTagMismatch","msg":"Staked SOL accounts can only deposit staked assets and borrow SOL"},{"code":6050,"name":"StakePoolValidationFailed","msg":"Stake pool validation failed: check the stake pool, mint, or sol pool"},{"code":6051,"name":"UnauthorizedLender","msg":"Unauthorized lender"}]}