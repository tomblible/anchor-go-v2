{"version":"0.1.0","name":"the_search","instructions":[{"name":"initialize","accounts":[{"name":"payer","isMut":true,"isSigner":true},{"name":"mint","isMut":false,"isSigner":false},{"name":"tokenAccount","isMut":true,"isSigner":false},{"name":"theSearch","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"associatedTokenProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"collectionInfo","type":"publicKey"}]},{"name":"constraints","accounts":[{"name":"escrowConstraintModel","isMut":true,"isSigner":false},{"name":"updateAuthority","isMut":true,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"theSearchAuthority","isMut":true,"isSigner":true},{"name":"trifleProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"instructions","isMut":false,"isSigner":false}],"args":[{"name":"name","type":"string"}]},{"name":"trifle","accounts":[{"name":"escrow","isMut":true,"isSigner":false},{"name":"metadata","isMut":true,"isSigner":false},{"name":"mint","isMut":false,"isSigner":false},{"name":"tokenAccount","isMut":false,"isSigner":false},{"name":"masterEdition","isMut":false,"isSigner":false},{"name":"trifleAccount","isMut":true,"isSigner":false},{"name":"trifleAuthority","isMut":true,"isSigner":false},{"name":"escrowConstraintModel","isMut":true,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"theSearchAuthority","isMut":true,"isSigner":false},{"name":"tokenMetadataProgram","isMut":false,"isSigner":false},{"name":"trifleProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"instructions","isMut":false,"isSigner":false}],"args":[]},{"name":"upgrade","accounts":[{"name":"trifleAccount","isMut":true,"isSigner":false},{"name":"trifleAuthority","isMut":true,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"theSearchAuthority","isMut":true,"isSigner":false},{"name":"constraintModel","isMut":true,"isSigner":false},{"name":"escrowAccount","isMut":true,"isSigner":false},{"name":"escrowMint","isMut":true,"isSigner":false},{"name":"escrowTokenAccount","isMut":true,"isSigner":false},{"name":"escrowEdition","isMut":true,"isSigner":false},{"name":"attributeMint","isMut":true,"isSigner":false},{"name":"attributeSrcTokenAccount","isMut":true,"isSigner":false},{"name":"attributeDstTokenAccount","isMut":true,"isSigner":false},{"name":"attributeMetadata","isMut":true,"isSigner":false},{"name":"initialSrcTokenAccount","isMut":true,"isSigner":false},{"name":"paymentSrcTokenAccount","isMut":true,"isSigner":false},{"name":"paymentDstTokenAccount","isMut":true,"isSigner":false},{"name":"tokenMetadataProgram","isMut":false,"isSigner":false},{"name":"splTokenProgram","isMut":false,"isSigner":false},{"name":"splAssociatedTokenAccountProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"trifleProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"collect","accounts":[{"name":"theSearch","isMut":true,"isSigner":false},{"name":"theSearchAuthority","isMut":true,"isSigner":true},{"name":"srcTokenAccount","isMut":true,"isSigner":false},{"name":"dstTokenAccount","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"changeTimestamp","accounts":[{"name":"theSearch","isMut":true,"isSigner":false},{"name":"theSearchAuthority","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"newTimestamp","type":"i64"}]},{"name":"initRates","accounts":[{"name":"theSearchAuthority","isMut":true,"isSigner":true},{"name":"theSearchRates","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"stake","accounts":[{"name":"userPda","isMut":false,"isSigner":false},{"name":"userPlusMintPda","isMut":true,"isSigner":false},{"name":"theSearchRatesPda","isMut":false,"isSigner":false},{"name":"theSearchPda","isMut":false,"isSigner":false},{"name":"userAccount","isMut":true,"isSigner":true},{"name":"theSearchAuthority","isMut":false,"isSigner":false},{"name":"trifleAccount","isMut":false,"isSigner":false},{"name":"caveAssociatedTokenAccountSource","isMut":true,"isSigner":false},{"name":"caveAssociatedTokenAccountDestination","isMut":true,"isSigner":false},{"name":"caveMint","isMut":false,"isSigner":false},{"name":"toolsMint","isMut":false,"isSigner":false},{"name":"fossilMint","isMut":false,"isSigner":false},{"name":"toolsMetadata","isMut":false,"isSigner":false},{"name":"fossilMetadata","isMut":false,"isSigner":false},{"name":"toolsAssociatedTokenSource","isMut":true,"isSigner":false},{"name":"fossilAssociatedTokenSource","isMut":true,"isSigner":false},{"name":"toolsAssociatedTokenDestination","isMut":true,"isSigner":false},{"name":"fossilAssociatedTokenDestination","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"associatedTokenProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"tokenMetadataProgram","isMut":false,"isSigner":false},{"name":"trifleProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[]},{"name":"unstake","accounts":[{"name":"userPda","isMut":true,"isSigner":false},{"name":"userPlusMintPda","isMut":true,"isSigner":false},{"name":"theSearchRatesPda","isMut":true,"isSigner":false},{"name":"theSearchPda","isMut":false,"isSigner":false},{"name":"randomOne","isMut":false,"isSigner":false,"docs":["This is a VRF randomness account, it has been fulfilled in the previous CPI call to solana-vrf."]},{"name":"randomTwo","isMut":false,"isSigner":false,"docs":["This is another VRF randomness account, it has been fulfilled in the previous CPI call to solana-vrf."]},{"name":"userAccount","isMut":true,"isSigner":true},{"name":"trifleAccount","isMut":false,"isSigner":false},{"name":"theSearchAuthority","isMut":false,"isSigner":false},{"name":"rewardMetadata","isMut":true,"isSigner":false},{"name":"rewardMasterEdition","isMut":true,"isSigner":false},{"name":"rewardMint","isMut":true,"isSigner":true},{"name":"rewardAssociatedToken","isMut":true,"isSigner":false},{"name":"toolsMint","isMut":true,"isSigner":false},{"name":"fossilMint","isMut":true,"isSigner":false},{"name":"toolsAssociatedToken","isMut":true,"isSigner":false},{"name":"fossilAssociatedToken","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"associatedTokenProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"theSearchProgramAccount","isMut":false,"isSigner":false},{"name":"tokenMetadataProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[{"name":"forceOne","type":{"array":["u8",32]}},{"name":"forceTwo","type":{"array":["u8",32]}}]},{"name":"randomizer","accounts":[{"name":"userAccount","isMut":true,"isSigner":true,"docs":["user_account will be the `payer` account in the CPI call."]},{"name":"randomOne","isMut":true,"isSigner":false},{"name":"randomTwo","isMut":true,"isSigner":false},{"name":"treasury","isMut":true,"isSigner":false,"docs":["VRF treasury account, it'll be the `treasury` account in the CPI call."]},{"name":"config","isMut":true,"isSigner":false,"docs":["VRF on-chain state account, it'll be the `network_state` account in the CPI call."]},{"name":"vrf","isMut":false,"isSigner":false,"docs":["VRF program address to invoke CPI"]},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"forceOne","type":{"array":["u8",32]}},{"name":"forceTwo","type":{"array":["u8",32]}}]},{"name":"initUserPda","accounts":[{"name":"userPda","isMut":true,"isSigner":false},{"name":"userAccount","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"mintReward","accounts":[{"name":"metadata","isMut":true,"isSigner":false},{"name":"mint","isMut":true,"isSigner":true},{"name":"theSearchAuthority","isMut":false,"isSigner":false},{"name":"tokenAccount","isMut":true,"isSigner":false},{"name":"masterEdition","isMut":true,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"mintAuthority","isMut":false,"isSigner":true},{"name":"rent","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"associatedTokenProgram","isMut":false,"isSigner":false},{"name":"tokenMetadataProgram","isMut":false,"isSigner":false}],"args":[{"name":"name","type":"string"},{"name":"symbol","type":"string"},{"name":"uri","type":"string"}]},{"name":"close","accounts":[{"name":"receiver","isMut":true,"isSigner":true},{"name":"theSearchRates","isMut":true,"isSigner":false}],"args":[]}],"accounts":[{"name":"TheSearch","type":{"kind":"struct","fields":[{"name":"supplyTier2","type":"u16"},{"name":"supplyTier3","type":"u16"},{"name":"bump","type":"u8"},{"name":"authority","type":"publicKey"},{"name":"tokenMint","type":"publicKey"},{"name":"collection","type":"publicKey"},{"name":"minTimestamp","type":"i64"}]}},{"name":"TheSearchRates","type":{"kind":"struct","fields":[{"name":"bump","type":"u8"},{"name":"authority","type":"publicKey"},{"name":"categorySupply","type":{"vec":{"vec":"u16"}}},{"name":"categoryRates","type":{"vec":{"vec":"u16"}}},{"name":"rewardSupply","type":{"vec":{"vec":"u16"}}},{"name":"rewardRates","type":{"vec":{"vec":"u16"}}},{"name":"rewardNames","type":{"vec":{"vec":"string"}}},{"name":"rewardSymbols","type":{"vec":{"vec":"string"}}}]}},{"name":"UserPDA","type":{"kind":"struct","fields":[{"name":"bump","type":"u8"},{"name":"authority","type":"publicKey"}]}},{"name":"UserPlusMintPDA","type":{"kind":"struct","fields":[{"name":"bump","type":"u8"},{"name":"authority","type":"publicKey"},{"name":"toolsMint","type":"publicKey"},{"name":"fossilMint","type":"publicKey"},{"name":"creationTimestamp","type":"i64"}]}}],"errors":[{"code":6000,"name":"MissingRequiredSignature","msg":"A required signature is missing"},{"code":6001,"name":"NoTokenForNextUpgrade","msg":"No upgrade 1 for upgrade 2"},{"code":6002,"name":"NoMoreForToken","msg":"No more upgrades available for this token"},{"code":6003,"name":"NoMoreAvailable","msg":"No more upgrades available of this tier"},{"code":6004,"name":"TransferAmountDoesNotMatch","msg":"The transferred amount does not match the cost of the upgrade"},{"code":6005,"name":"OwnerMismatch","msg":"The owner does not match"},{"code":6006,"name":"ProgramMismatch","msg":"The program ID does not match"},{"code":6007,"name":"AuthorityMismatch","msg":"The authority does not match"},{"code":6008,"name":"MintMismatch","msg":"The mint address does not match"},{"code":6009,"name":"CollectionMismatch","msg":"The collection does not match, is unnauthorised or is null"},{"code":6010,"name":"CollectionNotVerified","msg":"The collection is not verified"},{"code":6011,"name":"TooEarly","msg":"The program is still not available for use"},{"code":6012,"name":"InvalidPointsAmount","msg":"Number of points outside permitted ammount"},{"code":6013,"name":"InvalidRandomness","msg":"The randomness is invalid or is still running"},{"code":6014,"name":"EmptySupply","msg":"The supply has fully ran out for this tier of tools"},{"code":6015,"name":"MintTooEarly","msg":"To unstake the staked nfts you have to wait 48 hours from stake time"}]}