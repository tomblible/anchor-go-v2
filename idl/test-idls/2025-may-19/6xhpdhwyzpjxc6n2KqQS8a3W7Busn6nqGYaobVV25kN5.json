{"version":"0.1.0","name":"composer","instructions":[{"name":"initComposer","accounts":[{"name":"composer","isMut":true,"isSigner":false,"docs":["PDA holding all our static pubkeys."]},{"name":"lzComposeTypesAccounts","isMut":true,"isSigner":false,"docs":["PDA storing all fields for the `lz_compose_types` instruction."]},{"name":"payer","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"params","type":{"defined":"InitComposerParams"}}]},{"name":"lzCompose","accounts":[{"name":"payer","isMut":true,"isSigner":true,"docs":["0) The user paying for swap & any ATA creation (will be the signer)"]},{"name":"endpointProgram","isMut":false,"isSigner":false,"docs":["1) The LayerZero endpoint program this composer was initialized with"]},{"name":"tokenProgram","isMut":false,"isSigner":false,"docs":["2,3) SPL Token programs"]},{"name":"tokenProgram2022","isMut":false,"isSigner":false},{"name":"composer","isMut":true,"isSigner":false,"docs":["4) Our single-PDA storing all the needed pubkeys"]},{"name":"clmmProgram","isMut":false,"isSigner":false,"docs":["5–7) Raydium CPI program & state"]},{"name":"ammConfig","isMut":false,"isSigner":false},{"name":"poolState","isMut":true,"isSigner":false},{"name":"inputTokenAccount","isMut":true,"isSigner":false,"docs":["8,9) User token ATAs (input=A, output=B)"]},{"name":"outputTokenAccount","isMut":true,"isSigner":false},{"name":"inputVault","isMut":true,"isSigner":false,"docs":["10,11) Pool vaults"]},{"name":"outputVault","isMut":true,"isSigner":false},{"name":"observationState","isMut":true,"isSigner":false,"docs":["12–16) Price oracle & tick arrays"]},{"name":"tickBitmap","isMut":true,"isSigner":false},{"name":"tickArrayLower","isMut":true,"isSigner":false},{"name":"tickArrayCurrent","isMut":true,"isSigner":false},{"name":"tickArrayUpper","isMut":true,"isSigner":false},{"name":"memoProgram","isMut":false,"isSigner":false,"docs":["17) SPL Memo program (for the swap)"]},{"name":"inputVaultMint","isMut":false,"isSigner":false,"docs":["18,19) Vault mints"]},{"name":"outputVaultMint","isMut":false,"isSigner":false},{"name":"toAddress","isMut":true,"isSigner":false,"docs":["20) The ultimate receiver of token B"]},{"name":"toTokenAccount","isMut":true,"isSigner":false,"docs":["21) Receiver’s ATA for token B; init_if_needed if absent"]},{"name":"associatedTokenProgram","isMut":false,"isSigner":false,"docs":["22) **Associated Token program** — **must** be exactly here"]},{"name":"systemProgram","isMut":false,"isSigner":false,"docs":["23–24) System & Rent"]},{"name":"rent","isMut":false,"isSigner":false}],"args":[{"name":"params","type":{"defined":"LzComposeParams"}}]},{"name":"lzComposeTypes","accounts":[{"name":"endpointProgram","isMut":false,"isSigner":false,"docs":["1) LayerZero endpoint program"]},{"name":"tokenProgram","isMut":false,"isSigner":false,"docs":["2) SPL Token program v1"]},{"name":"tokenProgram2022","isMut":false,"isSigner":false,"docs":["3) SPL Token program v2 (2022)"]},{"name":"composer","isMut":false,"isSigner":false,"docs":["4) Composer PDA"]},{"name":"clmmProgram","isMut":false,"isSigner":false,"docs":["5) Raydium CLMM CPI program"]},{"name":"ammConfig","isMut":false,"isSigner":false,"docs":["6) Raydium AMM config"]},{"name":"poolState","isMut":false,"isSigner":false,"docs":["7) Raydium PoolState (writable)"]},{"name":"inputTokenAccount","isMut":false,"isSigner":false,"docs":["8) User’s ATA for input token (writable)"]},{"name":"outputTokenAccount","isMut":false,"isSigner":false,"docs":["9) User’s ATA for output token (writable)"]},{"name":"inputVault","isMut":false,"isSigner":false,"docs":["10) Pool vault A (writable)"]},{"name":"outputVault","isMut":false,"isSigner":false,"docs":["11) Pool vault B (writable)"]},{"name":"observationState","isMut":false,"isSigner":false,"docs":["12) Raydium ObservationState (writable)"]},{"name":"tickBitmap","isMut":false,"isSigner":false,"docs":["13) Raydium TickBitmap (writable)"]},{"name":"tickArrayLower","isMut":false,"isSigner":false,"docs":["14) Raydium TickArrayLower (writable)"]},{"name":"tickArrayCurrent","isMut":false,"isSigner":false,"docs":["15) Raydium TickArrayCurrent (writable)"]},{"name":"tickArrayUpper","isMut":false,"isSigner":false,"docs":["16) Raydium TickArrayUpper (writable)"]},{"name":"memoProgram","isMut":false,"isSigner":false,"docs":["17) SPL Memo program (for the swap)"]},{"name":"inputVaultMint","isMut":false,"isSigner":false,"docs":["18) Vault A mint"]},{"name":"outputVaultMint","isMut":false,"isSigner":false,"docs":["19) Vault B mint"]}],"args":[{"name":"params","type":{"defined":"LzComposeParams"}}],"returns":{"vec":{"defined":"LzAccount"}}}],"accounts":[{"name":"Composer","type":{"kind":"struct","fields":[{"name":"oftPda","type":"publicKey"},{"name":"endpointPda","type":"publicKey"},{"name":"endpointProgram","type":"publicKey"},{"name":"tokenProgram","type":"publicKey"},{"name":"tokenProgram2022","type":"publicKey"},{"name":"clmmProgram","type":"publicKey"},{"name":"ammConfig","type":"publicKey"},{"name":"poolState","type":"publicKey"},{"name":"inputVault","type":"publicKey"},{"name":"outputVault","type":"publicKey"},{"name":"observationState","type":"publicKey"},{"name":"tickBitmap","type":"publicKey"},{"name":"tickArrayLower","type":"publicKey"},{"name":"tickArrayCurrent","type":"publicKey"},{"name":"tickArrayUpper","type":"publicKey"},{"name":"inputTokenAccount","type":"publicKey"},{"name":"outputTokenAccount","type":"publicKey"},{"name":"inputVaultMint","type":"publicKey"},{"name":"outputVaultMint","type":"publicKey"},{"name":"bump","type":"u8"}]}},{"name":"LzComposeTypesAccounts","docs":["This PDA holds all of the static pubkeys that `lz_compose_types` will consume."],"type":{"kind":"struct","fields":[{"name":"endpointProgram","type":"publicKey"},{"name":"tokenProgram","type":"publicKey"},{"name":"tokenProgram2022","type":"publicKey"},{"name":"composer","type":"publicKey"},{"name":"clmmProgram","type":"publicKey"},{"name":"ammConfig","type":"publicKey"},{"name":"poolState","type":"publicKey"},{"name":"inputTokenAccount","type":"publicKey"},{"name":"outputTokenAccount","type":"publicKey"},{"name":"inputVault","type":"publicKey"},{"name":"outputVault","type":"publicKey"},{"name":"observationState","type":"publicKey"},{"name":"tickBitmap","type":"publicKey"},{"name":"tickArrayLower","type":"publicKey"},{"name":"tickArrayCurrent","type":"publicKey"},{"name":"tickArrayUpper","type":"publicKey"},{"name":"memoProgram","type":"publicKey"},{"name":"inputVaultMint","type":"publicKey"},{"name":"outputVaultMint","type":"publicKey"}]}},{"name":"AmmConfig","docs":["Holds the current owner of the factory"],"type":{"kind":"struct","fields":[{"name":"bump","docs":["Bump to identify PDA"],"type":"u8"},{"name":"index","type":"u16"},{"name":"owner","docs":["Address of the protocol owner"],"type":"publicKey"},{"name":"protocolFeeRate","docs":["The protocol fee"],"type":"u32"},{"name":"tradeFeeRate","docs":["The trade fee, denominated in hundredths of a bip (10^-6)"],"type":"u32"},{"name":"tickSpacing","docs":["The tick spacing"],"type":"u16"},{"name":"fundFeeRate","docs":["The fund fee, denominated in hundredths of a bip (10^-6)"],"type":"u32"},{"name":"paddingU32","type":"u32"},{"name":"fundOwner","type":"publicKey"},{"name":"padding","type":{"array":["u64",3]}}]}},{"name":"ObservationState","type":{"kind":"struct","fields":[{"name":"initialized","docs":["Whether the ObservationState is initialized"],"type":"bool"},{"name":"poolId","type":"publicKey"},{"name":"observations","docs":["observation array"],"type":{"array":[{"defined":"Observation"},1000]}},{"name":"padding","docs":["padding for feature update"],"type":{"array":["u128",5]}}]}},{"name":"PoolState","docs":["The pool state","","PDA of `[POOL_SEED, config, token_mint_0, token_mint_1]`",""],"type":{"kind":"struct","fields":[{"name":"bump","docs":["Bump to identify PDA"],"type":{"array":["u8",1]}},{"name":"ammConfig","type":"publicKey"},{"name":"owner","type":"publicKey"},{"name":"tokenMint0","docs":["Token pair of the pool, where token_mint_0 address < token_mint_1 address"],"type":"publicKey"},{"name":"tokenMint1","type":"publicKey"},{"name":"tokenVault0","docs":["Token pair vault"],"type":"publicKey"},{"name":"tokenVault1","type":"publicKey"},{"name":"observationKey","docs":["observation account key"],"type":"publicKey"},{"name":"mintDecimals0","docs":["mint0 and mint1 decimals"],"type":"u8"},{"name":"mintDecimals1","type":"u8"},{"name":"tickSpacing","docs":["The minimum number of ticks between initialized ticks"],"type":"u16"},{"name":"liquidity","docs":["The currently in range liquidity available to the pool."],"type":"u128"},{"name":"sqrtPriceX64","docs":["The current price of the pool as a sqrt(token_1/token_0) Q64.64 value"],"type":"u128"},{"name":"tickCurrent","docs":["The current tick of the pool, i.e. according to the last tick transition that was run."],"type":"i32"},{"name":"observationIndex","docs":["the most-recently updated index of the observations array"],"type":"u16"},{"name":"observationUpdateDuration","type":"u16"},{"name":"feeGrowthGlobal0X64","docs":["The fee growth as a Q64.64 number, i.e. fees of token_0 and token_1 collected per","unit of liquidity for the entire life of the pool."],"type":"u128"},{"name":"feeGrowthGlobal1X64","type":"u128"},{"name":"protocolFeesToken0","docs":["The amounts of token_0 and token_1 that are owed to the protocol."],"type":"u64"},{"name":"protocolFeesToken1","type":"u64"},{"name":"swapInAmountToken0","docs":["The amounts in and out of swap token_0 and token_1"],"type":"u128"},{"name":"swapOutAmountToken1","type":"u128"},{"name":"swapInAmountToken1","type":"u128"},{"name":"swapOutAmountToken0","type":"u128"},{"name":"status","docs":["Bitwise representation of the state of the pool","bit0, 1: disable open position and increase liquidity, 0: normal","bit1, 1: disable decrease liquidity, 0: normal","bit2, 1: disable collect fee, 0: normal","bit3, 1: disable collect reward, 0: normal","bit4, 1: disable swap, 0: normal"],"type":"u8"},{"name":"padding","docs":["Leave blank for future use"],"type":{"array":["u8",7]}},{"name":"rewardInfos","type":{"array":[{"defined":"RewardInfo"},3]}},{"name":"tickArrayBitmap","docs":["Packed initialized tick array state"],"type":{"array":["u64",16]}},{"name":"totalFeesToken0","docs":["except protocol_fee and fund_fee"],"type":"u64"},{"name":"totalFeesClaimedToken0","docs":["except protocol_fee and fund_fee"],"type":"u64"},{"name":"totalFeesToken1","type":"u64"},{"name":"totalFeesClaimedToken1","type":"u64"},{"name":"fundFeesToken0","type":"u64"},{"name":"fundFeesToken1","type":"u64"},{"name":"openTime","type":"u64"},{"name":"padding1","type":{"array":["u64",25]}},{"name":"padding2","type":{"array":["u64",32]}}]}}],"types":[{"name":"InitComposerParams","type":{"kind":"struct","fields":[{"name":"oftPda","type":"publicKey"},{"name":"endpointPda","type":"publicKey"},{"name":"endpointProgram","type":"publicKey"},{"name":"tokenProgram","type":"publicKey"},{"name":"tokenProgram2022","type":"publicKey"},{"name":"clmmProgram","type":"publicKey"},{"name":"ammConfig","type":"publicKey"},{"name":"poolState","type":"publicKey"},{"name":"inputVault","type":"publicKey"},{"name":"outputVault","type":"publicKey"},{"name":"observationState","type":"publicKey"},{"name":"tickBitmap","type":"publicKey"},{"name":"tickArrayLower","type":"publicKey"},{"name":"tickArrayCurrent","type":"publicKey"},{"name":"tickArrayUpper","type":"publicKey"},{"name":"inputTokenAccount","type":"publicKey"},{"name":"outputTokenAccount","type":"publicKey"},{"name":"inputVaultMint","type":"publicKey"},{"name":"outputVaultMint","type":"publicKey"}]}},{"name":"LzComposeParams","type":{"kind":"struct","fields":[{"name":"from","type":"publicKey"},{"name":"to","type":"publicKey"},{"name":"guid","type":{"array":["u8",32]}},{"name":"index","type":"u16"},{"name":"message","type":"bytes"},{"name":"extraData","type":"bytes"}]}},{"name":"LzAccount","docs":["same to anchor_lang::prelude::AccountMeta"],"type":{"kind":"struct","fields":[{"name":"pubkey","type":"publicKey"},{"name":"isSigner","type":"bool"},{"name":"isWritable","type":"bool"}]}},{"name":"Observation","docs":["The element of observations in ObservationState"],"type":{"kind":"struct","fields":[{"name":"blockTimestamp","docs":["The block timestamp of the observation"],"type":"u32"},{"name":"sqrtPriceX64","docs":["the price of the observation timestamp, Q64.64"],"type":"u128"},{"name":"cumulativeTimePriceX64","docs":["the cumulative of price during the duration time, Q64.64"],"type":"u128"},{"name":"padding","docs":["padding for feature update"],"type":"u128"}]}},{"name":"RewardInfo","type":{"kind":"struct","fields":[{"name":"rewardState","docs":["Reward state"],"type":"u8"},{"name":"openTime","docs":["Reward open time"],"type":"u64"},{"name":"endTime","docs":["Reward end time"],"type":"u64"},{"name":"lastUpdateTime","docs":["Reward last update time"],"type":"u64"},{"name":"emissionsPerSecondX64","docs":["Q64.64 number indicates how many tokens per second are earned per unit of liquidity."],"type":"u128"},{"name":"rewardTotalEmissioned","docs":["The total amount of reward emissioned"],"type":"u64"},{"name":"rewardClaimed","docs":["The total amount of claimed reward"],"type":"u64"},{"name":"tokenMint","docs":["Reward token mint."],"type":"publicKey"},{"name":"tokenVault","docs":["Reward vault token account."],"type":"publicKey"},{"name":"authority","docs":["The owner that has permission to set reward param"],"type":"publicKey"},{"name":"rewardGrowthGlobalX64","docs":["Q64.64 number that tracks the total tokens earned per unit of liquidity since the reward","emissions were turned on."],"type":"u128"}]}}],"errors":[{"code":6000,"name":"InvalidFrom","msg":"Invalid sender address"},{"code":6001,"name":"InvalidTo","msg":"Invalid recipient address"},{"code":6002,"name":"InvalidMintAuthority","msg":"Invalid mint authority"},{"code":6003,"name":"InvalidTokenDest","msg":"Invalid token destination"},{"code":6004,"name":"InvalidSender","msg":"Invalid sender"},{"code":6005,"name":"Paused","msg":"Program is paused"}]}