{"address":"GxU3QcNBCXvKHGU4jsyvzQ2dLAHYGYgMUyfqioLMA98j","metadata":{"name":"token_dist","version":"1.0.0","spec":"0.1.0","description":"SPL fungible token sale and distribution protocol"},"instructions":[{"name":"lock_tokens","discriminator":[136,11,32,232,161,117,54,211],"accounts":[{"name":"sender","docs":["The account that is locking the tokens"],"writable":true,"signer":true},{"name":"sender_ata","docs":["The sender's associated token account for the token being locked"],"writable":true,"pda":{"seeds":[{"kind":"account","path":"sender"},{"kind":"account","path":"token_program"},{"kind":"account","path":"token_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"recipient"},{"name":"lock","docs":["Lock account for locking the tokens."],"writable":true,"pda":{"seeds":[{"kind":"const","value":[108,111,99,107]},{"kind":"account","path":"sender"},{"kind":"account","path":"recipient"},{"kind":"arg","path":"id"}]}},{"name":"lock_ata","docs":["Lock ATA"],"writable":true,"pda":{"seeds":[{"kind":"account","path":"lock"},{"kind":"account","path":"token_program"},{"kind":"account","path":"token_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"token_mint","docs":["The mint of the token being locked"]},{"name":"token_program","docs":["The token program used to interact with the locked token"]},{"name":"associated_token_program","docs":["The associated token program for creating and managing token accounts"],"address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{"name":"system_program","docs":["The Solana system program, used for account management and creation"],"address":"11111111111111111111111111111111"}],"args":[{"name":"id","type":"u32"},{"name":"amount","type":"u64"},{"name":"cliff_time","type":"u32"},{"name":"cliff_ratio","type":"u8"},{"name":"period_duration","type":"u32"},{"name":"period_count","type":"u16"}]},{"name":"purchase_tokens","discriminator":[142,1,16,160,115,120,55,254],"accounts":[{"name":"purchaser","docs":["The purchaser of the sale tokens."],"writable":true,"signer":true},{"name":"purchaser_ata","docs":["The payment associated token account for the purchaser"],"writable":true,"pda":{"seeds":[{"kind":"account","path":"purchaser"},{"kind":"account","path":"payment_token_program"},{"kind":"account","path":"payment_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"sale","docs":["The Sale account, containing details about the sale."]},{"name":"sale_ata","docs":["The associated token account for the sale account, holding the tokens to be sold."],"writable":true,"pda":{"seeds":[{"kind":"account","path":"sale"},{"kind":"account","path":"token_program"},{"kind":"account","path":"token_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"treasury"},{"name":"treasury_ata","docs":["The associated token account for the treasury account, holding the payment tokens."],"writable":true,"pda":{"seeds":[{"kind":"account","path":"treasury"},{"kind":"account","path":"payment_token_program"},{"kind":"account","path":"payment_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"lock","docs":["Lock account for locking the tokens."],"writable":true,"pda":{"seeds":[{"kind":"const","value":[108,111,99,107]},{"kind":"account","path":"sale"},{"kind":"account","path":"purchaser"},{"kind":"arg","path":"id"}]}},{"name":"lock_ata","docs":["Lock ATA"],"writable":true,"pda":{"seeds":[{"kind":"account","path":"lock"},{"kind":"account","path":"token_program"},{"kind":"account","path":"token_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"token_mint","docs":["The mint of the token being sold."]},{"name":"payment_mint","docs":["The mint of the payment token being used to purchase the tokens.","Only SPL tokens are supported. For SOL payments, must use wrapped SOL (wSOL) instead."]},{"name":"token_program","docs":["The token program used to interact with the tokens."]},{"name":"payment_token_program","docs":["The token program used to interact with the payment tokens."]},{"name":"associated_token_program","docs":["The associated token program for creating and managing token accounts."],"address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{"name":"system_program","docs":["The Solana system program, used for account management and creation."],"address":"11111111111111111111111111111111"}],"args":[{"name":"id","type":"u32"},{"name":"desired_amount","type":"u64"},{"name":"channel","type":"u16"}]},{"name":"setup_sale","discriminator":[219,186,46,33,241,13,155,12],"accounts":[{"name":"authority","docs":["The authority (or owner) setting up the sale, must sign the transaction."],"writable":true,"signer":true},{"name":"authority_ata","docs":["The associated token account (ATA) for the sale authority, holding the tokens to be sold."],"writable":true,"pda":{"seeds":[{"kind":"account","path":"authority"},{"kind":"account","path":"token_program"},{"kind":"account","path":"token_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"treasury","docs":["The treasury account where funds from the sale will be sent. This can be any address."]},{"name":"sale","docs":["The Sale account, that holds sale details and metadata."],"writable":true,"pda":{"seeds":[{"kind":"const","value":[115,97,108,101]},{"kind":"account","path":"authority"},{"kind":"account","path":"token_mint"},{"kind":"arg","path":"id"}]}},{"name":"sale_ata","docs":["The associated token account for the sale account, holding the tokens to be sold."],"writable":true,"pda":{"seeds":[{"kind":"account","path":"sale"},{"kind":"account","path":"token_program"},{"kind":"account","path":"token_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"token_mint","docs":["The mint of the token being sold."]},{"name":"token_program","docs":["The token program used to interact with the sale token."]},{"name":"payment_mint","docs":["The mint of the payment token (e.g., USDC)"]},{"name":"payment_token_program","docs":["The token program for the payment token (may differ from sale token)"]},{"name":"associated_token_program","docs":["The associated token program for creating and managing token accounts."],"address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{"name":"system_program","docs":["The Solana system program, used for account management and creation."],"address":"11111111111111111111111111111111"}],"args":[{"name":"id","type":"u32"},{"name":"title","type":"string"},{"name":"description","type":"string"},{"name":"price","type":"u64"},{"name":"amount","type":"u64"},{"name":"start_time","type":"u32"},{"name":"end_time","type":"u32"},{"name":"lock_cliff_duration","type":"u32"},{"name":"lock_cliff_ratio","type":"u8"},{"name":"lock_period_duration","type":"u32"},{"name":"lock_period_count","type":"u16"}]},{"name":"withdraw_tokens","discriminator":[2,4,225,61,19,182,106,170],"accounts":[{"name":"recipient","docs":["The recipient who will receive the withdrawn tokens"],"writable":true,"signer":true},{"name":"recipient_ata","docs":["The recipient's associated token account to receive the withdrawn tokens"],"writable":true,"pda":{"seeds":[{"kind":"account","path":"recipient"},{"kind":"account","path":"token_program"},{"kind":"account","path":"token_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"lock","docs":["The lock account containing information about the locked tokens"],"writable":true},{"name":"lock_ata","docs":["The associated token account holding the locked tokens"],"writable":true,"pda":{"seeds":[{"kind":"account","path":"lock"},{"kind":"account","path":"token_program"},{"kind":"account","path":"token_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"token_mint","docs":["The mint of the token being sold."]},{"name":"token_program","docs":["The token program used to interact with the sale token."]},{"name":"associated_token_program","docs":["The associated token program for creating and managing token accounts."],"address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{"name":"system_program","docs":["The Solana system program, used for account management and creation."],"address":"11111111111111111111111111111111"}],"args":[]}],"accounts":[{"name":"Lock","discriminator":[8,255,36,202,210,22,57,137]},{"name":"Sale","discriminator":[202,64,232,171,178,172,34,183]}],"errors":[{"code":6000,"name":"InsufficientFunds","msg":"Insufficient Funds"},{"code":6001,"name":"LockAccountMissing","msg":"Lock Account Missing"},{"code":6002,"name":"LockAtaAccountMissing","msg":"Lock Ata Account Missing"},{"code":6003,"name":"Overflow","msg":"Overflow"},{"code":6004,"name":"Unauthorized","msg":"Unauthorized"},{"code":6005,"name":"InvalidTimeSetting","msg":"Invalid Time Setting"},{"code":6006,"name":"InvalidTokenMint","msg":"Invalid Token Mint"},{"code":6007,"name":"InvalidAmount","msg":"Invalid Amount"},{"code":6008,"name":"InvalidTreasuryAccount","msg":"Invalid Treasury Account"},{"code":6009,"name":"InvalidLockSetting","msg":"Invalid Lock Setting"},{"code":6010,"name":"SaleNotStarted","msg":"Sale Not Started"},{"code":6011,"name":"SaleEnded","msg":"Sale Ended"},{"code":6012,"name":"TokensStillLocked","msg":"Tokens Still Locked"},{"code":6013,"name":"NoTokensToWithdraw","msg":"No Tokens To Withdraw"}],"types":[{"name":"Lock","type":{"kind":"struct","fields":[{"name":"bump","docs":["The bump seed used for PDA signing"],"type":"u8"},{"name":"id","docs":["Unique identifier for the lock."],"type":"u32"},{"name":"sender","docs":["The public key of the sender of the locked tokens."],"type":"pubkey"},{"name":"recipient","docs":["The public key of the recipient of the locked tokens."],"type":"pubkey"},{"name":"token_mint","docs":["The locked token mint"],"type":"pubkey"},{"name":"amount","docs":["The amount of tokens locked."],"type":"u64"},{"name":"cliff_time","docs":["The time at which the lock cliff is reached (as a UNIX timestamp)."],"type":"u32"},{"name":"cliff_ratio","docs":["The ratio of tokens to be unlocked at the cliff time."],"type":"u8"},{"name":"period_duration","docs":["The time interval, in seconds, between each partial release of tokens after the cliff has been reached.","Tokens will be gradually unlocked at this regular interval until the full amount is released."],"type":"u32"},{"name":"period_count","docs":["how many periods to release tokens"],"type":"u16"}]}},{"name":"Sale","docs":["The Sale struct represents a token sale with information about the sale","authority, token mints, treasury, price, timing, and locking schedule."],"type":{"kind":"struct","fields":[{"name":"bump","docs":["The bump seed used for PDA signing"],"type":"u8"},{"name":"id","docs":["Unique identifier for the sale."],"type":"u32"},{"name":"title","type":"string"},{"name":"description","type":"string"},{"name":"authority","docs":["The public key of the sale authority (the creator or manager of the sale)."],"type":"pubkey"},{"name":"token_mint","docs":["The public key of the token mint being sold in this sale."],"type":"pubkey"},{"name":"payment_mint","docs":["The public key of the payment mint being used to purchase the tokens."],"type":"pubkey"},{"name":"treasury","docs":["The public key of the treasury account where funds from the sale will be sent."],"type":"pubkey"},{"name":"price","docs":["The price of the tokens being sold, (1 sale token = price * base unit of payment token)","For example: price = 100,000,000 means 0.1 Wrapped SOL = 1 sale token"],"type":"u64"},{"name":"start_time","docs":["The start time of the sale (as a UNIX timestamp)."],"type":"u32"},{"name":"end_time","docs":["The end time of the sale (as a UNIX timestamp)."],"type":"u32"},{"name":"lock_cliff_duration","docs":["The cliff duration, in seconds, after which a portion of tokens will be released.","This is the time from the purchase completion until the one-time release of some tokens."],"type":"u32"},{"name":"lock_cliff_ratio","docs":["The percentage of tokens to be released at the lock cliff (as a percentage, 0-100)."],"type":"u8"},{"name":"lock_period_duration","docs":["The time interval, in seconds, between each partial release of tokens after the cliff has been reached."],"type":"u32"},{"name":"lock_period_count","docs":["how many periods to release tokens"],"type":"u16"}]}}]}