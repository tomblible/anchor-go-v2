{"version":"0.1.0","name":"share_based_staking","instructions":[{"name":"initialize","accounts":[{"name":"admin","isMut":true,"isSigner":true},{"name":"state","isMut":true,"isSigner":true},{"name":"mint","isMut":false,"isSigner":false},{"name":"adminTokenAccount","isMut":true,"isSigner":false},{"name":"stakingVault","isMut":true,"isSigner":false},{"name":"rewardVault","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[{"name":"rewardAmount","type":"u64"}]},{"name":"addRewards","accounts":[{"name":"admin","isMut":true,"isSigner":true},{"name":"state","isMut":true,"isSigner":false},{"name":"adminTokenAccount","isMut":true,"isSigner":false},{"name":"rewardVault","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"endPoolEarly","accounts":[{"name":"admin","isMut":true,"isSigner":true},{"name":"state","isMut":true,"isSigner":false}],"args":[]},{"name":"finalizePool","accounts":[{"name":"admin","isMut":true,"isSigner":true},{"name":"state","isMut":true,"isSigner":false},{"name":"stakingVault","isMut":false,"isSigner":false}],"args":[]},{"name":"stake","accounts":[{"name":"user","isMut":true,"isSigner":true},{"name":"state","isMut":true,"isSigner":false},{"name":"userInfo","isMut":true,"isSigner":false},{"name":"userTokenAccount","isMut":true,"isSigner":false},{"name":"stakingVault","isMut":true,"isSigner":false},{"name":"rewardVault","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"unstake","accounts":[{"name":"user","isMut":true,"isSigner":true},{"name":"state","isMut":true,"isSigner":false},{"name":"userInfo","isMut":true,"isSigner":false},{"name":"userTokenAccount","isMut":true,"isSigner":false},{"name":"stakingVault","isMut":true,"isSigner":false},{"name":"rewardVault","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"claimRewards","accounts":[{"name":"user","isMut":true,"isSigner":true},{"name":"state","isMut":true,"isSigner":false},{"name":"userInfo","isMut":true,"isSigner":false},{"name":"userTokenAccount","isMut":true,"isSigner":false},{"name":"rewardVault","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"updateDepositFee","accounts":[{"name":"admin","isMut":true,"isSigner":true},{"name":"state","isMut":true,"isSigner":false}],"args":[{"name":"newFee","type":"u16"}]},{"name":"updatePenaltyFee","accounts":[{"name":"admin","isMut":true,"isSigner":true},{"name":"state","isMut":true,"isSigner":false}],"args":[{"name":"newFee","type":"u16"}]}],"accounts":[{"name":"State","type":{"kind":"struct","fields":[{"name":"admin","type":"publicKey"},{"name":"stakingVault","type":"publicKey"},{"name":"rewardVault","type":"publicKey"},{"name":"minStakingPeriod","type":"i64"},{"name":"earlyWithdrawalPenalty","type":"u16"},{"name":"depositFee","type":"u16"},{"name":"totalStaked","type":"u64"},{"name":"userCount","type":"u32"},{"name":"totalRewards","type":"u64"},{"name":"totalShares","type":"u64"},{"name":"startTime","type":"i64"},{"name":"endTime","type":"i64"},{"name":"isActive","type":"bool"},{"name":"isFinalized","type":"bool"}]}},{"name":"UserInfo","type":{"kind":"struct","fields":[{"name":"stakedAmount","type":"u64"},{"name":"stakeTime","type":"i64"},{"name":"shares","type":"u64"},{"name":"rewardsClaimed","type":"bool"}]}}],"events":[{"name":"PoolStartedEvent","fields":[{"name":"startTime","type":"i64","index":false},{"name":"endTime","type":"i64","index":false},{"name":"initialRewards","type":"u64","index":false}]},{"name":"PoolEndedEarlyEvent","fields":[{"name":"endTime","type":"i64","index":false},{"name":"timestamp","type":"i64","index":false}]},{"name":"PoolFinalizedEvent","fields":[{"name":"totalShares","type":"u64","index":false},{"name":"totalRewards","type":"u64","index":false},{"name":"timestamp","type":"i64","index":false}]},{"name":"StakeEvent","fields":[{"name":"user","type":"publicKey","index":false},{"name":"amount","type":"u64","index":false},{"name":"fee","type":"u64","index":false},{"name":"timestamp","type":"i64","index":false}]},{"name":"UnstakeEvent","fields":[{"name":"user","type":"publicKey","index":false},{"name":"principalAmount","type":"u64","index":false},{"name":"penaltyAmount","type":"u64","index":false},{"name":"sharesAccrued","type":"u64","index":false},{"name":"earlyWithdrawal","type":"bool","index":false},{"name":"timestamp","type":"i64","index":false}]},{"name":"SharesAccruedEvent","fields":[{"name":"user","type":"publicKey","index":false},{"name":"shares","type":"u64","index":false},{"name":"totalUserShares","type":"u64","index":false},{"name":"timestamp","type":"i64","index":false}]},{"name":"RewardsClaimedEvent","fields":[{"name":"user","type":"publicKey","index":false},{"name":"shares","type":"u64","index":false},{"name":"rewardAmount","type":"u64","index":false},{"name":"timestamp","type":"i64","index":false}]},{"name":"RewardsAddedEvent","fields":[{"name":"amount","type":"u64","index":false},{"name":"totalRewards","type":"u64","index":false},{"name":"timestamp","type":"i64","index":false}]},{"name":"FeeUpdatedEvent","fields":[{"name":"feeType","type":"string","index":false},{"name":"oldFee","type":"u16","index":false},{"name":"newFee","type":"u16","index":false},{"name":"timestamp","type":"i64","index":false}]}],"errors":[{"code":6000,"name":"Unauthorized","msg":"Unauthorized access"},{"code":6001,"name":"PoolNotActive","msg":"Pool is not active"},{"code":6002,"name":"PoolAlreadyEnded","msg":"Pool has already ended"},{"code":6003,"name":"PoolStillActive","msg":"Pool is still active, cannot claim rewards yet"},{"code":6004,"name":"PoolEnded","msg":"Pool has ended, staking no longer allowed"},{"code":6005,"name":"NoStakedAmount","msg":"No staked amount found"},{"code":6006,"name":"ZeroAmount","msg":"Cannot unstake zero amount"},{"code":6007,"name":"InsufficientBalance","msg":"Insufficient balance for unstake"},{"code":6008,"name":"NoSharesToClaimRewards","msg":"No shares to claim rewards"},{"code":6009,"name":"RewardsAlreadyClaimed","msg":"Rewards already claimed"},{"code":6010,"name":"NoRewardsAvailable","msg":"No rewards available to claim"},{"code":6011,"name":"FeeTooHigh","msg":"Fee is too high"},{"code":6012,"name":"PoolNotFinalized","msg":"Pool has not been finalized yet"},{"code":6013,"name":"PoolAlreadyFinalized","msg":"Pool has already been finalized"}]}