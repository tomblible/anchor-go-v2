{"address":"GmxrFtcdHJenHZd5XYSsrkH4bYDg8MHypvgJEfCMeiwX","metadata":{"name":"memetank","version":"0.1.0","spec":"0.1.0","description":"Created with Anchor"},"instructions":[{"name":"buy_ticket","discriminator":[11,24,17,193,168,116,164,169],"accounts":[{"name":"user_account","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114]},{"kind":"account","path":"user"}]}},{"name":"master","writable":true,"pda":{"seeds":[{"kind":"const","value":[109,97,115,116,101,114]}]}},{"name":"user","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"admin","writable":true}],"args":[{"name":"num_tickets","type":"u64"},{"name":"slippage_bps","type":"u16"}]},{"name":"claim_prize","discriminator":[157,233,139,121,246,62,234,235],"accounts":[{"name":"game","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,97,109,101]},{"kind":"arg","path":"creator"},{"kind":"arg","path":"index_game_by_creator"}]}},{"name":"participation","writable":true},{"name":"user","writable":true,"signer":true},{"name":"user_token_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"user"},{"kind":"const","value":[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{"kind":"account","path":"token_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"game_token_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"game"},{"kind":"const","value":[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{"kind":"account","path":"participation.token_address","account":"Participation"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"token_mint"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"index_game_by_creator","type":"u32"},{"name":"creator","type":"pubkey"}]},{"name":"close_game_account","discriminator":[146,113,124,60,208,61,239,201],"accounts":[{"name":"game","writable":true},{"name":"user","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[]},{"name":"close_participation_account","discriminator":[221,194,20,71,8,254,128,52],"accounts":[{"name":"participation","writable":true},{"name":"user","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[]},{"name":"initialize_game","discriminator":[44,62,102,247,126,208,130,215],"accounts":[{"name":"game","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,97,109,101]},{"kind":"account","path":"user"},{"kind":"arg","path":"number_game_created"}]}},{"name":"user_account","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114]},{"kind":"account","path":"user"}]}},{"name":"user","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"number_game_created","type":"u32"},{"name":"num_tokens","type":"u8"},{"name":"num_winners_tokens","type":"u8"},{"name":"total_winners_sum","type":"u16"},{"name":"total_distribution_sum","type":"u16"},{"name":"name","type":{"option":"string"}},{"name":"start_date","type":"u64"},{"name":"end_date","type":"u64"},{"name":"initial_reward","type":"f32"},{"name":"tokens","type":{"vec":"pubkey"}},{"name":"winners","type":{"vec":{"defined":{"name":"WinnerInfo"}}}}]},{"name":"initialize_master","discriminator":[206,91,246,30,216,101,134,166],"accounts":[{"name":"master","writable":true,"pda":{"seeds":[{"kind":"const","value":[109,97,115,116,101,114]}]}},{"name":"user","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"admin_swap","type":"pubkey"},{"name":"admin_fees","type":"pubkey"}]},{"name":"join_game","discriminator":[107,112,18,38,56,173,60,128],"accounts":[{"name":"participation","writable":true,"pda":{"seeds":[{"kind":"const","value":[112,97,114,116,105,99,105,112,97,116,105,111,110]},{"kind":"account","path":"game"},{"kind":"account","path":"user"},{"kind":"arg","path":"token_address"}]}},{"name":"user_account","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114]},{"kind":"account","path":"user"}]}},{"name":"master","writable":true,"pda":{"seeds":[{"kind":"const","value":[109,97,115,116,101,114]}]}},{"name":"game","writable":true},{"name":"user","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"game_id","type":"string"},{"name":"token_address","type":"pubkey"},{"name":"num_tickets","type":"u64"}]},{"name":"pick_winner","discriminator":[227,62,25,73,132,106,68,96],"accounts":[{"name":"game","writable":true},{"name":"creator","writable":true},{"name":"master","writable":true,"pda":{"seeds":[{"kind":"const","value":[109,97,115,116,101,114]}]}},{"name":"admin_fees","writable":true},{"name":"admin_swap","writable":true},{"name":"user","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"token_addresses","type":{"vec":"string"}},{"name":"token_volumes","type":{"vec":"f32"}}]},{"name":"sell_ticket","discriminator":[222,99,130,10,204,2,58,171],"accounts":[{"name":"user_account","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114]},{"kind":"account","path":"user"}]}},{"name":"master","writable":true,"pda":{"seeds":[{"kind":"const","value":[109,97,115,116,101,114]}]}},{"name":"user","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"admin","writable":true}],"args":[{"name":"num_tickets","type":"u64"},{"name":"slippage_bps","type":"u16"}]},{"name":"transfer_tokens_to_game","discriminator":[226,176,120,84,171,230,115,117],"accounts":[{"name":"game","writable":true},{"name":"master","writable":true},{"name":"user","writable":true,"signer":true},{"name":"mint_account","writable":true},{"name":"sender_token_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"user"},{"kind":"const","value":[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{"kind":"account","path":"mint_account"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"game_token_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"game"},{"kind":"const","value":[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{"kind":"account","path":"mint_account"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"admin_swap","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"amount","type":"u64"}]}],"accounts":[{"name":"Game","discriminator":[27,90,166,125,74,100,121,18]},{"name":"Master","discriminator":[168,213,193,12,77,162,58,235]},{"name":"Participation","discriminator":[237,154,142,46,143,63,189,18]},{"name":"User","discriminator":[159,117,95,227,239,151,58,236]}],"errors":[{"code":6000,"name":"GameNotEndedOrAlreadyEnded","msg":"The game has not ended yet or has already been marked as ended."},{"code":6001,"name":"ZeroTokenVolume","msg":"Total token volume cannot be zero."},{"code":6002,"name":"InvalidTicketAmount","msg":"Number of tickets is out of allowed range."},{"code":6003,"name":"InvalidSlippageBps","msg":"Slippage basis points (BPS) is out of allowed range."},{"code":6004,"name":"IllegalOwner","msg":"User account does not match provided public key."},{"code":6005,"name":"InsufficientFunds","msg":"Master account does not have enough funds."},{"code":6006,"name":"InsufficientTickets","msg":"User does not have enough tickets to sell."},{"code":6007,"name":"MismatchedTokenCount","msg":"The number of tokens provided does not match the specified number."},{"code":6008,"name":"MismatchedWinnerCount","msg":"The number of winners provided does not match the specified number."},{"code":6009,"name":"MismatchedDistributionSum","msg":"The total distribution sum does not match the calculated distribution sum."},{"code":6010,"name":"GameNameTooLong","msg":"The game name exceeds the maximum allowed length."},{"code":6011,"name":"MismatchedWinnersSum","msg":"The total winners sum does not match the calculated winners sum."},{"code":6012,"name":"DuplicateTokens","msg":"Duplicate tokens detected; all token addresses must be unique."},{"code":6013,"name":"DistributionNameTooLong","msg":"A winner distribution name exceeds the maximum allowed length."},{"code":6014,"name":"TotalWinnerPercentageTooLow","msg":"The total percentage for all winners is below the required threshold of 99.8%."},{"code":6015,"name":"DistributionPercentageTooLow","msg":"The total distribution percentage for a winner is below the required threshold of 99.8%."},{"code":6016,"name":"GameNotActive","msg":"Game is not currently active."},{"code":6017,"name":"InvalidNumberOfTickets","msg":"Invalid number of tickets."},{"code":6018,"name":"ExceededMaxTicketRanges","msg":"Exceeded the maximum number of ticket ranges allowed."},{"code":6019,"name":"GameNotEnded","msg":"The game has not ended yet."},{"code":6020,"name":"AlreadyClaimed","msg":"Participation has already been claimed."},{"code":6021,"name":"SignerMismatch","msg":"Signer does not match participation user_pubkey."},{"code":6022,"name":"GameIdMismatch","msg":"Game ID mismatch."},{"code":6023,"name":"TokenNotFoundInGame","msg":"Token not found in game tokens."},{"code":6024,"name":"TokenSwapIncomplete","msg":"Token swap has not been completed for this token."},{"code":6025,"name":"MissingFinalPosition","msg":"Token does not have a final position."},{"code":6026,"name":"WinnerInfoNotFound","msg":"Winner information not found for the specified position."},{"code":6027,"name":"ZeroPrizeAmount","msg":"Calculated prize amount is zero."},{"code":6028,"name":"UnauthorizedAdminSwap","msg":"User is not authorized as the admin swap."},{"code":6029,"name":"TokenSwapAlreadyDone","msg":"Token swap has already been completed for this token."},{"code":6030,"name":"UnauthorizedCreateGameUser","msg":"User not authorized to create game."},{"code":6031,"name":"ParticipationAccountAlreadyClosed","msg":"The participation account is already closed."}],"types":[{"name":"Game","type":{"kind":"struct","fields":[{"name":"id","type":"pubkey"},{"name":"creator","type":"pubkey"},{"name":"index_game_by_creator","type":"u32"},{"name":"num","type":"u32"},{"name":"is_ended","type":"bool"},{"name":"start_date","type":"u64"},{"name":"end_date","type":"u64"},{"name":"total_reward","type":"f32"},{"name":"remaining_reward","type":"f32"},{"name":"initial_reward","type":"f32"},{"name":"name","type":{"option":"string"}},{"name":"tokens","type":{"vec":{"defined":{"name":"TokenInfo"}}}},{"name":"winners","type":{"vec":{"defined":{"name":"WinnerInfo"}}}}]}},{"name":"Master","type":{"kind":"struct","fields":[{"name":"total_number_ticket","type":"u64"},{"name":"admin_fees","type":"pubkey"},{"name":"admin_swap","type":"pubkey"},{"name":"ticket_buy_price","type":"f32"},{"name":"ticket_sell_price","type":"f32"},{"name":"all_time_volume","type":"f32"}]}},{"name":"Participation","type":{"kind":"struct","fields":[{"name":"user_pubkey","type":"pubkey"},{"name":"game_id","type":"string"},{"name":"token_address","type":"pubkey"},{"name":"ranges","type":{"vec":{"defined":{"name":"TicketRange"}}}},{"name":"is_claimed","type":"bool"},{"name":"total_spend","type":{"option":"f32"}},{"name":"total_tickets_entered","type":{"option":"u32"}}]}},{"name":"TicketRange","type":{"kind":"struct","fields":[{"name":"start","type":"u32"},{"name":"end","type":"u32"}]}},{"name":"TokenInfo","type":{"kind":"struct","fields":[{"name":"number_of_tickets","type":"u64"},{"name":"token_address","type":"pubkey"},{"name":"is_winner","type":"bool"},{"name":"position_final","type":{"option":"u8"}},{"name":"total_amount_wallet_sol","type":"f32"},{"name":"total_amount_wallet_token","type":"u64"},{"name":"swap_done","type":"bool"}]}},{"name":"User","type":{"kind":"struct","fields":[{"name":"user_pubkey","type":"pubkey"},{"name":"number_tickets","type":"u64"},{"name":"number_game_created","type":"u32"},{"name":"free_ticket_received","type":{"option":"bool"}},{"name":"free_superteam_ticket_received","type":{"option":"bool"}},{"name":"points","type":{"option":"u64"}},{"name":"number_referrals_done","type":{"option":"u32"}},{"name":"referral_parent","type":{"option":"pubkey"}},{"name":"referral_code","type":{"option":"string"}}]}},{"name":"WinnerDistribution","type":{"kind":"struct","fields":[{"name":"percentage","type":"f32"},{"name":"num_winners","type":"u8"},{"name":"fair_distribution_all","type":"bool"},{"name":"name","type":"string"},{"name":"ticket_ids","type":{"vec":"u32"}},{"name":"percentage_winners","type":{"option":"u8"}}]}},{"name":"WinnerInfo","type":{"kind":"struct","fields":[{"name":"position","type":"u8"},{"name":"percentage","type":"f32"},{"name":"token_address","type":"pubkey"},{"name":"winner_distribution","type":{"vec":{"defined":{"name":"WinnerDistribution"}}}}]}}]}