{"address":"93KzY6AXgrgxL5T1MwLJWa7YbJgFKbZhWHDP62URuY9c","metadata":{"name":"token_time_lock_agreement","version":"0.1.0","spec":"0.1.0","description":"Created with Anchor"},"instructions":[{"name":"add_investors","discriminator":[109,180,164,182,214,76,67,77],"accounts":[{"name":"settings","pda":{"seeds":[{"kind":"const","value":[115,101,116,116,105,110,103,115]}]}},{"name":"agreement","writable":true,"pda":{"seeds":[{"kind":"const","value":[97,103,114,101,101,109,101,110,116]},{"kind":"account","path":"agreement.agreement_id","account":"Agreement"}]}},{"name":"payer","signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"params","type":{"defined":{"name":"AddInvestorsParams"}}}]},{"name":"cancel_agreement","discriminator":[75,89,85,4,100,216,143,37],"accounts":[{"name":"settings","pda":{"seeds":[{"kind":"const","value":[115,101,116,116,105,110,103,115]}]}},{"name":"agreement","writable":true,"pda":{"seeds":[{"kind":"const","value":[97,103,114,101,101,109,101,110,116]},{"kind":"account","path":"agreement.agreement_id","account":"Agreement"}]}},{"name":"project_token_account","writable":true,"pda":{"seeds":[{"kind":"const","value":[112,114,111,106,101,99,116]},{"kind":"account","path":"agreement.agreement_id","account":"Agreement"}]}},{"name":"investor","writable":true,"optional":true,"pda":{"seeds":[{"kind":"const","value":[105,110,118,101,115,116,111,114]},{"kind":"account","path":"agreement"},{"kind":"account","path":"investor.wallet","account":"Investor"}]}},{"name":"payer","writable":true,"signer":true},{"name":"clock","address":"SysvarC1ock11111111111111111111111111111111"}],"args":[{"name":"params","type":{"defined":{"name":"CancelAgreementParams"}}}]},{"name":"deposit_stablecoins","discriminator":[211,72,228,86,165,39,213,73],"accounts":[{"name":"agreement","writable":true,"pda":{"seeds":[{"kind":"const","value":[97,103,114,101,101,109,101,110,116]},{"kind":"account","path":"agreement.agreement_id","account":"Agreement"}]}},{"name":"investor","writable":true,"optional":true,"pda":{"seeds":[{"kind":"const","value":[105,110,118,101,115,116,111,114]},{"kind":"account","path":"agreement"},{"kind":"account","path":"investor.wallet","account":"Investor"}]}},{"name":"destination_token_account","writable":true},{"name":"payer_token_account","writable":true},{"name":"payer","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"clock","address":"SysvarC1ock11111111111111111111111111111111"}],"args":[{"name":"params","type":{"defined":{"name":"DepositStablecoinsParams"}}}]},{"name":"initialize","discriminator":[175,175,109,31,13,152,155,237],"accounts":[{"name":"settings","writable":true,"pda":{"seeds":[{"kind":"const","value":[115,101,116,116,105,110,103,115]}]}},{"name":"payer","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"params","type":{"defined":{"name":"InitializeParams"}}}]},{"name":"initialize_agreement","discriminator":[228,200,63,16,47,146,42,166],"accounts":[{"name":"settings","pda":{"seeds":[{"kind":"const","value":[115,101,116,116,105,110,103,115]}]}},{"name":"agreement","writable":true,"pda":{"seeds":[{"kind":"const","value":[97,103,114,101,101,109,101,110,116]},{"kind":"arg","path":"params.agreement_id"}]}},{"name":"payment_token_mint"},{"name":"project_token_mint"},{"name":"payment_token_account","writable":true,"pda":{"seeds":[{"kind":"const","value":[112,97,121,109,101,110,116]},{"kind":"arg","path":"params.agreement_id"}]}},{"name":"project_token_account","writable":true,"pda":{"seeds":[{"kind":"const","value":[112,114,111,106,101,99,116]},{"kind":"arg","path":"params.agreement_id"}]}},{"name":"company_wallet"},{"name":"token_seller"},{"name":"payer","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"params","type":{"defined":{"name":"InitializeAgreementParams"}}}]},{"name":"process_token_deposit","discriminator":[183,238,31,175,152,115,55,227],"accounts":[{"name":"agreement","writable":true,"pda":{"seeds":[{"kind":"const","value":[97,103,114,101,101,109,101,110,116]},{"kind":"account","path":"agreement.agreement_id","account":"Agreement"}]}},{"name":"project_token_account","writable":true,"pda":{"seeds":[{"kind":"const","value":[112,114,111,106,101,99,116]},{"kind":"account","path":"agreement.agreement_id","account":"Agreement"}]}},{"name":"company_token_account","writable":true},{"name":"payer","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"clock","address":"SysvarC1ock11111111111111111111111111111111"}],"args":[{"name":"params","type":{"defined":{"name":"ProcessTokenDepositParams"}}}]},{"name":"withdraw_cancelled_funds","discriminator":[231,148,186,220,106,168,238,72],"accounts":[{"name":"agreement","writable":true,"pda":{"seeds":[{"kind":"const","value":[97,103,114,101,101,109,101,110,116]},{"kind":"account","path":"agreement.agreement_id","account":"Agreement"}]}},{"name":"investor","writable":true,"optional":true,"pda":{"seeds":[{"kind":"const","value":[105,110,118,101,115,116,111,114]},{"kind":"account","path":"agreement"},{"kind":"account","path":"investor.wallet","account":"Investor"}]}},{"name":"agreement_token_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"investor"},{"kind":"account","path":"agreement.agreement_id","account":"Agreement"}]}},{"name":"destination_token_account","writable":true},{"name":"payer","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"clock","address":"SysvarC1ock11111111111111111111111111111111"}],"args":[{"name":"params","type":{"defined":{"name":"WithdrawCancelledFundsParams"}}}]},{"name":"withdraw_cancelled_funds_batch","discriminator":[202,108,149,247,125,59,161,245],"accounts":[{"name":"agreement","writable":true,"pda":{"seeds":[{"kind":"const","value":[97,103,114,101,101,109,101,110,116]},{"kind":"account","path":"agreement.agreement_id","account":"Agreement"}]}},{"name":"payment_token_account","writable":true,"pda":{"seeds":[{"kind":"const","value":[112,97,121,109,101,110,116]},{"kind":"account","path":"agreement.agreement_id","account":"Agreement"}]}},{"name":"payer","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"clock","address":"SysvarC1ock11111111111111111111111111111111"}],"args":[{"name":"params","type":{"defined":{"name":"WithdrawCancelledFundsBatchParams"}}}]},{"name":"withdraw_excess_tokens","discriminator":[86,243,73,178,237,198,164,150],"accounts":[{"name":"agreement","writable":true,"pda":{"seeds":[{"kind":"const","value":[97,103,114,101,101,109,101,110,116]},{"kind":"account","path":"agreement.agreement_id","account":"Agreement"}]}},{"name":"project_token_account","writable":true,"pda":{"seeds":[{"kind":"const","value":[112,114,111,106,101,99,116]},{"kind":"account","path":"agreement.agreement_id","account":"Agreement"}]}},{"name":"company_token_account","writable":true},{"name":"payer","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"clock","address":"SysvarC1ock11111111111111111111111111111111"}],"args":[{"name":"params","type":{"defined":{"name":"WithdrawExcessTokensParams"}}}]},{"name":"withdraw_funds","discriminator":[241,36,29,111,208,31,104,217],"accounts":[{"name":"settings","pda":{"seeds":[{"kind":"const","value":[115,101,116,116,105,110,103,115]}]}},{"name":"agreement","writable":true,"pda":{"seeds":[{"kind":"const","value":[97,103,114,101,101,109,101,110,116]},{"kind":"account","path":"agreement.agreement_id","account":"Agreement"}]}},{"name":"payment_token_account","writable":true,"pda":{"seeds":[{"kind":"const","value":[112,97,121,109,101,110,116]},{"kind":"account","path":"agreement.agreement_id","account":"Agreement"}]}},{"name":"seller_token_account","writable":true},{"name":"owner_token_account","writable":true},{"name":"payer","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"clock","address":"SysvarC1ock11111111111111111111111111111111"}],"args":[{"name":"params","type":{"defined":{"name":"WithdrawFundsParams"}}}]},{"name":"withdraw_tokens","discriminator":[2,4,225,61,19,182,106,170],"accounts":[{"name":"settings","pda":{"seeds":[{"kind":"const","value":[115,101,116,116,105,110,103,115]}]}},{"name":"agreement","writable":true,"pda":{"seeds":[{"kind":"const","value":[97,103,114,101,101,109,101,110,116]},{"kind":"account","path":"agreement.agreement_id","account":"Agreement"}]}},{"name":"investor","writable":true,"pda":{"seeds":[{"kind":"const","value":[105,110,118,101,115,116,111,114]},{"kind":"account","path":"agreement"},{"kind":"account","path":"investor.wallet","account":"Investor"}]}},{"name":"project_token_account","writable":true,"pda":{"seeds":[{"kind":"const","value":[112,114,111,106,101,99,116]},{"kind":"account","path":"agreement.agreement_id","account":"Agreement"}]}},{"name":"investor_token_account","writable":true},{"name":"owner_token_account","writable":true},{"name":"payer","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"clock","address":"SysvarC1ock11111111111111111111111111111111"}],"args":[{"name":"params","type":{"defined":{"name":"WithdrawTokensParams"}}}]},{"name":"withdraw_tokens_batch","discriminator":[170,71,206,144,6,129,57,60],"accounts":[{"name":"settings","pda":{"seeds":[{"kind":"const","value":[115,101,116,116,105,110,103,115]}]}},{"name":"agreement","writable":true,"pda":{"seeds":[{"kind":"const","value":[97,103,114,101,101,109,101,110,116]},{"kind":"account","path":"agreement.agreement_id","account":"Agreement"}]}},{"name":"project_token_account","writable":true,"pda":{"seeds":[{"kind":"const","value":[112,114,111,106,101,99,116]},{"kind":"account","path":"agreement.agreement_id","account":"Agreement"}]}},{"name":"owner_token_account","writable":true},{"name":"payer","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"clock","address":"SysvarC1ock11111111111111111111111111111111"}],"args":[{"name":"params","type":{"defined":{"name":"WithdrawTokensBatchParams"}}}]}],"accounts":[{"name":"Agreement","discriminator":[83,212,5,110,225,249,197,84]},{"name":"Investor","discriminator":[174,129,17,83,36,116,26,196]},{"name":"Settings","discriminator":[223,179,163,190,177,224,67,173]}],"errors":[{"code":6000,"name":"CustomError","msg":"Custom error message"},{"code":6001,"name":"InvalidAmount","msg":"Invalid amount"},{"code":6002,"name":"InvalidHoldDuration","msg":"Invalid hold duration"},{"code":6003,"name":"InvalidRemainingAccounts","msg":"Invalid remaining accounts"},{"code":6004,"name":"InvalidInvestorAccount","msg":"Invalid investor account"},{"code":6005,"name":"InvestorAlreadyExists","msg":"Investor already exists"},{"code":6006,"name":"AlreadyDeposited","msg":"Invalid agreement account"},{"code":6007,"name":"DepositExceedsExpectedPayment","msg":"Deposit exceeds expected payment"},{"code":6008,"name":"SellerDeposited","msg":"Seller already deposited"},{"code":6009,"name":"TotalAllocationsExceedTarget","msg":"Total allocations exceed target"},{"code":6010,"name":"TotalTokenAllocationsExceedTarget","msg":"Total token allocations exceed target"},{"code":6011,"name":"SellerMustDepositFirst","msg":"Seller must deposit first"},{"code":6012,"name":"SellerCannotDepositStablecoins","msg":"Seller cannot deposit stablecoins"},{"code":6013,"name":"IncorrectDepositAmount","msg":"Incorrect deposit amount"},{"code":6014,"name":"InvalidDestination","msg":"Invalid destination"},{"code":6015,"name":"OnlySellerAllowed","msg":"Only seller allowed"},{"code":6016,"name":"AgreementAlreadyCancelled","msg":"Agreement already cancelled"},{"code":6017,"name":"TokensAlreadyDeposited","msg":"Tokens already deposited"},{"code":6018,"name":"FullAmountNotCollected","msg":"Full amount not collected"},{"code":6019,"name":"FundCommissionAlreadyCollected","msg":"Fund commission already collected"},{"code":6020,"name":"TokensNotDeposited","msg":"Tokens not deposited"},{"code":6021,"name":"HoldDurationNotStarted","msg":"Hold duration not started"},{"code":6022,"name":"HoldDurationPeriodNotExpired","msg":"Hold duration period not expired"},{"code":6023,"name":"TokensAlreadyWithdrawn","msg":"Tokens already withdrawn"},{"code":6024,"name":"NotAnInvestor","msg":"Not an investor"},{"code":6025,"name":"NotAuthorized","msg":"Not authorized"},{"code":6026,"name":"NoFirstDeposit","msg":"No first deposit"},{"code":6027,"name":"CancellationTimeoutNotReached","msg":"Cancellation timeout not reached"},{"code":6028,"name":"AgreementNotCancelled","msg":"Agreement not cancelled"},{"code":6029,"name":"InvalidTokenMint","msg":"Invalid token mint"},{"code":6030,"name":"NoFundsToWithdraw","msg":"No funds to withdraw"},{"code":6031,"name":"InsufficientTokenBalance","msg":"Invalid token account"},{"code":6032,"name":"DuplicateInvestor","msg":"Duplicate investor"},{"code":6033,"name":"InvalidInvestorAccountOwner","msg":"Invalid investor account owner"}],"types":[{"name":"AddInvestorsParams","type":{"kind":"struct","fields":[{"name":"allocations","type":{"vec":{"defined":{"name":"InvestorAllocation"}}}}]}},{"name":"Agreement","type":{"kind":"struct","fields":[{"name":"agreement_id","type":"u64"},{"name":"payment_token_mint","type":"pubkey"},{"name":"project_token_mint","type":"pubkey"},{"name":"company_wallet","type":"pubkey"},{"name":"token_seller","type":"pubkey"},{"name":"expected_payment","type":"u64"},{"name":"expected_tokens","type":"u64"},{"name":"total_invested","type":"u64"},{"name":"total_required","type":"u64"},{"name":"total_token_allocation","type":"u64"},{"name":"hold_duration","type":"i64"},{"name":"hold_duration_start","type":"i64"},{"name":"seller_deposited","type":"bool"},{"name":"first_deposit_time","type":"i64"},{"name":"funds_commision_collected","type":"bool"},{"name":"token_commision_collected","type":"u64"},{"name":"agreement_cancelled","type":"bool"},{"name":"investors_count","type":"u64"},{"name":"owner","type":"pubkey"},{"name":"bump","type":"u8"}]}},{"name":"CancelAgreementParams","type":{"kind":"struct"}},{"name":"DepositStablecoinsParams","type":{"kind":"struct","fields":[{"name":"amount","type":"u64"}]}},{"name":"InitializeAgreementParams","type":{"kind":"struct","fields":[{"name":"agreement_id","type":"u64"},{"name":"expected_payment","type":"u64"},{"name":"expected_tokens","type":"u64"},{"name":"hold_duration","type":"i64"}]}},{"name":"InitializeParams","type":{"kind":"struct","fields":[{"name":"cancel_timeout","type":"i64"},{"name":"commission_basis_points","type":"u16"},{"name":"owner","type":"pubkey"}]}},{"name":"Investor","type":{"kind":"struct","fields":[{"name":"has_withdrawn_tokens","type":"bool"},{"name":"investor_deposited","type":"bool"},{"name":"token_allocation","type":"u64"},{"name":"required_amount","type":"u64"},{"name":"wallet","type":"pubkey"},{"name":"agreement","type":"pubkey"},{"name":"bump","type":"u8"}]}},{"name":"InvestorAllocation","type":{"kind":"struct","fields":[{"name":"amount","type":"u64"},{"name":"token_amount","type":"u64"},{"name":"wallet","type":"pubkey"}]}},{"name":"ProcessTokenDepositParams","type":{"kind":"struct"}},{"name":"Settings","type":{"kind":"struct","fields":[{"name":"cancel_timeout","type":"i64"},{"name":"commission_basis_points","type":"u16"},{"name":"owner","type":"pubkey"}]}},{"name":"WithdrawCancelledFundsBatchParams","type":{"kind":"struct"}},{"name":"WithdrawCancelledFundsParams","type":{"kind":"struct"}},{"name":"WithdrawExcessTokensParams","type":{"kind":"struct"}},{"name":"WithdrawFundsParams","type":{"kind":"struct"}},{"name":"WithdrawTokensBatchParams","type":{"kind":"struct"}},{"name":"WithdrawTokensParams","type":{"kind":"struct"}}],"constants":[{"name":"AGREEMENT_SEED","type":"string","value":"\"agreement\""},{"name":"BASIC_POINTS","type":"u64","value":"10000"},{"name":"INVESTOR_SEED","type":"string","value":"\"investor\""},{"name":"PAYMENT_SEED","type":"string","value":"\"payment\""},{"name":"PROJECT_SEED","type":"string","value":"\"project\""},{"name":"SETTINGS_SEED","type":"string","value":"\"settings\""}]}