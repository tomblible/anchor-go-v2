{"version":"0.1.0","name":"lighthouse_program","instructions":[{"name":"createCommunity","accounts":[{"name":"community","isMut":true,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"tokenMint","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"name","type":"string"},{"name":"tokenName","type":"string"},{"name":"adminAuthority","type":"publicKey"},{"name":"quorumPercent","type":"u8"},{"name":"votingDuration","type":"i64"}]},{"name":"addPoints","accounts":[{"name":"community","isMut":false,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true},{"name":"adminState","isMut":false,"isSigner":false},{"name":"tokenMint","isMut":true,"isSigner":false},{"name":"tokenAccount","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"pdaAccount","isMut":false,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true}],"args":[{"name":"amount","type":"u64"}]},{"name":"addToWhitelist","accounts":[{"name":"whitelistState","isMut":true,"isSigner":false},{"name":"whitelistedAccount","isMut":false,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true},{"name":"adminState","isMut":false,"isSigner":false},{"name":"community","isMut":false,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"transferToWhitelist","accounts":[{"name":"fromAccount","isMut":true,"isSigner":false},{"name":"toAccount","isMut":true,"isSigner":false},{"name":"whitelistState","isMut":false,"isSigner":false},{"name":"community","isMut":false,"isSigner":false},{"name":"tokenMint","isMut":true,"isSigner":false},{"name":"owner","isMut":true,"isSigner":true},{"name":"pdaAccount","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"addAdmin","accounts":[{"name":"adminState","isMut":true,"isSigner":false},{"name":"adminAuthority","isMut":false,"isSigner":true},{"name":"community","isMut":true,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"newAdmin","type":"publicKey"}]},{"name":"delegate","accounts":[{"name":"community","isMut":false,"isSigner":false},{"name":"user","isMut":false,"isSigner":true},{"name":"tokenMint","isMut":false,"isSigner":false},{"name":"tokenAccount","isMut":true,"isSigner":false},{"name":"pdaAccount","isMut":false,"isSigner":false},{"name":"pdaTokenAccount","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true}],"args":[]},{"name":"slashPoints","accounts":[{"name":"community","isMut":false,"isSigner":false},{"name":"adminState","isMut":false,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true},{"name":"tokenMint","isMut":true,"isSigner":false},{"name":"tokenAccount","isMut":true,"isSigner":false},{"name":"pdaAccount","isMut":true,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"removeAdmin","accounts":[{"name":"adminState","isMut":true,"isSigner":false},{"name":"adminAuthority","isMut":false,"isSigner":true},{"name":"community","isMut":true,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"admin","type":"publicKey"}]},{"name":"setAdminAuthority","accounts":[{"name":"adminAuthority","isMut":false,"isSigner":true},{"name":"community","isMut":true,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"newAuthority","type":"publicKey"}]}],"accounts":[{"name":"Admin","type":{"kind":"struct","fields":[{"name":"bump","type":"u8"}]}},{"name":"Community","type":{"kind":"struct","fields":[{"name":"name","docs":["Name of the community"],"type":"string"},{"name":"tokenName","docs":["Name of the token, if there's no token then None"],"type":{"option":"string"}},{"name":"adminAuthority","docs":["Admin authority, authority to add new admins"],"type":"publicKey"},{"name":"tokenMint","docs":["token mint of the community, if there's no token then `None`"],"type":{"option":"publicKey"}},{"name":"proposalCount","docs":["total proposal count"],"type":"u64"},{"name":"adminCount","docs":["total admin count"],"type":"u8"},{"name":"quorumPercent","docs":["quorum for proposal in percent"],"type":"u8"},{"name":"votingDuration","docs":["voting duration in seconds"],"type":"i64"},{"name":"bump","docs":["bump for the community PDA account"],"type":"u8"},{"name":"realmsInfo","docs":["Optional realms info for realms integration"],"type":{"option":{"defined":"RealmInfo"}}}]}},{"name":"Proposal","type":{"kind":"struct","fields":[{"name":"community","type":"publicKey"},{"name":"proposalId","type":"u64"},{"name":"proposer","type":"publicKey"},{"name":"proposalType","type":{"defined":"ProposalType"}},{"name":"createdAt","type":"i64"},{"name":"votingClosesAt","type":"i64"},{"name":"state","type":{"defined":"ProposalState"}},{"name":"maxVoteCount","type":"u8"},{"name":"minVotesToSucceed","type":"u8"},{"name":"bump","type":"u8"}]}},{"name":"RealmsRecord","type":{"kind":"struct","fields":[{"name":"originalRecord","docs":["The realms vote or proposal record pubkey"],"type":"publicKey"},{"name":"member","docs":["pubkey of the member who voted/created proposal"],"type":"publicKey"},{"name":"points","docs":["amount of tokens awarded on execution"],"type":"u64"},{"name":"recordType","docs":["Type of record, can be for voting, creating proposal or creating a proposal that passed."],"type":{"defined":"RealmsRecordType"}},{"name":"status","docs":["Status tracking if the tokens were issued or not."],"type":{"defined":"RecordStatus"}},{"name":"bump","type":"u8"}]}},{"name":"VoteRecord","type":{"kind":"struct","fields":[{"name":"proposal","type":"publicKey"},{"name":"voter","type":"publicKey"},{"name":"vote","type":{"defined":"VoteType"}}]}},{"name":"WhitelistState","type":{"kind":"struct","fields":[{"name":"isWhitelisted","type":"bool"},{"name":"bump","type":"u8"}]}}],"types":[{"name":"RealmInfo","type":{"kind":"struct","fields":[{"name":"realmPk","docs":["Pubkey of the realm"],"type":"publicKey"},{"name":"programId","docs":["Program Id of the instance"],"type":"publicKey"},{"name":"votePoints","docs":["points given for each vote"],"type":"u64"},{"name":"proposalCreationPoints","docs":["points given for creating a proposal"],"type":"u64"},{"name":"proposalPassedPoints","docs":["points given for a creating a proposal that passes"],"type":"u64"}]}},{"name":"ProposalState","type":{"kind":"enum","variants":[{"name":"Voting"},{"name":"Succeeded"},{"name":"Defeated"},{"name":"Executed"}]}},{"name":"ProposalType","docs":["Proposal type that contains information about the proposal"],"type":{"kind":"enum","variants":[{"name":"Binary","fields":[{"name":"sub_type","type":{"defined":"BinarySubType"}},{"name":"yes_vote_count","type":"u8"},{"name":"no_vote_count","type":"u8"}]},{"name":"Subjective","fields":[{"name":"receiver","type":"publicKey"},{"name":"reason","type":"string"},{"name":"categories","type":{"vec":"string"}},{"name":"max_points","type":"f64"},{"name":"score","type":"f64"},{"name":"tag","type":"string"},{"name":"vote_count","type":"u8"}]}]}},{"name":"VoteType","docs":["Vote type, `Binary` for yes/no and `Subjective` for rating"],"type":{"kind":"enum","variants":[{"name":"Binary","fields":[{"name":"vote","type":{"defined":"BinaryVote"}}]},{"name":"Subjective","fields":[{"name":"new_breakdown","type":{"vec":"u16"}}]}]}},{"name":"BinaryVote","type":{"kind":"enum","variants":[{"name":"Yes"},{"name":"No"}]}},{"name":"BinarySubType","type":{"kind":"enum","variants":[{"name":"AddAdmin","fields":[{"name":"admin","type":"publicKey"}]},{"name":"RemoveAdmin","fields":[{"name":"admin","type":"publicKey"}]},{"name":"Points","fields":[{"name":"receiver","type":"publicKey"},{"name":"reason","type":"string"},{"name":"amount","type":"u64"},{"name":"action","type":{"defined":"Action"}},{"name":"tag","type":"string"}]},{"name":"Quorum","fields":[{"name":"new_quorum","type":"u8"}]},{"name":"Realms","fields":[{"name":"info","type":{"option":{"defined":"RealmInfo"}}}]}]}},{"name":"Action","type":{"kind":"enum","variants":[{"name":"Add"},{"name":"Remove"}]}},{"name":"RecordStatus","type":{"kind":"enum","variants":[{"name":"Attested"},{"name":"Executed"}]}},{"name":"RealmsRecordType","type":{"kind":"enum","variants":[{"name":"ProposalCreation"},{"name":"ProposalPassed"},{"name":"Vote"}]}}],"events":[{"name":"LogRootHash","fields":[{"name":"rootHash","type":"string","index":false},{"name":"timestamp","type":"i64","index":false}]}],"errors":[{"code":6000,"name":"NotAdmin","msg":"Only the admin is allowed to call this function!"},{"code":6001,"name":"NotAdminAuthority","msg":"Only the admin authoriy is allowed add admins"},{"code":6002,"name":"WrongReceiverAccount","msg":"Given account is not owned by receiver"},{"code":6003,"name":"InitError","msg":"Init error"},{"code":6004,"name":"WrongTokenMint","msg":"Wrong token mint for this community"},{"code":6005,"name":"InsufficientFunds","msg":"Insufficient funds"},{"code":6006,"name":"NotWhitelisted","msg":"Receipient account isn't whitelisted"},{"code":6007,"name":"WrongPDA","msg":"Given PDA does not match the program PDA"},{"code":6008,"name":"NotDelegated","msg":"Given token account must be delegated to the program PDA"},{"code":6009,"name":"NonExistentTokenMint","msg":"Given token account is either wrong or the community does not have a token yet"},{"code":6010,"name":"TokenMintAlreadyExists","msg":"The community already has a token mint"},{"code":6011,"name":"VotingClosed","msg":"The voting is period is over"},{"code":6012,"name":"ProposalDefeated","msg":"The proposal has been defeated"},{"code":6013,"name":"ProposalAlreadyExecuted","msg":"The proposal has already been executed"},{"code":6014,"name":"VotingNotClosed","msg":"Cannot execute while voting is still open"},{"code":6015,"name":"InvalidBreakdown","msg":"Breakdown must sum up to less than max points"},{"code":6016,"name":"InvalidBreakdownLength","msg":"Invalid length of breakdown"},{"code":6017,"name":"InvalidVoteType","msg":"Given vote type and proposal vote type did not match"},{"code":6018,"name":"InvalidProposalType","msg":"Wrong proposal type, cannot execute this proposal using this fn"},{"code":6019,"name":"InvalidTokenDecimals","msg":"Token decimals of token mint must be 2"},{"code":6020,"name":"InvalidPDA","msg":"Given PDA does not match the Lighthouse PDA"},{"code":6021,"name":"NoRealmIntegration","msg":"The community does not have realms integration"},{"code":6022,"name":"InvalidOwner","msg":"Given account isn't owned by expected owner"},{"code":6023,"name":"ProposalNotComplete","msg":"Cannot attest proposal before voting is complete"},{"code":6024,"name":"VoteRecordProposalMismatch","msg":"Given vote record is not part of given proposal"},{"code":6025,"name":"RecordExecuted","msg":"Record already executed"}]}