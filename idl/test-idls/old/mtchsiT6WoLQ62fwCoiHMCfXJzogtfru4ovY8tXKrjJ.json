{"version":"0.1.0","name":"matches","instructions":[{"name":"createOrUpdateOracle","accounts":[{"name":"oracle","isMut":true,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[{"name":"args","type":{"defined":"CreateOrUpdateOracleArgs"}}]},{"name":"createMatch","accounts":[{"name":"matchInstance","isMut":true,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[{"name":"args","type":{"defined":"CreateMatchArgs"}}]},{"name":"updateMatch","accounts":[{"name":"matchInstance","isMut":true,"isSigner":false},{"name":"winOracle","isMut":false,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true}],"args":[{"name":"args","type":{"defined":"UpdateMatchArgs"}}]},{"name":"updateMatchFromOracle","accounts":[{"name":"matchInstance","isMut":true,"isSigner":false},{"name":"winOracle","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false}],"args":[]},{"name":"drainOracle","accounts":[{"name":"matchInstance","isMut":false,"isSigner":false},{"name":"oracle","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"receiver","isMut":true,"isSigner":false}],"args":[{"name":"args","type":{"defined":"DrainOracleArgs"}}]},{"name":"drainMatch","accounts":[{"name":"matchInstance","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"receiver","isMut":false,"isSigner":false}],"args":[]},{"name":"leaveMatch","accounts":[{"name":"matchInstance","isMut":true,"isSigner":false},{"name":"receiver","isMut":false,"isSigner":false},{"name":"tokenAccountEscrow","isMut":true,"isSigner":false},{"name":"tokenMint","isMut":true,"isSigner":false},{"name":"destinationTokenAccount","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"args","type":{"defined":"LeaveMatchArgs"}}]},{"name":"disburseTokensByOracle","accounts":[{"name":"matchInstance","isMut":true,"isSigner":false},{"name":"tokenAccountEscrow","isMut":true,"isSigner":false},{"name":"tokenMint","isMut":true,"isSigner":false},{"name":"destinationTokenAccount","isMut":true,"isSigner":false},{"name":"winOracle","isMut":false,"isSigner":false},{"name":"originalSender","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[{"name":"args","type":{"defined":"DisburseTokensByOracleArgs"}}]},{"name":"joinMatch","accounts":[{"name":"matchInstance","isMut":true,"isSigner":false},{"name":"tokenTransferAuthority","isMut":false,"isSigner":true},{"name":"tokenAccountEscrow","isMut":true,"isSigner":false},{"name":"tokenMint","isMut":true,"isSigner":false},{"name":"sourceTokenAccount","isMut":true,"isSigner":false},{"name":"sourceItemOrPlayerPda","isMut":false,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"validationProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[{"name":"args","type":{"defined":"JoinMatchArgs"}}]}],"accounts":[{"name":"Match","type":{"kind":"struct","fields":[{"name":"namespaces","type":{"option":{"vec":{"defined":"NamespaceAndIndex"}}}},{"name":"winOracle","type":"publicKey"},{"name":"winOracleCooldown","type":"u64"},{"name":"lastOracleCheck","type":"u64"},{"name":"authority","type":"publicKey"},{"name":"state","type":{"defined":"MatchState"}},{"name":"leaveAllowed","type":"bool"},{"name":"minimumAllowedEntryTime","type":{"option":"u64"}},{"name":"bump","type":"u8"},{"name":"currentTokenTransferIndex","type":"u64"},{"name":"tokenTypesAdded","type":"u64"},{"name":"tokenTypesRemoved","type":"u64"},{"name":"tokenEntryValidation","type":{"option":{"vec":{"defined":"TokenValidation"}}}},{"name":"tokenEntryValidationRoot","type":{"option":{"defined":"Root"}}},{"name":"joinAllowedDuringStart","type":"bool"}]}},{"name":"PlayerWinCallbackBitmap","type":{"kind":"struct","fields":[{"name":"matchKey","type":"publicKey"}]}},{"name":"WinOracle","type":{"kind":"struct","fields":[{"name":"finalized","type":"bool"},{"name":"tokenTransferRoot","type":{"option":{"defined":"Root"}}},{"name":"tokenTransfers","type":{"option":{"vec":{"defined":"TokenDelta"}}}}]}}],"types":[{"name":"CreateOrUpdateOracleArgs","type":{"kind":"struct","fields":[{"name":"tokenTransferRoot","type":{"option":{"defined":"Root"}}},{"name":"tokenTransfers","type":{"option":{"vec":{"defined":"TokenDelta"}}}},{"name":"seed","type":"publicKey"},{"name":"space","type":"u64"},{"name":"finalized","type":"bool"}]}},{"name":"DrainOracleArgs","type":{"kind":"struct","fields":[{"name":"seed","type":"publicKey"}]}},{"name":"CreateMatchArgs","type":{"kind":"struct","fields":[{"name":"matchState","type":{"defined":"MatchState"}},{"name":"tokenEntryValidationRoot","type":{"option":{"defined":"Root"}}},{"name":"tokenEntryValidation","type":{"option":{"vec":{"defined":"TokenValidation"}}}},{"name":"winOracle","type":"publicKey"},{"name":"winOracleCooldown","type":"u64"},{"name":"authority","type":"publicKey"},{"name":"space","type":"u64"},{"name":"leaveAllowed","type":"bool"},{"name":"joinAllowedDuringStart","type":"bool"},{"name":"minimumAllowedEntryTime","type":{"option":"u64"}}]}},{"name":"UpdateMatchArgs","type":{"kind":"struct","fields":[{"name":"matchState","type":{"defined":"MatchState"}},{"name":"tokenEntryValidationRoot","type":{"option":{"defined":"Root"}}},{"name":"tokenEntryValidation","type":{"option":{"vec":{"defined":"TokenValidation"}}}},{"name":"winOracleCooldown","type":"u64"},{"name":"authority","type":"publicKey"},{"name":"leaveAllowed","type":"bool"},{"name":"joinAllowedDuringStart","type":"bool"},{"name":"minimumAllowedEntryTime","type":{"option":"u64"}}]}},{"name":"JoinMatchArgs","type":{"kind":"struct","fields":[{"name":"amount","type":"u64"},{"name":"tokenEntryValidationProof","type":{"option":{"vec":{"array":["u8",32]}}}},{"name":"tokenEntryValidation","type":{"option":{"defined":"TokenValidation"}}}]}},{"name":"LeaveMatchArgs","type":{"kind":"struct","fields":[{"name":"amount","type":"u64"}]}},{"name":"DisburseTokensByOracleArgs","type":{"kind":"struct","fields":[{"name":"tokenDeltaProofInfo","type":{"option":{"defined":"TokenDeltaProofInfo"}}}]}},{"name":"TokenDeltaProofInfo","type":{"kind":"struct","fields":[{"name":"tokenDeltaProof","type":{"vec":{"array":["u8",32]}}},{"name":"tokenDelta","type":{"defined":"TokenDelta"}},{"name":"totalProof","type":{"vec":{"array":["u8",32]}}},{"name":"total","type":"u64"}]}},{"name":"Root","type":{"kind":"struct","fields":[{"name":"root","type":{"array":["u8",32]}}]}},{"name":"Callback","type":{"kind":"struct","fields":[{"name":"key","type":"publicKey"},{"name":"code","type":"u64"}]}},{"name":"ValidationArgs","type":{"kind":"struct","fields":[{"name":"instruction","type":{"array":["u8",8]}},{"name":"extraIdentifier","type":"u64"},{"name":"tokenValidation","type":{"defined":"TokenValidation"}}]}},{"name":"NamespaceAndIndex","type":{"kind":"struct","fields":[{"name":"namespace","type":"publicKey"},{"name":"indexed","type":"bool"},{"name":"inherited","type":{"defined":"InheritanceState"}}]}},{"name":"TokenDelta","type":{"kind":"struct","fields":[{"name":"from","type":"publicKey"},{"name":"to","type":{"option":"publicKey"}},{"name":"tokenTransferType","type":{"defined":"TokenTransferType"}},{"name":"mint","type":"publicKey"},{"name":"amount","type":"u64"}]}},{"name":"TokenValidation","type":{"kind":"struct","fields":[{"name":"filter","type":{"defined":"Filter"}},{"name":"isBlacklist","type":"bool"},{"name":"validation","type":{"option":{"defined":"Callback"}}}]}},{"name":"MatchState","type":{"kind":"enum","variants":[{"name":"Draft"},{"name":"Initialized"},{"name":"Started"},{"name":"Finalized"},{"name":"PaidOut"},{"name":"Deactivated"}]}},{"name":"PermissivenessType","type":{"kind":"enum","variants":[{"name":"TokenHolder"},{"name":"ParentTokenHolder"},{"name":"UpdateAuthority"},{"name":"Anybody"}]}},{"name":"InheritanceState","type":{"kind":"enum","variants":[{"name":"NotInherited"},{"name":"Inherited"},{"name":"Overridden"}]}},{"name":"TokenType","type":{"kind":"enum","variants":[{"name":"Player"},{"name":"Item"},{"name":"Any"}]}},{"name":"TokenTransferType","type":{"kind":"enum","variants":[{"name":"PlayerToPlayer"},{"name":"PlayerToEntrant"},{"name":"Normal"}]}},{"name":"Filter","type":{"kind":"enum","variants":[{"name":"None"},{"name":"All"},{"name":"Namespace","fields":[{"name":"namespace","type":"publicKey"}]},{"name":"Parent","fields":[{"name":"key","type":"publicKey"}]},{"name":"Mint","fields":[{"name":"mint","type":"publicKey"}]}]}},{"name":"ErrorCode","type":{"kind":"enum","variants":[{"name":"IncorrectOwner"},{"name":"Uninitialized"},{"name":"MintMismatch"},{"name":"TokenTransferFailed"},{"name":"NumericalOverflowError"},{"name":"TokenMintToFailed"},{"name":"TokenBurnFailed"},{"name":"DerivedKeyInvalid"},{"name":"InvalidStartingMatchState"},{"name":"InvalidUpdateMatchState"},{"name":"InvalidOracleUpdate"},{"name":"CannotDrainYet"},{"name":"CannotLeaveMatch"},{"name":"ReceiverMustBeSigner"},{"name":"PublicKeyMismatch"},{"name":"AtaShouldNotHaveDelegate"},{"name":"CannotEnterMatch"},{"name":"InvalidProof"},{"name":"RootNotPresent"},{"name":"MustPassUpObject"},{"name":"NoValidValidationFound"},{"name":"Blacklisted"},{"name":"NoTokensAllowed"},{"name":"InvalidValidation"},{"name":"NoDeltasFound"},{"name":"UsePlayerEndpoint"},{"name":"FromDoesNotMatch"},{"name":"CannotDeltaMoreThanAmountPresent"},{"name":"DeltaMintDoesNotMatch"},{"name":"DestinationMismatch"},{"name":"MatchMustBeInFinalized"},{"name":"AtaDelegateMismatch"},{"name":"OracleAlreadyFinalized"},{"name":"OracleCooldownNotPassed"},{"name":"MatchMustBeDrained"},{"name":"NoParentPresent"},{"name":"ReinitializationDetected"}]}}]}