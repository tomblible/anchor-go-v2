{"version":"0.1.0","name":"defiland_marketplace_program","instructions":[{"name":"initializeMarketplace","accounts":[{"name":"globalState","isMut":true,"isSigner":false},{"name":"initializer","isMut":true,"isSigner":true},{"name":"rent","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"extraSeed","type":{"array":["u8",8]}}]},{"name":"listNft","accounts":[{"name":"globalState","isMut":true,"isSigner":false},{"name":"nftHolderAccount","isMut":true,"isSigner":false},{"name":"listingAccount","isMut":true,"isSigner":false},{"name":"nftAssociatedAccount","isMut":true,"isSigner":false},{"name":"nftMint","isMut":true,"isSigner":false},{"name":"nftMetadataAccount","isMut":true,"isSigner":false},{"name":"signer","isMut":true,"isSigner":true},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false}],"args":[{"name":"price","type":"u64"}]},{"name":"listNftInSplToken","accounts":[{"name":"globalState","isMut":true,"isSigner":false},{"name":"nftHolderAccount","isMut":true,"isSigner":false},{"name":"listingAccount","isMut":true,"isSigner":false},{"name":"nftAssociatedAccount","isMut":true,"isSigner":false},{"name":"nftMint","isMut":true,"isSigner":false},{"name":"nftMetadataAccount","isMut":true,"isSigner":false},{"name":"listingInitializerTokenAccount","isMut":true,"isSigner":false},{"name":"signer","isMut":true,"isSigner":true},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false}],"args":[{"name":"price","type":"u64"}]},{"name":"cancelListing","accounts":[{"name":"globalState","isMut":true,"isSigner":false},{"name":"nftHolderAccount","isMut":true,"isSigner":false},{"name":"listingAccount","isMut":true,"isSigner":false},{"name":"nftAssociatedAccount","isMut":true,"isSigner":false},{"name":"signer","isMut":true,"isSigner":true},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false}],"args":[{"name":"emitEvent","type":"bool"}]},{"name":"cancelListing2","accounts":[{"name":"globalState","isMut":true,"isSigner":false},{"name":"nftHolderAccount","isMut":true,"isSigner":false},{"name":"listingAccount","isMut":true,"isSigner":false},{"name":"nftAssociatedAccount","isMut":true,"isSigner":false},{"name":"nftMint","isMut":true,"isSigner":false},{"name":"signer","isMut":true,"isSigner":true},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false}],"args":[{"name":"emitEvent","type":"bool"}]},{"name":"updatePrice","accounts":[{"name":"globalState","isMut":true,"isSigner":false},{"name":"listingAccount","isMut":true,"isSigner":false},{"name":"signer","isMut":true,"isSigner":true},{"name":"clock","isMut":false,"isSigner":false}],"args":[{"name":"newPrice","type":"u64"}]},{"name":"buyNft","accounts":[{"name":"globalState","isMut":true,"isSigner":false},{"name":"nftHolderAccount","isMut":true,"isSigner":false},{"name":"listingAccount","isMut":true,"isSigner":false},{"name":"buyerNftAssociatedAccount","isMut":true,"isSigner":false},{"name":"nftMetadataAccount","isMut":true,"isSigner":false},{"name":"listingInitializer","isMut":true,"isSigner":false},{"name":"marketplaceFeeReceiverAccount","isMut":true,"isSigner":false},{"name":"signer","isMut":true,"isSigner":true},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false}],"args":[{"name":"expectedPrice","type":"u64"}]},{"name":"buyNftSplToken","accounts":[{"name":"globalState","isMut":true,"isSigner":false},{"name":"nftHolderAccount","isMut":true,"isSigner":false},{"name":"listingAccount","isMut":true,"isSigner":false},{"name":"buyerNftAssociatedAccount","isMut":true,"isSigner":false},{"name":"nftMetadataAccount","isMut":true,"isSigner":false},{"name":"listingInitializer","isMut":true,"isSigner":false},{"name":"marketplaceFeeReceiverTokenAccount","isMut":true,"isSigner":false},{"name":"listingInitializerTokenAccount","isMut":true,"isSigner":false},{"name":"buyerSplTokenAccount","isMut":true,"isSigner":false},{"name":"signer","isMut":true,"isSigner":true},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false}],"args":[{"name":"expectedPrice","type":"u64"}]},{"name":"bidOnNft","accounts":[{"name":"globalState","isMut":true,"isSigner":false},{"name":"biddingVaultAccount","isMut":true,"isSigner":false},{"name":"biddingAccount","isMut":true,"isSigner":false},{"name":"nftMint","isMut":false,"isSigner":false},{"name":"signer","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false}],"args":[{"name":"proposedPrice","type":"u64"}]},{"name":"cancelBidding","accounts":[{"name":"globalState","isMut":true,"isSigner":false},{"name":"biddingVaultAccount","isMut":true,"isSigner":false},{"name":"biddingAccount","isMut":true,"isSigner":false},{"name":"signer","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false}],"args":[]},{"name":"acceptBidding","accounts":[{"name":"globalState","isMut":true,"isSigner":false},{"name":"biddingVaultAccount","isMut":true,"isSigner":false},{"name":"biddingAccount","isMut":true,"isSigner":false},{"name":"buyerNftAssociatedAccount","isMut":true,"isSigner":false},{"name":"sellerNftAssociatedAccount","isMut":true,"isSigner":false},{"name":"nftMetadataAccount","isMut":true,"isSigner":false},{"name":"biddingInitializer","isMut":true,"isSigner":false},{"name":"marketplaceFeeReceiverAccount","isMut":true,"isSigner":false},{"name":"signer","isMut":true,"isSigner":true},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false}],"args":[{"name":"expectedPrice","type":"u64"}]},{"name":"bidOnNftSpl","accounts":[{"name":"globalState","isMut":true,"isSigner":false},{"name":"biddingVaultAccount","isMut":true,"isSigner":false},{"name":"biddingAccount","isMut":true,"isSigner":false},{"name":"nftMint","isMut":false,"isSigner":false},{"name":"biddingInitializerTokenAccount","isMut":true,"isSigner":false},{"name":"tradeSplTokenMint","isMut":true,"isSigner":false},{"name":"signer","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false}],"args":[{"name":"proposedPrice","type":"u64"}]},{"name":"cancelBiddingSpl","accounts":[{"name":"globalState","isMut":true,"isSigner":false},{"name":"biddingVaultAccount","isMut":true,"isSigner":false},{"name":"biddingAccount","isMut":true,"isSigner":false},{"name":"biddingInitializerTokenAccount","isMut":true,"isSigner":false},{"name":"signer","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false}],"args":[]},{"name":"acceptBiddingSpl","accounts":[{"name":"globalState","isMut":true,"isSigner":false},{"name":"biddingVaultAccount","isMut":true,"isSigner":false},{"name":"biddingAccount","isMut":true,"isSigner":false},{"name":"buyerNftAssociatedAccount","isMut":true,"isSigner":false},{"name":"sellerNftAssociatedAccount","isMut":true,"isSigner":false},{"name":"nftMetadataAccount","isMut":true,"isSigner":false},{"name":"biddingInitializer","isMut":true,"isSigner":false},{"name":"marketplaceFeeReceiverTokenAccount","isMut":true,"isSigner":false},{"name":"sellerSplTokenAccount","isMut":true,"isSigner":false},{"name":"signer","isMut":true,"isSigner":true},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false}],"args":[{"name":"expectedPrice","type":"u64"}]}],"accounts":[{"name":"Bidding","type":{"kind":"struct","fields":[{"name":"globalStateAddress","type":"publicKey"},{"name":"initializer","type":"publicKey"},{"name":"nftMintAddress","type":"publicKey"},{"name":"proposedPrice","type":"u64"},{"name":"creationTime","type":"i64"},{"name":"isSplBidding","type":"bool"},{"name":"tradeSplTokenMintAddress","type":"publicKey"},{"name":"bump","type":"u8"},{"name":"biddingVaultAccountBump","type":"u8"}]}},{"name":"GlobalState","type":{"kind":"struct","fields":[{"name":"initializer","type":"publicKey"},{"name":"totalListedCountDfl","type":"u32"},{"name":"totalListedCountSol","type":"u32"},{"name":"totalVolumeAllTimeDfl","type":"u128"},{"name":"totalVolumeAllTimeSol","type":"u128"},{"name":"allTimeSaleCountDfl","type":"u64"},{"name":"allTimeSaleCountSol","type":"u64"},{"name":"bump","type":"u8"},{"name":"extraSeed","type":{"array":["u8",8]}},{"name":"empty1","type":"u64"},{"name":"empty2","type":"u64"}]}},{"name":"Listing","type":{"kind":"struct","fields":[{"name":"globalStateAddress","type":"publicKey"},{"name":"initializer","type":"publicKey"},{"name":"nftMintAddress","type":"publicKey"},{"name":"nftHolderAddress","type":"publicKey"},{"name":"price","type":"u64"},{"name":"bump","type":"u8"},{"name":"holderAccountBump","type":"u8"},{"name":"creationTime","type":"i64"},{"name":"updatedAt","type":"i64"},{"name":"isSplListing","type":"bool"},{"name":"tradeSplTokenMintAddress","type":"publicKey"},{"name":"tradeSplTokenSellerAccountAddress","type":"publicKey"},{"name":"empty1","type":"u64"},{"name":"empty2","type":"u64"}]}}],"events":[{"name":"BiddingCanceled","fields":[{"name":"initializer","type":"publicKey","index":false},{"name":"nftMintAddress","type":"publicKey","index":false},{"name":"proposedPrice","type":"u64","index":false},{"name":"accountAddress","type":"publicKey","index":false},{"name":"isSplBidding","type":"bool","index":false},{"name":"eventTimestamp","type":"i64","index":false}]},{"name":"BiddingCreated","fields":[{"name":"initializer","type":"publicKey","index":false},{"name":"nftMintAddress","type":"publicKey","index":false},{"name":"proposedPrice","type":"u64","index":false},{"name":"creationTime","type":"i64","index":false},{"name":"isSplBidding","type":"bool","index":false},{"name":"tradeSplTokenMintAddress","type":"publicKey","index":false}]},{"name":"ListingClosed","fields":[{"name":"initializer","type":"publicKey","index":false},{"name":"nftMintAddress","type":"publicKey","index":false},{"name":"accountAddress","type":"publicKey","index":false},{"name":"eventTimestamp","type":"i64","index":false}]},{"name":"ListingCreated","fields":[{"name":"initializer","type":"publicKey","index":false},{"name":"nftMintAddress","type":"publicKey","index":false},{"name":"price","type":"u64","index":false},{"name":"creationTime","type":"i64","index":false},{"name":"isSplListing","type":"bool","index":false},{"name":"tradeSplTokenMintAddress","type":"publicKey","index":false}]},{"name":"ListingPriceUpdated","fields":[{"name":"initializer","type":"publicKey","index":false},{"name":"nftMintAddress","type":"publicKey","index":false},{"name":"accountAddress","type":"publicKey","index":false},{"name":"oldPrice","type":"u64","index":false},{"name":"price","type":"u64","index":false},{"name":"eventTimestamp","type":"i64","index":false},{"name":"isSplListing","type":"bool","index":false}]},{"name":"NftSold","fields":[{"name":"sellerAddress","type":"publicKey","index":false},{"name":"buyerAddress","type":"publicKey","index":false},{"name":"nftMintAddress","type":"publicKey","index":false},{"name":"accountAddress","type":"publicKey","index":false},{"name":"eventTimestamp","type":"i64","index":false},{"name":"isSplListing","type":"bool","index":false},{"name":"price","type":"u64","index":false}]}],"errors":[{"code":6000,"name":"InvalidMetadata","msg":"Invalid Metadata for this NFT!"},{"code":6001,"name":"InvalidCollection","msg":"This NFT is not DeFi Land NFT!"},{"code":6002,"name":"InvalidNFTPrice","msg":"NFT price should be more than minimal allowed amount"},{"code":6003,"name":"MismatchPrice","msg":"NFT price does not match to buyer expected price"},{"code":6004,"name":"InvalidRoyalty","msg":"Invalid royalty address passed!"},{"code":6005,"name":"InvalidPriceForDistribution","msg":"Seller should receive at least 1 lamport!"},{"code":6006,"name":"InvalidSplTokenForTrading","msg":"Specified Spl token is not allowed for this marketplace"},{"code":6007,"name":"InvalidMarketplaceFeeReceiverAddress","msg":"Marketplace fee receiver address should be an associated token account"},{"code":6008,"name":"InvalidListingType","msg":"Listing token type mismatch"},{"code":6009,"name":"InvalidInitializerTokenAccount","msg":"Associated token address provided by user is invalid"},{"code":6010,"name":"InvalidSplTokenAddress","msg":"Provider Spl token address should be an associated token address"}]}