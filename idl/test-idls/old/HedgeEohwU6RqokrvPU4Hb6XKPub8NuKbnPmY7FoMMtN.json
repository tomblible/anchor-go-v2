{"version":"0.1.0","name":"vault","instructions":[{"name":"addCollateralType","accounts":[{"name":"payer","isMut":true,"isSigner":true},{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"oracleInfoAccount","isMut":true,"isSigner":false},{"name":"vaultTypeAccount","isMut":true,"isSigner":false},{"name":"collateralMint","isMut":false,"isSigner":false},{"name":"oracleChainlink","isMut":false,"isSigner":false},{"name":"oraclePyth","isMut":false,"isSigner":false},{"name":"oracleSwitchboard","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"collateralType","type":"string"},{"name":"loanInitFee","type":"u64"},{"name":"minCollateralRatio","type":"u64"},{"name":"interestRatePerSecond","type":"u128"},{"name":"minDebtPerVault","type":"u64"},{"name":"maxDebtExtended","type":"u64"},{"name":"emergencyModeThreshold","type":"u64"},{"name":"canBeRedeemed","type":"bool"},{"name":"overrideCurrentTime","type":"i64"}]},{"name":"claimLiquidationPoolPosition","accounts":[{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"poolState","isMut":true,"isSigner":false},{"name":"poolAssociatedTokenAccount","isMut":true,"isSigner":false},{"name":"vaultTypeAccount","isMut":true,"isSigner":false},{"name":"collateralMint","isMut":false,"isSigner":false},{"name":"poolPosition","isMut":true,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"payerAssociatedTokenAccount","isMut":true,"isSigner":false},{"name":"associatedTokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[]},{"name":"claimStakingPoolPosition","accounts":[{"name":"payer","isMut":true,"isSigner":true},{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"feePool","isMut":true,"isSigner":false},{"name":"stakedTokenMint","isMut":true,"isSigner":false},{"name":"feePoolAssociatedTokenAccount","isMut":true,"isSigner":false},{"name":"vaultTypeAccount","isMut":true,"isSigner":false},{"name":"collateralMint","isMut":false,"isSigner":false},{"name":"poolPosition","isMut":true,"isSigner":false},{"name":"payerAssociatedTokenAccount","isMut":true,"isSigner":false},{"name":"associatedTokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[]},{"name":"closeLiquidationPoolPosition","accounts":[{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"poolState","isMut":true,"isSigner":false},{"name":"poolEra","isMut":true,"isSigner":false},{"name":"poolPosition","isMut":true,"isSigner":false},{"name":"poolUshAccount","isMut":true,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"ownerUshAccount","isMut":true,"isSigner":false},{"name":"hedgeMint","isMut":true,"isSigner":false},{"name":"ushMint","isMut":true,"isSigner":false},{"name":"payerAssociatedHedgeAccount","isMut":true,"isSigner":false},{"name":"communityAssociatedHedgeTokenAccount","isMut":true,"isSigner":false},{"name":"userReferralAccount","isMut":true,"isSigner":false},{"name":"referralAccount","isMut":true,"isSigner":false},{"name":"referralState","isMut":true,"isSigner":false},{"name":"associatedTokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[{"name":"overrideCurrentTime","type":"i64"}]},{"name":"createStakingPool","accounts":[{"name":"signer","isMut":true,"isSigner":true},{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"pool","isMut":true,"isSigner":false},{"name":"stakedTokenMintInfo","isMut":false,"isSigner":false},{"name":"ushMint","isMut":false,"isSigner":false},{"name":"poolAssociatedStakedTokenAccount","isMut":true,"isSigner":false},{"name":"poolAssociatedUshTokenAccount","isMut":true,"isSigner":false},{"name":"associatedTokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[{"name":"bump1","type":"u8"},{"name":"totalRewards","type":"u64"},{"name":"overrideCurrentTime","type":"i64"}]},{"name":"createVault","accounts":[{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"vaultTypeAccount","isMut":true,"isSigner":false},{"name":"vault","isMut":true,"isSigner":false},{"name":"vaultAssociatedTokenAccount","isMut":true,"isSigner":false},{"name":"feePool","isMut":true,"isSigner":false},{"name":"feePoolAssociatedUshTokenAccount","isMut":true,"isSigner":false},{"name":"ushMint","isMut":true,"isSigner":false},{"name":"history","isMut":true,"isSigner":true},{"name":"payer","isMut":true,"isSigner":true},{"name":"payerTokenAccount","isMut":true,"isSigner":false},{"name":"collateralMint","isMut":true,"isSigner":false},{"name":"associatedTokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[{"name":"pdaSalt","type":"string"},{"name":"depositAmount","type":"u64"},{"name":"overrideCurrentTime","type":"i64"}]},{"name":"depositLiquidationPool","accounts":[{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"poolState","isMut":true,"isSigner":false},{"name":"poolUshAccount","isMut":true,"isSigner":false},{"name":"poolEra","isMut":true,"isSigner":false},{"name":"poolPosition","isMut":true,"isSigner":true},{"name":"ushMint","isMut":true,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"ownerUshAccount","isMut":true,"isSigner":false},{"name":"userReferralAccount","isMut":true,"isSigner":false},{"name":"referralAccount","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"depositAmount","type":"u64"},{"name":"overrideCurrentTime","type":"i64"}]},{"name":"depositStakingPool","accounts":[{"name":"payer","isMut":true,"isSigner":true},{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"pool","isMut":true,"isSigner":false},{"name":"stakedTokenMintInfo","isMut":false,"isSigner":false},{"name":"poolPosition","isMut":true,"isSigner":true},{"name":"payerAssociatedStakedTokenAccount","isMut":true,"isSigner":false},{"name":"poolAssociatedStakedTokenAccount","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"stakeAmount","type":"u64"},{"name":"overrideCurrentTime","type":"i64"}]},{"name":"depositVault","accounts":[{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"vaultTypeAccount","isMut":true,"isSigner":false},{"name":"vaultTypeAssociatedTokenAccount","isMut":true,"isSigner":false},{"name":"vaultAssociatedTokenAccount","isMut":true,"isSigner":false},{"name":"feePool","isMut":true,"isSigner":false},{"name":"feePoolAssociatedUshTokenAccount","isMut":true,"isSigner":false},{"name":"ushMint","isMut":true,"isSigner":false},{"name":"collateralTokenMint","isMut":false,"isSigner":false},{"name":"history","isMut":true,"isSigner":true},{"name":"vaultOwner","isMut":true,"isSigner":true},{"name":"vaultOwnerTokenAccount","isMut":true,"isSigner":false},{"name":"oldSmallerVaultInfo","isMut":true,"isSigner":false},{"name":"newSmallerVaultInfo","isMut":true,"isSigner":false},{"name":"newLargerVaultInfo","isMut":false,"isSigner":false},{"name":"vault","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"depositAmount","type":"u64"},{"name":"overrideCurrentTime","type":"i64"}]},{"name":"initHedgeFoundation","accounts":[{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"poolState","isMut":true,"isSigner":false},{"name":"poolEra","isMut":true,"isSigner":true},{"name":"poolUshAccount","isMut":true,"isSigner":false},{"name":"founder","isMut":true,"isSigner":true},{"name":"ushMint","isMut":true,"isSigner":false},{"name":"hedgeMint","isMut":true,"isSigner":false},{"name":"associatedTokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[]},{"name":"initHedgeFoundationTokens","accounts":[{"name":"vaultSystemState","isMut":false,"isSigner":false},{"name":"founder","isMut":true,"isSigner":true},{"name":"hedgeMint","isMut":true,"isSigner":false},{"name":"founderAssociatedHedgeTokenAccount","isMut":true,"isSigner":false},{"name":"communityAssociatedHedgeTokenAccount","isMut":true,"isSigner":false},{"name":"associatedTokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[]},{"name":"loanVault","accounts":[{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"vaultTypeAccount","isMut":true,"isSigner":false},{"name":"vaultTypeAssociatedTokenAccount","isMut":true,"isSigner":false},{"name":"vaultAssociatedTokenAccount","isMut":true,"isSigner":false},{"name":"history","isMut":true,"isSigner":true},{"name":"feePool","isMut":true,"isSigner":false},{"name":"feePoolAssociatedUshTokenAccount","isMut":true,"isSigner":false},{"name":"ushMint","isMut":true,"isSigner":false},{"name":"vaultOwner","isMut":true,"isSigner":true},{"name":"ownerUshAccount","isMut":true,"isSigner":false},{"name":"oldSmallerVaultInfo","isMut":true,"isSigner":false},{"name":"newSmallerVaultInfo","isMut":true,"isSigner":false},{"name":"newLargerVaultInfo","isMut":false,"isSigner":false},{"name":"vaultAccount","isMut":true,"isSigner":false},{"name":"referralState","isMut":true,"isSigner":false},{"name":"referralAccount","isMut":true,"isSigner":false},{"name":"userReferralAccount","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"normalizedLoanAmount","type":"u64"},{"name":"overrideCurrentTime","type":"i64"}]},{"name":"redeemVault","accounts":[{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"vaultTypeAccount","isMut":true,"isSigner":false},{"name":"vaultTypeAssociatedTokenAccount","isMut":true,"isSigner":false},{"name":"vaultAssociatedTokenAccount","isMut":true,"isSigner":false},{"name":"history","isMut":true,"isSigner":true},{"name":"ushMint","isMut":true,"isSigner":false},{"name":"feePool","isMut":true,"isSigner":false},{"name":"feePoolAssociatedUshTokenAccount","isMut":true,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"payerUshAccount","isMut":true,"isSigner":false},{"name":"destinationTokenAccount","isMut":true,"isSigner":false},{"name":"oldSmallerVaultInfo","isMut":true,"isSigner":false},{"name":"newSmallerVaultInfo","isMut":true,"isSigner":false},{"name":"newLargerVaultInfo","isMut":false,"isSigner":false},{"name":"vault","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"redeemPayUsh","type":"u64"},{"name":"overrideCurrentTime","type":"i64"}]},{"name":"liquidateVault","accounts":[{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"vaultTypeAccount","isMut":true,"isSigner":false},{"name":"vaultTypeAssociatedTokenAccount","isMut":true,"isSigner":false},{"name":"collateralMint","isMut":true,"isSigner":false},{"name":"vaultAssociatedTokenAccount","isMut":true,"isSigner":false},{"name":"poolState","isMut":true,"isSigner":false},{"name":"poolAssociatedTokenAccount","isMut":true,"isSigner":false},{"name":"feePool","isMut":true,"isSigner":false},{"name":"feePoolAssociatedTokenAccount","isMut":true,"isSigner":false},{"name":"feePoolAssociatedUshTokenAccount","isMut":true,"isSigner":false},{"name":"liquidationPoolUshAccount","isMut":true,"isSigner":false},{"name":"ushMint","isMut":true,"isSigner":false},{"name":"poolEra","isMut":true,"isSigner":false},{"name":"newEra","isMut":true,"isSigner":true},{"name":"history","isMut":true,"isSigner":true},{"name":"payer","isMut":true,"isSigner":true},{"name":"payerAssociatedTokenAccount","isMut":true,"isSigner":false},{"name":"oldSmallerVaultInfo","isMut":true,"isSigner":false},{"name":"newSmallerVaultInfo","isMut":true,"isSigner":false},{"name":"newLargerVaultInfo","isMut":false,"isSigner":false},{"name":"vaultAccount","isMut":true,"isSigner":false},{"name":"associatedTokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[{"name":"overrideCurrentTime","type":"i64"}]},{"name":"refreshOraclePrice","accounts":[{"name":"oracleInfoAccount","isMut":true,"isSigner":false},{"name":"vaultTypeAccount","isMut":true,"isSigner":false},{"name":"oracleChainlink","isMut":false,"isSigner":false},{"name":"oraclePyth","isMut":false,"isSigner":false},{"name":"oracleSwitchboard","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"chainlinkProgram","isMut":false,"isSigner":false}],"args":[{"name":"overrideResult","type":"u64"},{"name":"overrideCurrentTime","type":"i64"}]},{"name":"repayVault","accounts":[{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"vaultTypeAccount","isMut":true,"isSigner":false},{"name":"vaultTypeAssociatedTokenAccount","isMut":true,"isSigner":false},{"name":"vaultAssociatedTokenAccount","isMut":true,"isSigner":false},{"name":"feePool","isMut":true,"isSigner":false},{"name":"feePoolAssociatedUshTokenAccount","isMut":true,"isSigner":false},{"name":"history","isMut":true,"isSigner":true},{"name":"ushMint","isMut":true,"isSigner":false},{"name":"vaultOwner","isMut":true,"isSigner":true},{"name":"ownerUshAccount","isMut":true,"isSigner":false},{"name":"oldSmallerVaultInfo","isMut":true,"isSigner":false},{"name":"newSmallerVaultInfo","isMut":true,"isSigner":false},{"name":"newLargerVaultInfo","isMut":false,"isSigner":false},{"name":"vaultAccount","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"repayAmount","type":"u64"},{"name":"overrideCurrentTime","type":"i64"}]},{"name":"setTokenMetadata","accounts":[{"name":"metadataAccount","isMut":true,"isSigner":false},{"name":"mint","isMut":true,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"tokenMetadataProgram","isMut":false,"isSigner":false},{"name":"associatedTokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[{"name":"mintPdaSeed","type":"string"},{"name":"tokenName","type":"string"},{"name":"tokenSymbol","type":"string"},{"name":"tokenUri","type":"string"},{"name":"firstTime","type":"bool"}]},{"name":"setHalted","accounts":[{"name":"payer","isMut":true,"isSigner":true},{"name":"vaultSystemState","isMut":true,"isSigner":false}],"args":[{"name":"halted","type":"bool"}]},{"name":"withdrawStakingPool","accounts":[{"name":"payer","isMut":true,"isSigner":true},{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"pool","isMut":true,"isSigner":false},{"name":"poolPosition","isMut":true,"isSigner":false},{"name":"hedgeMint","isMut":true,"isSigner":false},{"name":"stakedTokenMint","isMut":true,"isSigner":false},{"name":"ushMint","isMut":false,"isSigner":false},{"name":"payerAssociatedStakedTokenAccount","isMut":true,"isSigner":false},{"name":"payerAssociatedHedgeAccount","isMut":true,"isSigner":false},{"name":"payerAssociatedUshAccount","isMut":true,"isSigner":false},{"name":"poolAssociatedStakedTokenAccount","isMut":true,"isSigner":false},{"name":"poolAssociatedUshTokenAccount","isMut":true,"isSigner":false},{"name":"communityAssociatedHedgeTokenAccount","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"overrideCurrentTime","type":"i64"}]},{"name":"withdrawVault","accounts":[{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"vaultTypeAccount","isMut":true,"isSigner":false},{"name":"vaultTypeAssociatedTokenAccount","isMut":true,"isSigner":false},{"name":"vaultAssociatedTokenAccount","isMut":true,"isSigner":false},{"name":"feePool","isMut":true,"isSigner":false},{"name":"feePoolAssociatedUshTokenAccount","isMut":true,"isSigner":false},{"name":"history","isMut":true,"isSigner":true},{"name":"vaultOwner","isMut":true,"isSigner":true},{"name":"destinationTokenAccount","isMut":true,"isSigner":false},{"name":"ushMint","isMut":true,"isSigner":false},{"name":"oldSmallerVaultInfo","isMut":true,"isSigner":false},{"name":"newSmallerVaultInfo","isMut":true,"isSigner":false},{"name":"newLargerVaultInfo","isMut":false,"isSigner":false},{"name":"vault","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"withdrawAmount","type":"u64"},{"name":"overrideCurrentTime","type":"i64"}]},{"name":"updateVaultType","accounts":[{"name":"payer","isMut":true,"isSigner":true},{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"vaultType","isMut":true,"isSigner":false},{"name":"oracleInfoAccount","isMut":true,"isSigner":false}],"args":[{"name":"config","type":{"defined":"VaultTypeConfig"}}]},{"name":"fixVaultRedeemPointer","accounts":[{"name":"payer","isMut":true,"isSigner":true},{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"vaultAccount","isMut":true,"isSigner":false}],"args":[]},{"name":"adminSetRedeemPointer","accounts":[{"name":"payer","isMut":true,"isSigner":true},{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"vaultAccount","isMut":true,"isSigner":false},{"name":"vaultTypeAccount","isMut":true,"isSigner":false}],"args":[{"name":"settingHead","type":"bool"},{"name":"pointerToSet","type":{"option":"publicKey"}}]},{"name":"adminMigrateVault","accounts":[{"name":"payer","isMut":true,"isSigner":true},{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"vaultAccount","isMut":true,"isSigner":false},{"name":"vaultTypeAccount","isMut":true,"isSigner":false}],"args":[]},{"name":"adminMigrateOracle","accounts":[{"name":"payer","isMut":true,"isSigner":true},{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"oracleInfoAccount","isMut":true,"isSigner":false},{"name":"vaultTypeAccount","isMut":true,"isSigner":false}],"args":[]},{"name":"closeClaimedLiquidationPoolPosition","accounts":[{"name":"payer","isMut":true,"isSigner":true},{"name":"poolPosition","isMut":true,"isSigner":false}],"args":[]},{"name":"closeClaimedStakingPoolPosition","accounts":[{"name":"payer","isMut":true,"isSigner":true},{"name":"poolPosition","isMut":true,"isSigner":false}],"args":[]},{"name":"closeUnusedPoolEra","accounts":[{"name":"payer","isMut":true,"isSigner":true},{"name":"poolEra","isMut":true,"isSigner":false}],"args":[]},{"name":"createReferralState","accounts":[{"name":"signer","isMut":true,"isSigner":true},{"name":"vaultSystemState","isMut":false,"isSigner":false},{"name":"referralState","isMut":true,"isSigner":false},{"name":"referralAccount","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[]},{"name":"createReferralAccount","accounts":[{"name":"signer","isMut":true,"isSigner":true},{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"referralState","isMut":true,"isSigner":false},{"name":"referralAccount","isMut":true,"isSigner":false},{"name":"userReferralAccount","isMut":true,"isSigner":false},{"name":"poolPosition","isMut":true,"isSigner":false},{"name":"hedgeMint","isMut":true,"isSigner":false},{"name":"hdgAta","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[{"name":"overrideCurrentTime","type":"i64"}]},{"name":"createUserReferralAccount","accounts":[{"name":"signer","isMut":true,"isSigner":true},{"name":"userReferralAccount","isMut":true,"isSigner":false},{"name":"referralAccount","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[{"name":"overrideCurrentTime","type":"i64"}]},{"name":"updateReferralState","accounts":[{"name":"signer","isMut":true,"isSigner":true},{"name":"vaultSystemState","isMut":false,"isSigner":false},{"name":"referralState","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"config","type":{"defined":"ReferralStateConfig"}}]},{"name":"updateReferralAccount","accounts":[{"name":"signer","isMut":true,"isSigner":true},{"name":"vaultSystemState","isMut":false,"isSigner":false},{"name":"referralAccount","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"config","type":{"defined":"ReferralAccountConfig"}}]},{"name":"referralClaimFees","accounts":[{"name":"signer","isMut":true,"isSigner":true},{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"referralState","isMut":true,"isSigner":false},{"name":"referralAccount","isMut":true,"isSigner":false},{"name":"poolPosition","isMut":true,"isSigner":false},{"name":"hedgeMint","isMut":true,"isSigner":false},{"name":"signerHdgAta","isMut":true,"isSigner":false},{"name":"ushMint","isMut":true,"isSigner":false},{"name":"signerUshAta","isMut":true,"isSigner":false},{"name":"communityAssociatedHedgeTokenAccount","isMut":true,"isSigner":false},{"name":"feePool","isMut":true,"isSigner":false},{"name":"feePoolAssociatedUshTokenAccount","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[]},{"name":"psmCreate","accounts":[{"name":"payer","isMut":true,"isSigner":true},{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"psmAccount","isMut":true,"isSigner":false},{"name":"collateralMint","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"mintFee","type":"u64"},{"name":"redeemFee","type":"u64"},{"name":"debtLimit","type":"u64"},{"name":"minSwap","type":"u64"},{"name":"overrideCurrentTime","type":"i64"}]},{"name":"psmEditAccount","accounts":[{"name":"payer","isMut":true,"isSigner":true},{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"psmAccount","isMut":true,"isSigner":false},{"name":"collateralMint","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"mintFee","type":"u64"},{"name":"redeemFee","type":"u64"},{"name":"debtLimit","type":"u64"},{"name":"minSwap","type":"u64"},{"name":"overrideCurrentTime","type":"i64"}]},{"name":"psmMintUsh","accounts":[{"name":"payer","isMut":true,"isSigner":true},{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"feePool","isMut":true,"isSigner":false},{"name":"feePoolAssociatedUshTokenAccount","isMut":true,"isSigner":false},{"name":"psmAccount","isMut":true,"isSigner":false},{"name":"psmAccountAta","isMut":true,"isSigner":false},{"name":"ownerUshAccount","isMut":true,"isSigner":false},{"name":"ownerCollateralAccount","isMut":true,"isSigner":false},{"name":"collateralMint","isMut":false,"isSigner":false},{"name":"ushMint","isMut":true,"isSigner":false},{"name":"referralState","isMut":true,"isSigner":false},{"name":"referralAccount","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"collateralAmount","type":"u64"},{"name":"overrideCurrentTime","type":"i64"}]},{"name":"psmRedeemUsh","accounts":[{"name":"payer","isMut":true,"isSigner":true},{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"feePool","isMut":true,"isSigner":false},{"name":"feePoolAssociatedUshTokenAccount","isMut":true,"isSigner":false},{"name":"psmAccount","isMut":true,"isSigner":false},{"name":"psmAccountAta","isMut":true,"isSigner":false},{"name":"ownerUshAccount","isMut":true,"isSigner":false},{"name":"ownerCollateralAccount","isMut":true,"isSigner":false},{"name":"collateralMint","isMut":false,"isSigner":false},{"name":"ushMint","isMut":true,"isSigner":false},{"name":"referralState","isMut":true,"isSigner":false},{"name":"referralAccount","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"ushAmount","type":"u64"},{"name":"overrideCurrentTime","type":"i64"}]},{"name":"transferVault","accounts":[{"name":"vault","isMut":true,"isSigner":false},{"name":"vaultSystemState","isMut":true,"isSigner":false},{"name":"vaultType","isMut":true,"isSigner":false},{"name":"history","isMut":true,"isSigner":true},{"name":"vaultOwner","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"newOwner","type":"publicKey"}]}],"accounts":[{"name":"Aggregator","docs":["Define the type of state stored in accounts"],"type":{"kind":"struct","fields":[{"name":"isInitialized","docs":["Set to true after initialization."],"type":"bool"},{"name":"version","docs":["Version of the state"],"type":"u32"},{"name":"config","docs":["The configuration for this aggregator"],"type":{"defined":"Config"}},{"name":"updatedAt","docs":["When the config was last updated."],"type":"i64"},{"name":"owner","docs":["The aggregator owner is allowed to modify it's config."],"type":"publicKey"},{"name":"submissions","docs":["A set of current submissions, one per oracle. Array index corresponds to oracle index."],"type":{"array":[{"defined":"Submission"},8]}},{"name":"answer","docs":["The current median answer."],"type":{"option":"u128"}}]}},{"name":"LiquidationPoolEra","type":{"kind":"struct","fields":[{"name":"totalDeposits","type":"u64"},{"name":"productBytes","type":"u128"},{"name":"sumBytes","type":{"array":["u128",128]}},{"name":"hedgeRewardsAccumulatorBytes","type":"u128"},{"name":"hedgeRewardsTimestamp","type":"u64"}]}},{"name":"LiquidationPoolState","type":{"kind":"struct","fields":[{"name":"currentEra","type":"publicKey"},{"name":"lifetimeDeposits","type":"u64"},{"name":"lifetimeOpenedPositions","type":"u64"},{"name":"lifetimeClosedPositions","type":"u64"},{"name":"lifetimeVaultsLiquidated","type":"u64"},{"name":"lifetimeVaultsRedistributed","type":"u64"},{"name":"lifetimeSolPurchased","type":"u64"},{"name":"hedgeInitRewardsTimestamp","type":"u64"}]}},{"name":"LiquidationPosition","type":{"kind":"struct","fields":[{"name":"era","type":"publicKey"},{"name":"ownerAccount","type":"publicKey"},{"name":"productSnapshotEntry","type":"u128"},{"name":"productSnapshotClosed","type":"u128"},{"name":"sumSnapshotsEntry","type":{"array":["u128",128]}},{"name":"sumSnapshotsClosed","type":{"array":["u128",128]}},{"name":"hedgeRewardsSnapshotAccum","type":"u128"},{"name":"deposit","type":"u64"},{"name":"closedUsh","type":"u64"},{"name":"timestampOpened","type":"u64"},{"name":"timestampClosed","type":"u64"},{"name":"state","type":{"defined":"PositionState"}}]}},{"name":"OracleInfoForCollateralType","type":{"kind":"struct","fields":[{"name":"vaultType","type":"publicKey"},{"name":"oraclePyth","type":"publicKey"},{"name":"oracleChainlink","type":"publicKey"},{"name":"oracleSwitchboard","type":"publicKey"},{"name":"priorityPyth","type":"i8"},{"name":"priorityChainlink","type":"i8"},{"name":"prioritySwitchboard","type":"i8"},{"name":"vaultTypeName","type":"string"}]}},{"name":"PsmAccount","type":{"kind":"struct","fields":[{"name":"collateralMint","type":"publicKey"},{"name":"minCollateralRatio","type":"u128"},{"name":"mintFee","type":"u128"},{"name":"redeemFee","type":"u128"},{"name":"totalFeesAccumulatedUsh","type":"u128"},{"name":"totalFeesAccumulatedCollateral","type":"u128"},{"name":"recentPrice","type":"u128"},{"name":"debtLimit","type":"u64"},{"name":"deposited","type":"u64"},{"name":"amountMinted","type":"u64"},{"name":"minSwap","type":"u64"},{"name":"timeCreated","type":"u64"},{"name":"timeLastInteraction","type":"u64"},{"name":"priceLastUpdatedTimestamp","type":"u64"},{"name":"psmStatus","type":{"defined":"PsmStatus"}},{"name":"collateralDecimals","type":"u8"}]}},{"name":"ReferralAccount","type":{"kind":"struct","fields":[{"name":"referrer","type":"publicKey"},{"name":"setupCut","type":"u128"},{"name":"referredUserDiscount","type":"u128"},{"name":"stabilityCut","type":"u128"},{"name":"psmCut","type":"u128"},{"name":"ushAccumulator","type":"u64"},{"name":"hdgAccumulator","type":"u64"},{"name":"ushClaimed","type":"u64"},{"name":"hdgClaimed","type":"u64"},{"name":"hdgThreshold","type":"u64"},{"name":"referralId","type":"u64"}]}},{"name":"ReferralState","type":{"kind":"struct","fields":[{"name":"setupCut","type":"u128"},{"name":"referredUserDiscount","type":"u128"},{"name":"stabilityCut","type":"u128"},{"name":"psmCut","type":"u128"},{"name":"maxSetupCut","type":"u128"},{"name":"maxReferredDiscount","type":"u128"},{"name":"maxStabilityCut","type":"u128"},{"name":"maxPsmCut","type":"u128"},{"name":"referralAccountCount","type":"u64"},{"name":"hdgThreshold","type":"u64"},{"name":"hdgPsmThreshold","type":"u64"},{"name":"totalUshClaimed","type":"u128"},{"name":"totalHdgClaimed","type":"u64"},{"name":"totalUshFees","type":"u128"},{"name":"totalHdgFees","type":"u64"},{"name":"referralPromoThreshold","type":"u64"},{"name":"referralEnabled","type":"bool"}]}},{"name":"StakingPoolPosition","type":{"kind":"struct","fields":[{"name":"startHedgeRewardAccumulator","type":"u128"},{"name":"startUshFeeAccumulator","type":"u128"},{"name":"startCollateralFeeAccumulator","type":{"array":["u128",128]}},{"name":"closedCollateralFeeAccumulator","type":{"array":["u128",128]}},{"name":"timestampOpened","type":"u64"},{"name":"timestampClosed","type":"u64"},{"name":"closedRewardedTokens","type":"u64"},{"name":"deposited","type":"u64"},{"name":"owner","type":"publicKey"},{"name":"pool","type":"publicKey"},{"name":"state","type":{"defined":"PositionState"}}]}},{"name":"StakingPool","type":{"kind":"struct","fields":[{"name":"halfLifeInDays","type":"u64"},{"name":"deposits","type":"u64"},{"name":"startTime","type":"u64"},{"name":"lastTransactionTime","type":"u64"},{"name":"hedgeRewardAccumulator","type":"u128"},{"name":"ushFeeAccumulator","type":"u128"},{"name":"totalHedgeReward","type":"u64"},{"name":"stakedTokenMint","type":"publicKey"},{"name":"seedPhrase","type":{"array":["u8",16]}},{"name":"collateralFeeAccumulator","type":{"array":["u128",128]}},{"name":"bump","type":"u8"}]}},{"name":"UserReferralAccount","type":{"kind":"struct","fields":[{"name":"referralAccount","type":"publicKey"},{"name":"referrer","type":"publicKey"},{"name":"referralId","type":"u64"},{"name":"lastReferrerChange","type":"u64"}]}},{"name":"VaultHistoryEvent","type":{"kind":"struct","fields":[{"name":"vaultAccount","type":"publicKey"},{"name":"actorAccount","type":"publicKey"},{"name":"usdCollateralPrice","type":"u128"},{"name":"ushDebtBefore","type":"u64"},{"name":"ushDebtAfter","type":"u64"},{"name":"collateralBalanceBefore","type":"u64"},{"name":"collateralBalanceAfter","type":"u64"},{"name":"vaultStateBefore","type":{"defined":"VaultStatus"}},{"name":"vaultStateAfter","type":{"defined":"VaultStatus"}},{"name":"timestamp","type":"u64"},{"name":"action","type":{"defined":"VaultHistoryAction"}}]}},{"name":"VaultSystemState","type":{"kind":"struct","fields":[{"name":"lastRedeemFeeBytes","type":"u128"},{"name":"lastRedeemTimestamp","type":"u64"},{"name":"totalUshSupply","type":"u128"},{"name":"totalVaults","type":"u64"},{"name":"totalVaultsClosed","type":"u64"},{"name":"debtRedistributionError","type":"u64"},{"name":"authority","type":"publicKey"},{"name":"hedgeStakingPool","type":"publicKey"},{"name":"collateralTypeCount","type":"u64"},{"name":"status","type":{"defined":"SystemStatus"}}]}},{"name":"VaultType","type":{"kind":"struct","fields":[{"name":"collateralMint","type":"publicKey"},{"name":"collateralIndex","type":"u64"},{"name":"recentPrice","type":"u128"},{"name":"priceLastUpdatedTimestamp","type":"u64"},{"name":"collateralHeld","type":"u64"},{"name":"denormalizedDebtExtended","type":"u64"},{"name":"collateralDecimals","type":"u8"},{"name":"debtRedistributionProduct","type":"u128"},{"name":"collateralRedistributionAccumulator","type":"u128"},{"name":"minCollateralRatio","type":"u128"},{"name":"loanInitFee","type":"u128"},{"name":"minDebtPerVault","type":"u64"},{"name":"maxDebtExtended","type":"u64"},{"name":"canBeRedeemed","type":"bool"},{"name":"emergencyModeThreshold","type":"u64"},{"name":"cumulativeRate","type":"u128"},{"name":"cumulativeRateLastUpdated","type":"u64"},{"name":"interestRatePerSecond","type":"u128"},{"name":"deprecated","type":"bool"},{"name":"totalFeesAccumulatedUsh","type":"u128"},{"name":"totalFeesAccumulatedCollateral","type":"u128"},{"name":"vaultTypeName","type":"string"},{"name":"firstVaultToRedeem","type":{"option":"publicKey"}},{"name":"lastRedeemFeeBytes","type":"u128"},{"name":"lastRedeemTimestamp","type":"u64"}]}},{"name":"Vault","type":{"kind":"struct","fields":[{"name":"vaultOwner","type":"publicKey"},{"name":"vaultNumber","type":"u64"},{"name":"deposited","type":"u64"},{"name":"denormalizedDebt","type":"u64"},{"name":"vaultStatus","type":{"defined":"VaultStatus"}},{"name":"vaultType","type":"publicKey"},{"name":"bump","type":"u8"},{"name":"vaultVersion","type":"u64"},{"name":"debtProductSnapshotBytes","type":"u128"},{"name":"collateralAccumulatorSnapshotBytes","type":"u128"},{"name":"debtType","type":{"defined":"CurrencyType"}},{"name":"timeCreated","type":"u64"},{"name":"timeLastInteraction","type":"u64"},{"name":"vaultTypeName","type":"string"},{"name":"pdaSalt","type":"string"},{"name":"nextVaultToRedeem","type":{"option":"publicKey"}}]}}],"types":[{"name":"Config","type":{"kind":"struct","fields":[{"name":"oracles","docs":["A list of oracles allowed to submit answers."],"type":{"vec":"publicKey"}},{"name":"minAnswerThreshold","docs":["Number of submissions required to produce an answer. Must be larger than 0."],"type":"u8"},{"name":"stalenessThreshold","docs":["Offset in number of seconds before a submission is considered stale."],"type":"u8"},{"name":"decimals","docs":["Decimal places for value representations"],"type":"u8"}]}},{"name":"Submission","type":{"kind":"struct","fields":[{"name":"timestamp","type":"i64"},{"name":"value","type":"u128"}]}},{"name":"ReferralAccountConfig","type":{"kind":"struct","fields":[{"name":"setupCut","type":{"option":"u128"}},{"name":"referredUserDiscount","type":{"option":"u128"}},{"name":"stabilityCut","type":{"option":"u128"}},{"name":"psmCut","type":{"option":"u128"}},{"name":"hdgThreshold","type":{"option":"u64"}}]}},{"name":"ReferralStateConfig","type":{"kind":"struct","fields":[{"name":"setupCut","type":{"option":"u128"}},{"name":"referredUserDiscount","type":{"option":"u128"}},{"name":"stabilityCut","type":{"option":"u128"}},{"name":"psmCut","type":{"option":"u128"}},{"name":"maxSetupCut","type":{"option":"u128"}},{"name":"maxReferredDiscount","type":{"option":"u128"}},{"name":"maxStabilityCut","type":{"option":"u128"}},{"name":"maxPsmCut","type":{"option":"u128"}},{"name":"hdgThreshold","type":{"option":"u64"}},{"name":"hdgPsmThreshold","type":{"option":"u64"}},{"name":"referralPromoThreshold","type":{"option":"u64"}},{"name":"referralEnabled","type":{"option":"bool"}}]}},{"name":"VaultTypeConfig","type":{"kind":"struct","fields":[{"name":"maxDebtExtended","type":{"option":"u64"}},{"name":"minDebtPerVault","type":{"option":"u64"}},{"name":"loanInitFee","type":{"option":"u64"}},{"name":"interestRatePerSecond","type":{"option":"u128"}},{"name":"emergencyModeThreshold","type":{"option":"u64"}},{"name":"oracleChainlink","type":{"option":"publicKey"}},{"name":"oraclePyth","type":{"option":"publicKey"}},{"name":"oracleSwitchboard","type":{"option":"publicKey"}},{"name":"priorityChainlink","type":{"option":"i8"}},{"name":"priorityPyth","type":{"option":"i8"}},{"name":"prioritySwitchboard","type":{"option":"i8"}},{"name":"deprecated","type":{"option":"bool"}}]}},{"name":"PositionState","type":{"kind":"enum","variants":[{"name":"Open"},{"name":"Closed"}]}},{"name":"CurrencyType","type":{"kind":"enum","variants":[{"name":"Solana"},{"name":"Ush"}]}},{"name":"VaultStatus","type":{"kind":"enum","variants":[{"name":"Initialized"},{"name":"Open"},{"name":"Closed"},{"name":"Liquidated"},{"name":"Distributed"}]}},{"name":"PsmStatus","type":{"kind":"enum","variants":[{"name":"PsmEnabled"},{"name":"PsmDisabled"},{"name":"MintOnly"},{"name":"RedeemOnly"}]}},{"name":"SystemStatus","type":{"kind":"enum","variants":[{"name":"Halted"},{"name":"Running"}]}},{"name":"VaultHistoryAction","type":{"kind":"enum","variants":[{"name":"Create"},{"name":"Close"},{"name":"Liquidate"},{"name":"PartialLiquidate"},{"name":"Distributed"},{"name":"Redeem"},{"name":"TransferOwnership"},{"name":"Deposit"},{"name":"Withdraw"},{"name":"Loan"},{"name":"RepayCredit"}]}}],"events":[{"name":"NewVaultEvent","fields":[{"name":"vault","type":"publicKey","index":false},{"name":"deposited","type":"u64","index":false}]},{"name":"DepositVaultEvent","fields":[{"name":"vault","type":"publicKey","index":false},{"name":"amount","type":"u64","index":false}]},{"name":"WithdrawVaultEvent","fields":[{"name":"vault","type":"publicKey","index":false},{"name":"amount","type":"u64","index":false}]},{"name":"LoanVaultEvent","fields":[{"name":"vault","type":"publicKey","index":false},{"name":"amount","type":"u64","index":false}]},{"name":"RepayVaultEvent","fields":[{"name":"vault","type":"publicKey","index":false},{"name":"amount","type":"u64","index":false}]},{"name":"RedeemVaultEvent","fields":[{"name":"vault","type":"publicKey","index":false},{"name":"amount","type":"u64","index":false}]},{"name":"LiquidateVaultEvent","fields":[{"name":"vault","type":"publicKey","index":false}]},{"name":"VaultTransferEvent","fields":[{"name":"vault","type":"publicKey","index":false},{"name":"oldOwner","type":"publicKey","index":false},{"name":"newOwner","type":"publicKey","index":false}]}],"errors":[{"code":6000,"name":"AlreadyInitialized","msg":"This vault was already initialized"},{"code":6001,"name":"CollateralRatioTooLow","msg":"Collateral ratio too low"},{"code":6002,"name":"NotInitialized","msg":"This vault was not initialized"},{"code":6003,"name":"Overdraw","msg":"Cannot withdraw more than deposited"},{"code":6004,"name":"Overpaid","msg":"Cannot repay more than loaned"},{"code":6005,"name":"VaultClosed","msg":"Vault closed"},{"code":6006,"name":"VaultNotSubjectToLiquidation","msg":"Vault cannot be liquidated. It is collateralized."},{"code":6007,"name":"VaultHasNoDebt","msg":"Vault does not have any debt"},{"code":6008,"name":"NotAuthorizedToCreateStakingPools","msg":"Signer not authorized to create new staking pools"},{"code":6009,"name":"NotAuthorizedToCreateReferralState","msg":"Signer not authorized to create referral state account"},{"code":6010,"name":"NotAuthorized","msg":"Signer not authorized to call this function"},{"code":6011,"name":"BadSeed","msg":"Bad Seed"},{"code":6012,"name":"CollateralPriceOutOfDate","msg":"Collateral price needs to be refreshed. It is only valid for 60 seconds."},{"code":6013,"name":"EmergencyMode","msg":"System is not accepting any tx that would worsen collateral ratio at this time"},{"code":6014,"name":"MinDebtRequired","msg":"Vault under the minimum debt limit. Vault must have zero debt or be over the minimum."},{"code":6015,"name":"PoolPositionAlreadyClosed","msg":"Pool position already closed"},{"code":6016,"name":"PoolPositionNoYetClosed","msg":"Pool position must be closed to claim reward"},{"code":6017,"name":"MaxDebtAgainstVaultType","msg":"Max debt extended against vault type reached."},{"code":6018,"name":"VaultTypeNotRedeemable","msg":"Vault type cannot be redeemed against."},{"code":6019,"name":"SystemHalted","msg":"System is currently halted. No actions may be taken at this time."},{"code":6020,"name":"EntireVaultRedeem","msg":"Entire vault must be redeemed at this time."},{"code":6021,"name":"NotRedeemingLowestCollateralRatioVault","msg":"Can only redeem lowest collateral ratio vault in system."},{"code":6022,"name":"VaultTypeDeprecated","msg":"Vaults of this collateral type are deprecated. No new vaults can be created and no new debt will be issued for this collateral type."},{"code":6023,"name":"UpdateLinkedListFailed","msg":"There was an error updating the list of vaults. Please make sure the transaction is fresh."},{"code":6024,"name":"InvalidSaltLength","msg":"Salt for new vaults must be of length 8"},{"code":6025,"name":"InvalidNameLength","msg":"Name for new vault type must be length 16"},{"code":6026,"name":"PositionNotClaimed","msg":"Not all positions claimed. Claim all before closing account to recover SOL rent."},{"code":6027,"name":"PoolWasUsed","msg":"Era was not unused. Cannot reclaim the SOL rent."},{"code":6028,"name":"NotEnoughHDG","msg":"Need more HDG to open account."},{"code":6029,"name":"ReferralDisabled","msg":"Referrals are currently disabled."},{"code":6030,"name":"WrongReferralAccount","msg":"Attempted to pass in wrong referral account."},{"code":6031,"name":"PsmDisabled","msg":"PSM is currently disabled."},{"code":6032,"name":"PsmMaxDebtReached","msg":"PSM - Max Debt reached"},{"code":6033,"name":"PsmMinSwapAmount","msg":"PSM - Need more to swap"},{"code":6034,"name":"UpdateVaultTypeBadMaxDebtExtended","msg":"New Max debt extended value is less than the current debt!"},{"code":6035,"name":"UpdateVaultTypeNoEnabledOracles","msg":"No Enabled Oracles!"},{"code":6036,"name":"UpdateVaultTypeDuplicateOraclePriorities","msg":"Duplicate Oracle Priorities"},{"code":6037,"name":"UpdateVaultTypeInvalidOraclePriority","msg":"Invalid Oracle Priority"},{"code":6038,"name":"OracleUpdateFailed","msg":"OracleUpdateFailed"}]}