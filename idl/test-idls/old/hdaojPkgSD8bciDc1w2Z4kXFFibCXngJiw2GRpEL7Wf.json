{"version":"0.0.1","name":"helium_sub_daos","instructions":[{"name":"initializeDaoV0","accounts":[{"name":"payer","isMut":true,"isSigner":true},{"name":"dao","isMut":true,"isSigner":false,"pda":{"seeds":[{"kind":"const","type":"string","value":"dao"},{"kind":"account","type":"publicKey","account":"Mint","path":"hnt_mint"}]}},{"name":"hntMint","isMut":true,"isSigner":false},{"name":"hntMintAuthority","isMut":false,"isSigner":true},{"name":"hntFreezeAuthority","isMut":false,"isSigner":true},{"name":"hntCircuitBreaker","isMut":true,"isSigner":false,"pda":{"seeds":[{"kind":"const","type":"string","value":"mint_windowed_breaker"},{"kind":"account","type":"publicKey","account":"Mint","path":"hnt_mint"}],"programId":{"kind":"account","type":"publicKey","path":"circuit_breaker_program"}}},{"name":"dcMint","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"circuitBreakerProgram","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[{"name":"args","type":{"defined":"InitializeDaoArgsV0"}}]},{"name":"initializeSubDaoV0","accounts":[{"name":"payer","isMut":true,"isSigner":true},{"name":"dao","isMut":true,"isSigner":false,"relations":["authority","hnt_mint"]},{"name":"authority","isMut":false,"isSigner":true},{"name":"subDao","isMut":true,"isSigner":false,"pda":{"seeds":[{"kind":"const","type":"string","value":"sub_dao"},{"kind":"account","type":"publicKey","account":"Mint","path":"dnt_mint"}]}},{"name":"hntMint","isMut":false,"isSigner":false},{"name":"dntMint","isMut":true,"isSigner":false},{"name":"dntMintAuthority","isMut":false,"isSigner":true},{"name":"subDaoFreezeAuthority","isMut":false,"isSigner":true},{"name":"circuitBreaker","isMut":true,"isSigner":false,"pda":{"seeds":[{"kind":"const","type":"string","value":"mint_windowed_breaker"},{"kind":"account","type":"publicKey","account":"Mint","path":"dnt_mint"}],"programId":{"kind":"account","type":"publicKey","path":"circuit_breaker_program"}}},{"name":"treasury","isMut":true,"isSigner":false},{"name":"treasuryCircuitBreaker","isMut":true,"isSigner":false,"pda":{"seeds":[{"kind":"const","type":"string","value":"account_windowed_breaker"},{"kind":"account","type":"publicKey","path":"treasury"}],"programId":{"kind":"account","type":"publicKey","path":"circuit_breaker_program"}}},{"name":"treasuryManagement","isMut":true,"isSigner":false,"pda":{"seeds":[{"kind":"const","type":"string","value":"treasury_management"},{"kind":"account","type":"publicKey","account":"Mint","path":"dnt_mint"}],"programId":{"kind":"account","type":"publicKey","path":"treasury_management_program"}}},{"name":"rewardsEscrow","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"treasuryManagementProgram","isMut":false,"isSigner":false},{"name":"circuitBreakerProgram","isMut":false,"isSigner":false},{"name":"associatedTokenProgram","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[{"name":"args","type":{"defined":"InitializeSubDaoArgsV0"}}]},{"name":"trackAddedDeviceV0","accounts":[{"name":"payer","isMut":true,"isSigner":true},{"name":"subDaoEpochInfo","isMut":true,"isSigner":false},{"name":"subDao","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true,"pda":{"seeds":[{"kind":"const","type":"string","value":"hotspot_config"},{"kind":"account","type":"publicKey","account":"SubDaoV0","path":"sub_dao"},{"kind":"arg","type":{"defined":"TrackAddedDeviceArgsV0"},"path":"args.symbol"}]}},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[{"name":"args","type":{"defined":"TrackAddedDeviceArgsV0"}}]},{"name":"trackDcBurnV0","accounts":[{"name":"subDaoEpochInfo","isMut":true,"isSigner":false},{"name":"subDao","isMut":false,"isSigner":false,"relations":["dao"]},{"name":"dao","isMut":false,"isSigner":false,"relations":["dc_mint"]},{"name":"dcMint","isMut":false,"isSigner":false},{"name":"accountPayer","isMut":true,"isSigner":true,"pda":{"seeds":[{"kind":"const","type":"string","value":"account_payer"}]}},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[{"name":"args","type":{"defined":"TrackDcBurnArgsV0"}}]},{"name":"calculateUtilityScoreV0","accounts":[{"name":"payer","isMut":true,"isSigner":true},{"name":"dao","isMut":false,"isSigner":false},{"name":"subDao","isMut":false,"isSigner":false,"relations":["dao"]},{"name":"daoEpochInfo","isMut":true,"isSigner":false,"pda":{"seeds":[{"kind":"const","type":"string","value":"dao_epoch_info"},{"kind":"account","type":"publicKey","account":"DaoV0","path":"dao"},{"kind":"arg","type":{"defined":"CalculateUtilityScoreArgsV0"},"path":"args.epoch"}]}},{"name":"subDaoEpochInfo","isMut":true,"isSigner":false,"pda":{"seeds":[{"kind":"const","type":"string","value":"sub_dao_epoch_info"},{"kind":"account","type":"publicKey","account":"SubDaoV0","path":"sub_dao"},{"kind":"arg","type":{"defined":"CalculateUtilityScoreArgsV0"},"path":"args.epoch"}]}},{"name":"clock","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"args","type":{"defined":"CalculateUtilityScoreArgsV0"}}]},{"name":"issueRewardsV0","accounts":[{"name":"dao","isMut":false,"isSigner":false,"relations":["hnt_mint"]},{"name":"subDao","isMut":false,"isSigner":false,"relations":["dao","treasury","dnt_mint","rewards_escrow"]},{"name":"daoEpochInfo","isMut":false,"isSigner":false,"pda":{"seeds":[{"kind":"const","type":"string","value":"dao_epoch_info"},{"kind":"account","type":"publicKey","account":"DaoV0","path":"dao"},{"kind":"arg","type":{"defined":"IssueRewardsArgsV0"},"path":"args.epoch"}]},"relations":["dao"]},{"name":"subDaoEpochInfo","isMut":false,"isSigner":false,"pda":{"seeds":[{"kind":"const","type":"string","value":"sub_dao_epoch_info"},{"kind":"account","type":"publicKey","account":"SubDaoV0","path":"sub_dao"},{"kind":"arg","type":{"defined":"IssueRewardsArgsV0"},"path":"args.epoch"}]},"relations":["sub_dao"]},{"name":"hntCircuitBreaker","isMut":true,"isSigner":false,"pda":{"seeds":[{"kind":"const","type":"string","value":"mint_windowed_breaker"},{"kind":"account","type":"publicKey","account":"Mint","path":"hnt_mint"}],"programId":{"kind":"account","type":"publicKey","path":"circuit_breaker_program"}}},{"name":"dntCircuitBreaker","isMut":true,"isSigner":false,"pda":{"seeds":[{"kind":"const","type":"string","value":"mint_windowed_breaker"},{"kind":"account","type":"publicKey","account":"Mint","path":"dnt_mint"}],"programId":{"kind":"account","type":"publicKey","path":"circuit_breaker_program"}}},{"name":"hntMint","isMut":true,"isSigner":false},{"name":"dntMint","isMut":true,"isSigner":false},{"name":"treasury","isMut":true,"isSigner":false},{"name":"rewardsEscrow","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"circuitBreakerProgram","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false}],"args":[{"name":"args","type":{"defined":"IssueRewardsArgsV0"}}]}],"accounts":[{"name":"DaoV0","type":{"kind":"struct","fields":[{"name":"hntMint","type":"publicKey"},{"name":"dcMint","type":"publicKey"},{"name":"authority","type":"publicKey"},{"name":"numSubDaos","type":"u32"},{"name":"emissionSchedule","type":{"vec":{"defined":"EmissionScheduleItem"}}},{"name":"bumpSeed","type":"u8"}]}},{"name":"DaoEpochInfoV0","type":{"kind":"struct","fields":[{"name":"epoch","type":"u64"},{"name":"dao","type":"publicKey"},{"name":"totalUtilityScore","docs":["Precise number with 12 decimals"],"type":"u128"},{"name":"numUtilityScoresCalculated","type":"u32"},{"name":"numRewardsIssued","type":"u32"},{"name":"doneIssuingRewards","type":"bool"},{"name":"bumpSeed","type":"u8"}]}},{"name":"SubDaoEpochInfoV0","type":{"kind":"struct","fields":[{"name":"epoch","type":"u64"},{"name":"subDao","type":"publicKey"},{"name":"totalDevices","type":"u64"},{"name":"dcBurned","type":"u64"},{"name":"utilityScore","docs":["Precise number with 12 decimals"],"type":{"option":"u128"}},{"name":"rewardsIssued","type":"bool"},{"name":"bumpSeed","type":"u8"}]}},{"name":"SubDaoV0","type":{"kind":"struct","fields":[{"name":"dao","type":"publicKey"},{"name":"dntMint","type":"publicKey"},{"name":"treasury","type":"publicKey"},{"name":"rewardsEscrow","type":"publicKey"},{"name":"authority","type":"publicKey"},{"name":"totalDevices","type":"u64"},{"name":"emissionSchedule","type":{"vec":{"defined":"EmissionScheduleItem"}}},{"name":"bumpSeed","type":"u8"}]}}],"types":[{"name":"WindowedCircuitBreakerConfigV0","type":{"kind":"struct","fields":[{"name":"windowSizeSeconds","type":"u64"},{"name":"thresholdType","type":{"defined":"ThresholdType"}},{"name":"threshold","type":"u64"}]}},{"name":"CalculateUtilityScoreArgsV0","type":{"kind":"struct","fields":[{"name":"epoch","type":"u64"}]}},{"name":"InitializeDaoArgsV0","type":{"kind":"struct","fields":[{"name":"authority","type":"publicKey"},{"name":"emissionSchedule","type":{"vec":{"defined":"EmissionScheduleItem"}}}]}},{"name":"InitializeSubDaoArgsV0","type":{"kind":"struct","fields":[{"name":"authority","type":"publicKey"},{"name":"emissionSchedule","type":{"vec":{"defined":"EmissionScheduleItem"}}},{"name":"treasuryCurve","type":{"defined":"Curve"}},{"name":"treasuryWindowConfig","type":{"defined":"WindowedCircuitBreakerConfigV0"}}]}},{"name":"IssueRewardsArgsV0","type":{"kind":"struct","fields":[{"name":"epoch","type":"u64"}]}},{"name":"TrackAddedDeviceArgsV0","type":{"kind":"struct","fields":[{"name":"authorityBump","type":"u8"},{"name":"symbol","type":"string"}]}},{"name":"TrackDcBurnArgsV0","type":{"kind":"struct","fields":[{"name":"dcBurned","type":"u64"},{"name":"bump","type":"u8"}]}},{"name":"EmissionScheduleItem","type":{"kind":"struct","fields":[{"name":"startUnixTime","type":"i64"},{"name":"emissionsPerEpoch","type":"u64"}]}},{"name":"ThresholdType","type":{"kind":"enum","variants":[{"name":"Percent"},{"name":"Absolute"}]}},{"name":"Curve","type":{"kind":"enum","variants":[{"name":"ExponentialCurveV0","fields":[{"name":"k","type":"u128"}]}]}}],"errors":[{"code":6000,"name":"InvalidDataIncrease","msg":"The realloc increase was too large"},{"code":6001,"name":"ArithmeticError","msg":"Error in arithmetic"},{"code":6002,"name":"UtilityScoreAlreadyCalculated","msg":"Utility score was already calculated for this sub dao"},{"code":6003,"name":"EpochNotOver","msg":"Cannot calculate rewards until the epoch is over"},{"code":6004,"name":"MissingUtilityScores","msg":"All utility scores must be calculated before rewards can be issued"},{"code":6005,"name":"NoUtilityScore","msg":"The subdao does not have a utility score"}]}