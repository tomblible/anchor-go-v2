// Code generated by https://github.com/gagliardetto/anchor-go. DO NOT EDIT.
// This file contains documentation and example usage for the generated code.

package system_program

import (
	"crypto/sha256"
	"errors"
	"github.com/gagliardetto/solana-go"
)

// Ported from https://github.com/solana-labs/solana/blob/216983c50e0a618facc39aa07472ba6d23f1b33a/sdk/program/src/pubkey.rs#L159
func FindSeedAddress(base solana.PublicKey, seed string) (solana.PublicKey, error) {
	if len(seed) > 32 {
		return solana.PublicKey{}, errors.New("seed too long")
	}
	b := make([]byte, 0, 64+len(seed))
	b = append(b, base[:]...)
	b = append(b, seed[:]...)
	b = append(b, ProgramID[:]...)
	hash := sha256.Sum256(b)
	return solana.PublicKeyFromBytes(hash[:]), nil
}

func MustFindSeedAddress(base solana.PublicKey, seed string) solana.PublicKey {
	address, _ := FindSeedAddress(base, seed)
	return address
}
